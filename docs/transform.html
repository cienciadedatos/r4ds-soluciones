<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>5 Transformación de datos | R para Ciencia de Datos: Soluciones de los ejercicios</title>
  <meta name="description" content="Propuestas de soluciones para los ejercicios del libro R para Ciencia de Datos" />
  <meta name="generator" content="bookdown 0.19 and GitBook 2.6.7" />

  <meta property="og:title" content="5 Transformación de datos | R para Ciencia de Datos: Soluciones de los ejercicios" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="http://cienciadedatos.github.io/r4ds-soluciones" />
  <meta property="og:image" content="http://cienciadedatos.github.io/r4ds-solucionescover.png" />
  <meta property="og:description" content="Propuestas de soluciones para los ejercicios del libro R para Ciencia de Datos" />
  <meta name="github-repo" content="cienciadedatos/r4ds-soluciones" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="5 Transformación de datos | R para Ciencia de Datos: Soluciones de los ejercicios" />
  
  <meta name="twitter:description" content="Propuestas de soluciones para los ejercicios del libro R para Ciencia de Datos" />
  <meta name="twitter:image" content="http://cienciadedatos.github.io/r4ds-solucionescover.png" />

<meta name="author" content="Riva Quiroga" />
<meta name="author" content="Mauricio ‘Pachá’ Vargas" />
<meta name="author" content="Gabriela Sandoval" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="flujo-de-trabajo-conocimientos-básicos.html"/>
<link rel="next" href="flujo-de-trabajo-scripts.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<script src="libs/htmlwidgets-1.5.1/htmlwidgets.js"></script>
<link href="libs/str_view-0.1.0/str_view.css" rel="stylesheet" />
<script src="libs/str_view-binding-1.4.0/str_view.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="r4ds.min.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><strong><a href="./">Soluciones R para Ciencia de Datos</a></strong></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Bienvenida</a></li>
<li class="chapter" data-level="1" data-path="introducción.html"><a href="introducción.html"><i class="fa fa-check"></i><b>1</b> Introducción</a></li>
<li class="part"><span><b>I Explorar</b></span></li>
<li class="chapter" data-level="2" data-path="introducción-1.html"><a href="introducción-1.html"><i class="fa fa-check"></i><b>2</b> Introducción</a></li>
<li class="chapter" data-level="3" data-path="visualización-de-datos.html"><a href="visualización-de-datos.html"><i class="fa fa-check"></i><b>3</b> Visualización de datos</a><ul>
<li class="chapter" data-level="3.1" data-path="visualización-de-datos.html"><a href="visualización-de-datos.html#introducción-2"><i class="fa fa-check"></i><b>3.1</b> Introducción</a></li>
<li class="chapter" data-level="" data-path="visualización-de-datos.html"><a href="visualización-de-datos.html#primeros-pasos"><i class="fa fa-check"></i>3.2 Primeros pasos</a><ul>
<li class="chapter" data-level="" data-path="visualización-de-datos.html"><a href="visualización-de-datos.html#ejercicios-324"><i class="fa fa-check"></i>3.2.4 Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="visualización-de-datos.html"><a href="visualización-de-datos.html#mapeos-esteticos"><i class="fa fa-check"></i>3.3 Mapeos estéticos</a><ul>
<li class="chapter" data-level="" data-path="visualización-de-datos.html"><a href="visualización-de-datos.html#ejercicios-331"><i class="fa fa-check"></i>3.3.1 Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="visualización-de-datos.html"><a href="visualización-de-datos.html#separar-facetas"><i class="fa fa-check"></i>3.5 Separar en facetas</a><ul>
<li class="chapter" data-level="" data-path="visualización-de-datos.html"><a href="visualización-de-datos.html#ejercicios-351"><i class="fa fa-check"></i>3.5.1 Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="visualización-de-datos.html"><a href="visualización-de-datos.html#objetos-geometricos"><i class="fa fa-check"></i>3.6 Objetos geométricos</a><ul>
<li class="chapter" data-level="" data-path="visualización-de-datos.html"><a href="visualización-de-datos.html#ejercicios-361"><i class="fa fa-check"></i>3.6.1 Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="visualización-de-datos.html"><a href="visualización-de-datos.html#transformaciones-estadisticas"><i class="fa fa-check"></i>3.7 Transformaciones estadísticas</a><ul>
<li class="chapter" data-level="" data-path="visualización-de-datos.html"><a href="visualización-de-datos.html#ejercicios-371"><i class="fa fa-check"></i>3.7.1 Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="visualización-de-datos.html"><a href="visualización-de-datos.html#ajustes-posicion"><i class="fa fa-check"></i>3.8 Ajustes de posición</a><ul>
<li class="chapter" data-level="" data-path="visualización-de-datos.html"><a href="visualización-de-datos.html#ejercicios-381"><i class="fa fa-check"></i>3.8.1 Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="visualización-de-datos.html"><a href="visualización-de-datos.html#sistemas-coordenadas"><i class="fa fa-check"></i>3.9 Sistemas de coordenadas</a><ul>
<li class="chapter" data-level="" data-path="visualización-de-datos.html"><a href="visualización-de-datos.html#ejercicios-391"><i class="fa fa-check"></i>3.9.1 Ejercicios</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="flujo-de-trabajo-conocimientos-básicos.html"><a href="flujo-de-trabajo-conocimientos-básicos.html"><i class="fa fa-check"></i><b>4</b> Flujo de trabajo: conocimientos básicos</a><ul>
<li class="chapter" data-level="" data-path="flujo-de-trabajo-conocimientos-básicos.html"><a href="flujo-de-trabajo-conocimientos-básicos.html#ejercicios-41"><i class="fa fa-check"></i>4.4 Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="transform.html"><a href="transform.html"><i class="fa fa-check"></i><b>5</b> Transformación de datos</a><ul>
<li class="chapter" data-level="5.1" data-path="transform.html"><a href="transform.html#introducción-3"><i class="fa fa-check"></i><b>5.1</b> Introducción</a></li>
<li><a href="transform.html#filter">5.2 Filtrar filas con <code>filter()</code></a><ul>
<li class="chapter" data-level="" data-path="transform.html"><a href="transform.html#ejercicios-524"><i class="fa fa-check"></i>5.2.4 Ejercicios</a></li>
</ul></li>
<li><a href="transform.html#arrange">5.3 Reordenar las filas con <code>arrange()</code></a><ul>
<li class="chapter" data-level="" data-path="transform.html"><a href="transform.html#ejercicios-531"><i class="fa fa-check"></i>5.3.1 Ejercicios</a></li>
</ul></li>
<li><a href="transform.html#select">5.4 Seleccionar columnas con <code>select()</code></a><ul>
<li class="chapter" data-level="" data-path="transform.html"><a href="transform.html#ejercicios-541"><i class="fa fa-check"></i>5.4.1 Ejercicios</a></li>
</ul></li>
<li><a href="transform.html#mutate">5.5 Añadir nuevas variables con <code>mutate()</code></a><ul>
<li class="chapter" data-level="" data-path="transform.html"><a href="transform.html#ejercicios-552"><i class="fa fa-check"></i>5.5.2 Ejercicios</a></li>
</ul></li>
<li><a href="transform.html#sumamarise">5.6 Resúmenes agrupados con <code>summarise()</code></a><ul>
<li class="chapter" data-level="" data-path="transform.html"><a href="transform.html#ejercicios-567"><i class="fa fa-check"></i>5.6.7 Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="transform.html"><a href="transform.html#mutate-filter"><i class="fa fa-check"></i>5.7 Transformaciones agrupadas (y filtros)</a><ul>
<li class="chapter" data-level="" data-path="transform.html"><a href="transform.html#ejercicios-571"><i class="fa fa-check"></i>5.7.1 Ejercicios</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="flujo-de-trabajo-scripts.html"><a href="flujo-de-trabajo-scripts.html"><i class="fa fa-check"></i><b>6</b> Flujo de trabajo: <em>Scripts</em></a><ul>
<li class="chapter" data-level="" data-path="flujo-de-trabajo-scripts.html"><a href="flujo-de-trabajo-scripts.html#ejercicios-63"><i class="fa fa-check"></i>6.3 Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="análisis-exploratorio-de-datos-eda.html"><a href="análisis-exploratorio-de-datos-eda.html"><i class="fa fa-check"></i><b>7</b> Análisis exploratorio de datos (<em>EDA</em>)</a><ul>
<li class="chapter" data-level="7.1" data-path="análisis-exploratorio-de-datos-eda.html"><a href="análisis-exploratorio-de-datos-eda.html#introducción-4"><i class="fa fa-check"></i><b>7.1</b> Introducción</a></li>
<li class="chapter" data-level="" data-path="análisis-exploratorio-de-datos-eda.html"><a href="análisis-exploratorio-de-datos-eda.html#preguntas"><i class="fa fa-check"></i>7.3 Variación</a><ul>
<li class="chapter" data-level="" data-path="análisis-exploratorio-de-datos-eda.html"><a href="análisis-exploratorio-de-datos-eda.html#ejercicios-734"><i class="fa fa-check"></i>7.3.4 Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="análisis-exploratorio-de-datos-eda.html"><a href="análisis-exploratorio-de-datos-eda.html#valores-faltantes"><i class="fa fa-check"></i>7.4 Valores faltantes</a><ul>
<li class="chapter" data-level="" data-path="análisis-exploratorio-de-datos-eda.html"><a href="análisis-exploratorio-de-datos-eda.html#ejercicios-741"><i class="fa fa-check"></i>7.4.1 Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="análisis-exploratorio-de-datos-eda.html"><a href="análisis-exploratorio-de-datos-eda.html#covariacion"><i class="fa fa-check"></i>7.5 Covariación</a><ul>
<li class="chapter" data-level="" data-path="análisis-exploratorio-de-datos-eda.html"><a href="análisis-exploratorio-de-datos-eda.html#categorica-continua"><i class="fa fa-check"></i>7.5.1 Una variable categórica y otra continua</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="análisis-exploratorio-de-datos-eda.html"><a href="análisis-exploratorio-de-datos-eda.html#categorica"><i class="fa fa-check"></i>7.5.2 Dos variables categóricas</a><ul>
<li class="chapter" data-level="" data-path="análisis-exploratorio-de-datos-eda.html"><a href="análisis-exploratorio-de-datos-eda.html#ejercicios-7521"><i class="fa fa-check"></i>7.5.2.1 Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="análisis-exploratorio-de-datos-eda.html"><a href="análisis-exploratorio-de-datos-eda.html#continuas"><i class="fa fa-check"></i>7.5.3 Dos variables continuas</a><ul>
<li class="chapter" data-level="" data-path="análisis-exploratorio-de-datos-eda.html"><a href="análisis-exploratorio-de-datos-eda.html#ejercicios-7532"><i class="fa fa-check"></i>7.5.3.1 Ejercicios</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="workflow-projects.html"><a href="workflow-projects.html"><i class="fa fa-check"></i><b>8</b> Workflow: projects</a></li>
<li class="part"><span><b>II Manejar o domar datos</b></span></li>
<li class="chapter" data-level="9" data-path="introducción-5.html"><a href="introducción-5.html"><i class="fa fa-check"></i><b>9</b> Introducción</a></li>
<li class="chapter" data-level="10" data-path="tibbles.html"><a href="tibbles.html"><i class="fa fa-check"></i><b>10</b> Tibbles</a><ul>
<li class="chapter" data-level="" data-path="tibbles.html"><a href="tibbles.html#ejercicios-105"><i class="fa fa-check"></i>10.5 Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="importación-de-datos.html"><a href="importación-de-datos.html"><i class="fa fa-check"></i><b>11</b> Importación de datos</a><ul>
<li class="chapter" data-level="" data-path="importación-de-datos.html"><a href="importación-de-datos.html#comenzando"><i class="fa fa-check"></i>11.2 Comenzando</a><ul>
<li class="chapter" data-level="" data-path="importación-de-datos.html"><a href="importación-de-datos.html#ejercicios-1122"><i class="fa fa-check"></i>11.2.2 Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="importación-de-datos.html"><a href="importación-de-datos.html#segmentar-vector"><i class="fa fa-check"></i>11.3 Segmentar un vector</a><ul>
<li class="chapter" data-level="" data-path="importación-de-datos.html"><a href="importación-de-datos.html#ejercicios-1135"><i class="fa fa-check"></i>11.3.5 Ejercicios</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="datos-ordenados.html"><a href="datos-ordenados.html"><i class="fa fa-check"></i><b>12</b> Datos ordenados</a><ul>
<li class="chapter" data-level="" data-path="datos-ordenados.html"><a href="datos-ordenados.html#datos-ordenados122"><i class="fa fa-check"></i>12.2 Datos ordenados</a><ul>
<li class="chapter" data-level="" data-path="datos-ordenados.html"><a href="datos-ordenados.html#ejercicios-1221"><i class="fa fa-check"></i>12.2.1 Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="datos-ordenados.html"><a href="datos-ordenados.html#pivotar"><i class="fa fa-check"></i>12.3 Pivotar</a><ul>
<li class="chapter" data-level="" data-path="datos-ordenados.html"><a href="datos-ordenados.html#ejercicios-1233"><i class="fa fa-check"></i>12.3.3 Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="datos-ordenados.html"><a href="datos-ordenados.html#separar-unir"><i class="fa fa-check"></i>12.4 Separar y unir</a><ul>
<li class="chapter" data-level="" data-path="datos-ordenados.html"><a href="datos-ordenados.html#ejercicios-1243"><i class="fa fa-check"></i>12.4.3 Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="datos-ordenados.html"><a href="datos-ordenados.html#valores-faltantes125"><i class="fa fa-check"></i>12.5 Valores faltantes</a><ul>
<li class="chapter" data-level="" data-path="datos-ordenados.html"><a href="datos-ordenados.html#ejercicios-1251"><i class="fa fa-check"></i>12.5.1 Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="datos-ordenados.html"><a href="datos-ordenados.html#estudio-caso"><i class="fa fa-check"></i>12.6 Estudio de caso</a><ul>
<li class="chapter" data-level="" data-path="datos-ordenados.html"><a href="datos-ordenados.html#ejercicios-1261"><i class="fa fa-check"></i>12.6.1 Ejercicios</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="datos-relacionales.html"><a href="datos-relacionales.html"><i class="fa fa-check"></i><b>13</b> Datos relacionales</a><ul>
<li class="chapter" data-level="" data-path="datos-relacionales.html"><a href="datos-relacionales.html#vuelos-relacionales"><i class="fa fa-check"></i>13.2 Datos sobre vuelos</a><ul>
<li class="chapter" data-level="" data-path="datos-relacionales.html"><a href="datos-relacionales.html#ejercicios-1321"><i class="fa fa-check"></i>13.2.1 Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="datos-relacionales.html"><a href="datos-relacionales.html#claves"><i class="fa fa-check"></i>13.3 Claves</a><ul>
<li class="chapter" data-level="" data-path="datos-relacionales.html"><a href="datos-relacionales.html#ejercicios-1331"><i class="fa fa-check"></i>13.3.1 Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="13.1" data-path="datos-relacionales.html"><a href="datos-relacionales.html#mutating-joins"><i class="fa fa-check"></i><b>13.1</b> 13.4 Uniones de transformación</a><ul>
<li class="chapter" data-level="" data-path="datos-relacionales.html"><a href="datos-relacionales.html#ejercicios-1346"><i class="fa fa-check"></i>13.4.6 Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="13.2" data-path="datos-relacionales.html"><a href="datos-relacionales.html#filtering-joins"><i class="fa fa-check"></i><b>13.2</b> 13.5 Uniones de filtro</a><ul>
<li class="chapter" data-level="" data-path="datos-relacionales.html"><a href="datos-relacionales.html#ejercicios-1351"><i class="fa fa-check"></i>13.5.1 Ejercicios</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="14" data-path="cadenas-de-caracteres.html"><a href="cadenas-de-caracteres.html"><i class="fa fa-check"></i><b>14</b> Cadenas de caracteres</a><ul>
<li class="chapter" data-level="" data-path="cadenas-de-caracteres.html"><a href="cadenas-de-caracteres.html#cadena-basics"><i class="fa fa-check"></i>14.2 Cadenas: elementos básicos</a><ul>
<li class="chapter" data-level="" data-path="cadenas-de-caracteres.html"><a href="cadenas-de-caracteres.html#ejercicios-1425"><i class="fa fa-check"></i>14.2.5 Ejercicios</a></li>
<li class="chapter" data-level="" data-path="cadenas-de-caracteres.html"><a href="cadenas-de-caracteres.html#coincidencia"><i class="fa fa-check"></i>14.2.6 Buscar coincidencia de patrones con expresiones regulares</a></li>
<li class="chapter" data-level="" data-path="cadenas-de-caracteres.html"><a href="cadenas-de-caracteres.html#anclas"><i class="fa fa-check"></i>14.2.8 Anclas</a></li>
<li class="chapter" data-level="" data-path="cadenas-de-caracteres.html"><a href="cadenas-de-caracteres.html#clases-caracteres"><i class="fa fa-check"></i>14.2.9 Clases de caracteres y alternativas</a></li>
<li class="chapter" data-level="" data-path="cadenas-de-caracteres.html"><a href="cadenas-de-caracteres.html#repeticion"><i class="fa fa-check"></i>14.2.10 Repetición</a></li>
<li class="chapter" data-level="" data-path="cadenas-de-caracteres.html"><a href="cadenas-de-caracteres.html#agrupamiento"><i class="fa fa-check"></i>14.2.11 Agrupamiento y referencias previas</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="cadenas-de-caracteres.html"><a href="cadenas-de-caracteres.html#herramientas"><i class="fa fa-check"></i>14.3 Herramientas</a><ul>
<li class="chapter" data-level="" data-path="cadenas-de-caracteres.html"><a href="cadenas-de-caracteres.html#ejercicios-1432"><i class="fa fa-check"></i>14.3.2 Ejercicios</a></li>
<li class="chapter" data-level="" data-path="cadenas-de-caracteres.html"><a href="cadenas-de-caracteres.html#extraer-coincidencias"><i class="fa fa-check"></i>14.3.3 Extraer coincidencias</a></li>
<li class="chapter" data-level="" data-path="cadenas-de-caracteres.html"><a href="cadenas-de-caracteres.html#coincidencias-agrupadas"><i class="fa fa-check"></i>14.3.4 Coincidencias agrupadas</a></li>
<li class="chapter" data-level="" data-path="cadenas-de-caracteres.html"><a href="cadenas-de-caracteres.html#remplazar-coincidencias"><i class="fa fa-check"></i>14.3.5 Remplazar coincidencias</a></li>
<li class="chapter" data-level="" data-path="cadenas-de-caracteres.html"><a href="cadenas-de-caracteres.html#divisiones"><i class="fa fa-check"></i>14.3.6 Divisiones</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="cadenas-de-caracteres.html"><a href="cadenas-de-caracteres.html#otros-patrones144"><i class="fa fa-check"></i>14.4 Otro tipo de patrones</a><ul>
<li class="chapter" data-level="" data-path="cadenas-de-caracteres.html"><a href="cadenas-de-caracteres.html#ejercicios-1441"><i class="fa fa-check"></i>14.4.1 Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="cadenas-de-caracteres.html"><a href="cadenas-de-caracteres.html#stringi"><i class="fa fa-check"></i>14.6 stringi</a><ul>
<li class="chapter" data-level="" data-path="cadenas-de-caracteres.html"><a href="cadenas-de-caracteres.html#ejercicios-1461"><i class="fa fa-check"></i>14.6.1 Ejercicios</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="15" data-path="factores.html"><a href="factores.html"><i class="fa fa-check"></i><b>15</b> Factores</a><ul>
<li class="chapter" data-level="" data-path="factores.html"><a href="factores.html#encuesta"><i class="fa fa-check"></i>15.3 Encuesta social general</a><ul>
<li class="chapter" data-level="" data-path="factores.html"><a href="factores.html#ejercicios-1531"><i class="fa fa-check"></i>15.3.1 Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="factores.html"><a href="factores.html#modificar-factores"><i class="fa fa-check"></i>15.4 Modificar el orden de los factores</a><ul>
<li class="chapter" data-level="" data-path="factores.html"><a href="factores.html#ejercicios-1541"><i class="fa fa-check"></i>15.4.1 Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="factores.html"><a href="factores.html#modificar-niveles"><i class="fa fa-check"></i>15.5 Modificar los niveles de los factores</a><ul>
<li class="chapter" data-level="" data-path="factores.html"><a href="factores.html#ejercicios-1551"><i class="fa fa-check"></i>15.5.1 Ejercicios</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="16" data-path="horas-y-fechas.html"><a href="horas-y-fechas.html"><i class="fa fa-check"></i><b>16</b> Horas y fechas</a><ul>
<li class="chapter" data-level="" data-path="horas-y-fechas.html"><a href="horas-y-fechas.html#crear-horas"><i class="fa fa-check"></i>16.2 Creando horas/fechas</a><ul>
<li class="chapter" data-level="" data-path="horas-y-fechas.html"><a href="horas-y-fechas.html#ejercicios-1624"><i class="fa fa-check"></i>16.2.4 Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="horas-y-fechas.html"><a href="horas-y-fechas.html#componentes-fecha"><i class="fa fa-check"></i>16.3 Componentes fecha-hora</a><ul>
<li class="chapter" data-level="" data-path="horas-y-fechas.html"><a href="horas-y-fechas.html#ejercicios-1634"><i class="fa fa-check"></i>16.3.4 Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="horas-y-fechas.html"><a href="horas-y-fechas.html#lapsos-tiempo"><i class="fa fa-check"></i>16.4 Lapsos de tiempo</a><ul>
<li class="chapter" data-level="" data-path="horas-y-fechas.html"><a href="horas-y-fechas.html#ejercicios-1645"><i class="fa fa-check"></i>16.4.5 Ejercicios</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>III Programar</b></span></li>
<li class="chapter" data-level="17" data-path="introducción-6.html"><a href="introducción-6.html"><i class="fa fa-check"></i><b>17</b> Introducción</a></li>
<li class="chapter" data-level="18" data-path="pipes.html"><a href="pipes.html"><i class="fa fa-check"></i><b>18</b> Pipes</a></li>
<li class="chapter" data-level="19" data-path="funciones.html"><a href="funciones.html"><i class="fa fa-check"></i><b>19</b> Funciones</a><ul>
<li class="chapter" data-level="" data-path="funciones.html"><a href="funciones.html#escribir-funcion"><i class="fa fa-check"></i>19.2 ¿Cuándo deberías escribir una función?</a><ul>
<li class="chapter" data-level="" data-path="funciones.html"><a href="funciones.html#ejercicios-1921"><i class="fa fa-check"></i>19.2.1 Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="funciones.html"><a href="funciones.html#funciones-humanos"><i class="fa fa-check"></i>19.3 Las funciones son para los humanos y las computadoras</a><ul>
<li class="chapter" data-level="" data-path="funciones.html"><a href="funciones.html#ejercicios-1931"><i class="fa fa-check"></i>19.3.1 Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="funciones.html"><a href="funciones.html#ejecucion-condicional"><i class="fa fa-check"></i>19.4 Ejecución condicional</a><ul>
<li class="chapter" data-level="" data-path="funciones.html"><a href="funciones.html#ejercicios-1944"><i class="fa fa-check"></i>19.4.4 Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="funciones.html"><a href="funciones.html#argumentos-funciones"><i class="fa fa-check"></i>19.5 Argumentos de funciones</a><ul>
<li class="chapter" data-level="" data-path="funciones.html"><a href="funciones.html#ejercicios-1955"><i class="fa fa-check"></i>19.5.5 Ejercicios</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="20" data-path="vectores.html"><a href="vectores.html"><i class="fa fa-check"></i><b>20</b> Vectores</a><ul>
<li class="chapter" data-level="" data-path="vectores.html"><a href="vectores.html#vectores-atomicos"><i class="fa fa-check"></i>20.3 Tipos importantes de vectores atómicos</a><ul>
<li class="chapter" data-level="" data-path="vectores.html"><a href="vectores.html#ejercicios-2035"><i class="fa fa-check"></i>20.3.5 Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="vectores.html"><a href="vectores.html#uso-vectores"><i class="fa fa-check"></i>20.4 Usando vectores atómicos</a><ul>
<li class="chapter" data-level="" data-path="vectores.html"><a href="vectores.html#ejercicios-2046"><i class="fa fa-check"></i>20.4.6 Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="vectores.html"><a href="vectores.html#listas"><i class="fa fa-check"></i>20.5 Vectores Recursivos (listas)</a><ul>
<li class="chapter" data-level="" data-path="vectores.html"><a href="vectores.html#ejercicios-2054"><i class="fa fa-check"></i>20.5.4 Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="vectores.html"><a href="vectores.html#vectores-aumentados"><i class="fa fa-check"></i>20.7 Vectores Aumentados</a><ul>
<li class="chapter" data-level="" data-path="vectores.html"><a href="vectores.html#ejercicios-2074"><i class="fa fa-check"></i>20.7.4 Ejecicios</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="21" data-path="iteración.html"><a href="iteración.html"><i class="fa fa-check"></i><b>21</b> Iteración</a><ul>
<li><a href="iteración.html#bucles-for">21.2 Bucles <em>for</em></a><ul>
<li class="chapter" data-level="" data-path="iteración.html"><a href="iteración.html#ejercicios2121"><i class="fa fa-check"></i>21.2.1 Ejercicios</a></li>
</ul></li>
<li><a href="iteración.html#variaciones-bucles">21.3 Variaciones de bucles <em>for</em></a><ul>
<li class="chapter" data-level="" data-path="iteración.html"><a href="iteración.html#ejercicios-2135"><i class="fa fa-check"></i>21.3.5 Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="21.1" data-path="iteración.html"><a href="iteración.html#bucles-for-vs.-funcionales-for-funcionales"><i class="fa fa-check"></i><b>21.1</b> 21.4 Bucles <em>for</em> vs. funcionales{-for-funcionales</a><ul>
<li class="chapter" data-level="" data-path="iteración.html"><a href="iteración.html#ejercicios-2141"><i class="fa fa-check"></i>21.4.1 Ejercicios</a></li>
</ul></li>
<li><a href="iteración.html#funciones-map">21.5 Las funciones <em>map</em></a><ul>
<li class="chapter" data-level="" data-path="iteración.html"><a href="iteración.html#ejercicios-2153"><i class="fa fa-check"></i>21.5.3 Ejercicios</a></li>
</ul></li>
<li><a href="iteración.html#otros-patrones">21.9.1 Otros patrones para los bucles <em>for</em></a><ul>
<li class="chapter" data-level="" data-path="iteración.html"><a href="iteración.html#ejercicios-2193"><i class="fa fa-check"></i>21.9.3 Ejercicios</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>IV Modelar</b></span></li>
<li class="chapter" data-level="22" data-path="introducción-7.html"><a href="introducción-7.html"><i class="fa fa-check"></i><b>22</b> Introducción</a></li>
<li class="chapter" data-level="23" data-path="modelos-conceptos-básicos.html"><a href="modelos-conceptos-básicos.html"><i class="fa fa-check"></i><b>23</b> Modelos: conceptos básicos</a><ul>
<li class="chapter" data-level="" data-path="modelos-conceptos-básicos.html"><a href="modelos-conceptos-básicos.html#modelo-simple"><i class="fa fa-check"></i>23.2 Un modelo simple</a><ul>
<li class="chapter" data-level="" data-path="modelos-conceptos-básicos.html"><a href="modelos-conceptos-básicos.html#ejercicios-2321"><i class="fa fa-check"></i>23.2.1 Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="modelos-conceptos-básicos.html"><a href="modelos-conceptos-básicos.html#visualizando-modelos"><i class="fa fa-check"></i>23.3 Visualizando modelos</a><ul>
<li class="chapter" data-level="" data-path="modelos-conceptos-básicos.html"><a href="modelos-conceptos-básicos.html#ejercicios-2333"><i class="fa fa-check"></i>23.3.3 Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="modelos-conceptos-básicos.html"><a href="modelos-conceptos-básicos.html#familias-modelos"><i class="fa fa-check"></i>23.4 Fórmulas y familias de modelos</a><ul>
<li class="chapter" data-level="" data-path="modelos-conceptos-básicos.html"><a href="modelos-conceptos-básicos.html#ejercicios-2345"><i class="fa fa-check"></i>23.4.5 Ejercicios</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="24" data-path="construcción-de-modelos.html"><a href="construcción-de-modelos.html"><i class="fa fa-check"></i><b>24</b> Construcción de modelos</a><ul>
<li class="chapter" data-level="" data-path="construcción-de-modelos.html"><a href="construcción-de-modelos.html#diamantes-caros"><i class="fa fa-check"></i>24.2 ¿Por qué los diamantes de baja calidad son más caros?</a><ul>
<li class="chapter" data-level="" data-path="construcción-de-modelos.html"><a href="construcción-de-modelos.html#ejercicios-2423"><i class="fa fa-check"></i>24.2.3 Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="construcción-de-modelos.html"><a href="construcción-de-modelos.html#vuelos-diarios"><i class="fa fa-check"></i>24.3 ¿Qué afecta el número de vuelos diarios?</a><ul>
<li class="chapter" data-level="" data-path="construcción-de-modelos.html"><a href="construcción-de-modelos.html#ejercicios-2435"><i class="fa fa-check"></i>24.3.5 Ejercicios</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="25" data-path="muchos-modelos.html"><a href="muchos-modelos.html"><i class="fa fa-check"></i><b>25</b> Muchos modelos</a><ul>
<li class="chapter" data-level="" data-path="muchos-modelos.html"><a href="muchos-modelos.html#gapminder"><i class="fa fa-check"></i>25.2 gapminder</a><ul>
<li class="chapter" data-level="" data-path="muchos-modelos.html"><a href="muchos-modelos.html#ejercicios-2525"><i class="fa fa-check"></i>25.2.5 Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="muchos-modelos.html"><a href="muchos-modelos.html#columnas-lista"><i class="fa fa-check"></i>25.4 Creando columnas-lista</a><ul>
<li class="chapter" data-level="" data-path="muchos-modelos.html"><a href="muchos-modelos.html#ejercicios-2545"><i class="fa fa-check"></i>25.4.5 Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="muchos-modelos.html"><a href="muchos-modelos.html#simplificando"><i class="fa fa-check"></i>25.5 Simplificando columnas-lista</a><ul>
<li class="chapter" data-level="" data-path="muchos-modelos.html"><a href="muchos-modelos.html#ejercicios-2553"><i class="fa fa-check"></i>25.5.3 Ejercicios</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>V Comunicar</b></span></li>
<li class="chapter" data-level="26" data-path="introducción-8.html"><a href="introducción-8.html"><i class="fa fa-check"></i><b>26</b> Introducción</a></li>
<li class="chapter" data-level="27" data-path="r-markdown.html"><a href="r-markdown.html"><i class="fa fa-check"></i><b>27</b> R Markdown</a><ul>
<li class="chapter" data-level="" data-path="r-markdown.html"><a href="r-markdown.html#rmarkdown-basico"><i class="fa fa-check"></i>27.2 R Markdown básico</a><ul>
<li class="chapter" data-level="" data-path="r-markdown.html"><a href="r-markdown.html#ejercicios-2721"><i class="fa fa-check"></i>27.2.1 Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="r-markdown.html"><a href="r-markdown.html#formateo-texto"><i class="fa fa-check"></i>27.3 Formateo de texto con Markdown</a><ul>
<li class="chapter" data-level="" data-path="r-markdown.html"><a href="r-markdown.html#ejercicios-2731"><i class="fa fa-check"></i>27.3.1 Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="r-markdown.html"><a href="r-markdown.html#bloques-codigo"><i class="fa fa-check"></i>27.4 Bloques de código</a><ul>
<li class="chapter" data-level="" data-path="r-markdown.html"><a href="r-markdown.html#ejercicios-2747"><i class="fa fa-check"></i>27.4.7 Ejercicios</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="28" data-path="comunicar-con-gráficos.html"><a href="comunicar-con-gráficos.html"><i class="fa fa-check"></i><b>28</b> Comunicar con gráficos</a><ul>
<li class="chapter" data-level="" data-path="comunicar-con-gráficos.html"><a href="comunicar-con-gráficos.html#etiquetas"><i class="fa fa-check"></i>2.8 Etiquetas</a><ul>
<li class="chapter" data-level="" data-path="comunicar-con-gráficos.html"><a href="comunicar-con-gráficos.html#ejercicios-2821"><i class="fa fa-check"></i>28.2.1 Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="comunicar-con-gráficos.html"><a href="comunicar-con-gráficos.html#anotaciones"><i class="fa fa-check"></i>28.3 Anotaciones</a><ul>
<li class="chapter" data-level="" data-path="comunicar-con-gráficos.html"><a href="comunicar-con-gráficos.html#ejercicios-2831"><i class="fa fa-check"></i>28.3.1 Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="comunicar-con-gráficos.html"><a href="comunicar-con-gráficos.html#escalas"><i class="fa fa-check"></i>28.4 Escalas</a><ul>
<li class="chapter" data-level="" data-path="comunicar-con-gráficos.html"><a href="comunicar-con-gráficos.html#ejercicios-2844"><i class="fa fa-check"></i>28.4.4 Ejercicios</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="29" data-path="r-markdown-formats.html"><a href="r-markdown-formats.html"><i class="fa fa-check"></i><b>29</b> R Markdown formats</a></li>
<li class="chapter" data-level="30" data-path="flujo-de-trabajo-en-r-markdown.html"><a href="flujo-de-trabajo-en-r-markdown.html"><i class="fa fa-check"></i><b>30</b> Flujo de trabajo en R Markdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R para Ciencia de Datos: Soluciones de los ejercicios</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="transform" class="section level1">
<h1><span class="header-section-number">5</span> Transformación de datos</h1>
<div id="introducción-3" class="section level2">
<h2><span class="header-section-number">5.1</span> Introducción</h2>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="transform.html#cb68-1"></a><span class="kw">library</span>(tidyverse)</span>
<span id="cb68-2"><a href="transform.html#cb68-2"></a><span class="kw">library</span>(datos)</span></code></pre></div>
</div>
<div id="filter" class="section level2 unnumbered">
<h2>5.2 Filtrar filas con <code>filter()</code></h2>
<div id="ejercicios-524" class="section level3 unnumbered">
<h3>5.2.4 Ejercicios</h3>
<ol style="list-style-type: decimal">
<li><p>Encuentra todos los vuelos que:</p></li>
<li><p>Tuvieron un retraso de llegada de dos o más horas</p></li>
</ol>
<div class="solucion">
<h3>
Solución
</h3>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb69-1"><a href="transform.html#cb69-1"></a><span class="kw">filter</span>(vuelos, atraso_llegada <span class="op">&gt;=</span><span class="st"> </span><span class="dv">120</span>)</span>
<span id="cb69-2"><a href="transform.html#cb69-2"></a><span class="co">#&gt; # A tibble: 10,200 x 19</span></span>
<span id="cb69-3"><a href="transform.html#cb69-3"></a><span class="co">#&gt;    anio   mes   dia horario_salida salida_programa… atraso_salida</span></span>
<span id="cb69-4"><a href="transform.html#cb69-4"></a><span class="co">#&gt;   &lt;int&gt; &lt;int&gt; &lt;int&gt;          &lt;int&gt;            &lt;int&gt;         &lt;dbl&gt;</span></span>
<span id="cb69-5"><a href="transform.html#cb69-5"></a><span class="co">#&gt; 1  2013     1     1            811              630           101</span></span>
<span id="cb69-6"><a href="transform.html#cb69-6"></a><span class="co">#&gt; 2  2013     1     1            848             1835           853</span></span>
<span id="cb69-7"><a href="transform.html#cb69-7"></a><span class="co">#&gt; 3  2013     1     1            957              733           144</span></span>
<span id="cb69-8"><a href="transform.html#cb69-8"></a><span class="co">#&gt; 4  2013     1     1           1114              900           134</span></span>
<span id="cb69-9"><a href="transform.html#cb69-9"></a><span class="co">#&gt; 5  2013     1     1           1505             1310           115</span></span>
<span id="cb69-10"><a href="transform.html#cb69-10"></a><span class="co">#&gt; 6  2013     1     1           1525             1340           105</span></span>
<span id="cb69-11"><a href="transform.html#cb69-11"></a><span class="co">#&gt; # … with 10,194 more rows, and 13 more variables: horario_llegada &lt;int&gt;,</span></span>
<span id="cb69-12"><a href="transform.html#cb69-12"></a><span class="co">#&gt; #   llegada_programada &lt;int&gt;, atraso_llegada &lt;dbl&gt;, aerolinea &lt;chr&gt;,</span></span>
<span id="cb69-13"><a href="transform.html#cb69-13"></a><span class="co">#&gt; #   vuelo &lt;int&gt;, codigo_cola &lt;chr&gt;, origen &lt;chr&gt;, destino &lt;chr&gt;,</span></span>
<span id="cb69-14"><a href="transform.html#cb69-14"></a><span class="co">#&gt; #   tiempo_vuelo &lt;dbl&gt;, distancia &lt;dbl&gt;, hora &lt;dbl&gt;, minuto &lt;dbl&gt;,</span></span>
<span id="cb69-15"><a href="transform.html#cb69-15"></a><span class="co">#&gt; #   fecha_hora &lt;dttm&gt;</span></span></code></pre></div>
</div>
<ol start="2" style="list-style-type: decimal">
<li>Volaron a Houston (<code>IAH</code> o<code>HOU</code>)</li>
</ol>
<div class="solucion">
<h3>
Solución
</h3>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="transform.html#cb70-1"></a><span class="co">#Opcion 1</span></span>
<span id="cb70-2"><a href="transform.html#cb70-2"></a><span class="kw">filter</span>(vuelos, destino <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;IAH&quot;</span>, <span class="st">&quot;HOU&quot;</span>))</span>
<span id="cb70-3"><a href="transform.html#cb70-3"></a><span class="co">#&gt; # A tibble: 9,313 x 19</span></span>
<span id="cb70-4"><a href="transform.html#cb70-4"></a><span class="co">#&gt;    anio   mes   dia horario_salida salida_programa… atraso_salida</span></span>
<span id="cb70-5"><a href="transform.html#cb70-5"></a><span class="co">#&gt;   &lt;int&gt; &lt;int&gt; &lt;int&gt;          &lt;int&gt;            &lt;int&gt;         &lt;dbl&gt;</span></span>
<span id="cb70-6"><a href="transform.html#cb70-6"></a><span class="co">#&gt; 1  2013     1     1            517              515             2</span></span>
<span id="cb70-7"><a href="transform.html#cb70-7"></a><span class="co">#&gt; 2  2013     1     1            533              529             4</span></span>
<span id="cb70-8"><a href="transform.html#cb70-8"></a><span class="co">#&gt; 3  2013     1     1            623              627            -4</span></span>
<span id="cb70-9"><a href="transform.html#cb70-9"></a><span class="co">#&gt; 4  2013     1     1            728              732            -4</span></span>
<span id="cb70-10"><a href="transform.html#cb70-10"></a><span class="co">#&gt; 5  2013     1     1            739              739             0</span></span>
<span id="cb70-11"><a href="transform.html#cb70-11"></a><span class="co">#&gt; 6  2013     1     1            908              908             0</span></span>
<span id="cb70-12"><a href="transform.html#cb70-12"></a><span class="co">#&gt; # … with 9,307 more rows, and 13 more variables: horario_llegada &lt;int&gt;,</span></span>
<span id="cb70-13"><a href="transform.html#cb70-13"></a><span class="co">#&gt; #   llegada_programada &lt;int&gt;, atraso_llegada &lt;dbl&gt;, aerolinea &lt;chr&gt;,</span></span>
<span id="cb70-14"><a href="transform.html#cb70-14"></a><span class="co">#&gt; #   vuelo &lt;int&gt;, codigo_cola &lt;chr&gt;, origen &lt;chr&gt;, destino &lt;chr&gt;,</span></span>
<span id="cb70-15"><a href="transform.html#cb70-15"></a><span class="co">#&gt; #   tiempo_vuelo &lt;dbl&gt;, distancia &lt;dbl&gt;, hora &lt;dbl&gt;, minuto &lt;dbl&gt;,</span></span>
<span id="cb70-16"><a href="transform.html#cb70-16"></a><span class="co">#&gt; #   fecha_hora &lt;dttm&gt;</span></span>
<span id="cb70-17"><a href="transform.html#cb70-17"></a></span>
<span id="cb70-18"><a href="transform.html#cb70-18"></a><span class="co">#Opción 2</span></span>
<span id="cb70-19"><a href="transform.html#cb70-19"></a><span class="kw">filter</span>(vuelos,destino <span class="op">==</span><span class="st"> &quot;IAH&quot;</span> <span class="op">|</span><span class="st"> </span>destino <span class="op">==</span><span class="st">  &quot;HOU&quot;</span> )</span>
<span id="cb70-20"><a href="transform.html#cb70-20"></a><span class="co">#&gt; # A tibble: 9,313 x 19</span></span>
<span id="cb70-21"><a href="transform.html#cb70-21"></a><span class="co">#&gt;    anio   mes   dia horario_salida salida_programa… atraso_salida</span></span>
<span id="cb70-22"><a href="transform.html#cb70-22"></a><span class="co">#&gt;   &lt;int&gt; &lt;int&gt; &lt;int&gt;          &lt;int&gt;            &lt;int&gt;         &lt;dbl&gt;</span></span>
<span id="cb70-23"><a href="transform.html#cb70-23"></a><span class="co">#&gt; 1  2013     1     1            517              515             2</span></span>
<span id="cb70-24"><a href="transform.html#cb70-24"></a><span class="co">#&gt; 2  2013     1     1            533              529             4</span></span>
<span id="cb70-25"><a href="transform.html#cb70-25"></a><span class="co">#&gt; 3  2013     1     1            623              627            -4</span></span>
<span id="cb70-26"><a href="transform.html#cb70-26"></a><span class="co">#&gt; 4  2013     1     1            728              732            -4</span></span>
<span id="cb70-27"><a href="transform.html#cb70-27"></a><span class="co">#&gt; 5  2013     1     1            739              739             0</span></span>
<span id="cb70-28"><a href="transform.html#cb70-28"></a><span class="co">#&gt; 6  2013     1     1            908              908             0</span></span>
<span id="cb70-29"><a href="transform.html#cb70-29"></a><span class="co">#&gt; # … with 9,307 more rows, and 13 more variables: horario_llegada &lt;int&gt;,</span></span>
<span id="cb70-30"><a href="transform.html#cb70-30"></a><span class="co">#&gt; #   llegada_programada &lt;int&gt;, atraso_llegada &lt;dbl&gt;, aerolinea &lt;chr&gt;,</span></span>
<span id="cb70-31"><a href="transform.html#cb70-31"></a><span class="co">#&gt; #   vuelo &lt;int&gt;, codigo_cola &lt;chr&gt;, origen &lt;chr&gt;, destino &lt;chr&gt;,</span></span>
<span id="cb70-32"><a href="transform.html#cb70-32"></a><span class="co">#&gt; #   tiempo_vuelo &lt;dbl&gt;, distancia &lt;dbl&gt;, hora &lt;dbl&gt;, minuto &lt;dbl&gt;,</span></span>
<span id="cb70-33"><a href="transform.html#cb70-33"></a><span class="co">#&gt; #   fecha_hora &lt;dttm&gt;</span></span></code></pre></div>
</div>
<ol start="3" style="list-style-type: decimal">
<li>Fueron operados por United, American o Delta</li>
</ol>
<div class="solucion">
<h3>
Solución
</h3>
<p>Los códigos de estas aerolíneas son <code>UA</code>, <code>AA</code> y <code>DL</code>.</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb71-1"><a href="transform.html#cb71-1"></a><span class="kw">filter</span>(vuelos, aerolinea <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;UA&quot;</span>, <span class="st">&quot;AA&quot;</span>, <span class="st">&quot;DL&quot;</span>))</span>
<span id="cb71-2"><a href="transform.html#cb71-2"></a><span class="co">#&gt; # A tibble: 139,504 x 19</span></span>
<span id="cb71-3"><a href="transform.html#cb71-3"></a><span class="co">#&gt;    anio   mes   dia horario_salida salida_programa… atraso_salida</span></span>
<span id="cb71-4"><a href="transform.html#cb71-4"></a><span class="co">#&gt;   &lt;int&gt; &lt;int&gt; &lt;int&gt;          &lt;int&gt;            &lt;int&gt;         &lt;dbl&gt;</span></span>
<span id="cb71-5"><a href="transform.html#cb71-5"></a><span class="co">#&gt; 1  2013     1     1            517              515             2</span></span>
<span id="cb71-6"><a href="transform.html#cb71-6"></a><span class="co">#&gt; 2  2013     1     1            533              529             4</span></span>
<span id="cb71-7"><a href="transform.html#cb71-7"></a><span class="co">#&gt; 3  2013     1     1            542              540             2</span></span>
<span id="cb71-8"><a href="transform.html#cb71-8"></a><span class="co">#&gt; 4  2013     1     1            554              600            -6</span></span>
<span id="cb71-9"><a href="transform.html#cb71-9"></a><span class="co">#&gt; 5  2013     1     1            554              558            -4</span></span>
<span id="cb71-10"><a href="transform.html#cb71-10"></a><span class="co">#&gt; 6  2013     1     1            558              600            -2</span></span>
<span id="cb71-11"><a href="transform.html#cb71-11"></a><span class="co">#&gt; # … with 139,498 more rows, and 13 more variables: horario_llegada &lt;int&gt;,</span></span>
<span id="cb71-12"><a href="transform.html#cb71-12"></a><span class="co">#&gt; #   llegada_programada &lt;int&gt;, atraso_llegada &lt;dbl&gt;, aerolinea &lt;chr&gt;,</span></span>
<span id="cb71-13"><a href="transform.html#cb71-13"></a><span class="co">#&gt; #   vuelo &lt;int&gt;, codigo_cola &lt;chr&gt;, origen &lt;chr&gt;, destino &lt;chr&gt;,</span></span>
<span id="cb71-14"><a href="transform.html#cb71-14"></a><span class="co">#&gt; #   tiempo_vuelo &lt;dbl&gt;, distancia &lt;dbl&gt;, hora &lt;dbl&gt;, minuto &lt;dbl&gt;,</span></span>
<span id="cb71-15"><a href="transform.html#cb71-15"></a><span class="co">#&gt; #   fecha_hora &lt;dttm&gt;</span></span></code></pre></div>
</div>
<ol start="4" style="list-style-type: decimal">
<li>Partieron en el invierno del hemisferio sur (julio, agosto y septiembre)</li>
</ol>
<div class="solucion">
<h3>
Solución
</h3>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="transform.html#cb72-1"></a><span class="kw">filter</span>(vuelos, mes <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">7</span>, <span class="dv">8</span>, <span class="dv">9</span>))</span>
<span id="cb72-2"><a href="transform.html#cb72-2"></a><span class="co">#&gt; # A tibble: 86,326 x 19</span></span>
<span id="cb72-3"><a href="transform.html#cb72-3"></a><span class="co">#&gt;    anio   mes   dia horario_salida salida_programa… atraso_salida</span></span>
<span id="cb72-4"><a href="transform.html#cb72-4"></a><span class="co">#&gt;   &lt;int&gt; &lt;int&gt; &lt;int&gt;          &lt;int&gt;            &lt;int&gt;         &lt;dbl&gt;</span></span>
<span id="cb72-5"><a href="transform.html#cb72-5"></a><span class="co">#&gt; 1  2013     7     1              1             2029           212</span></span>
<span id="cb72-6"><a href="transform.html#cb72-6"></a><span class="co">#&gt; 2  2013     7     1              2             2359             3</span></span>
<span id="cb72-7"><a href="transform.html#cb72-7"></a><span class="co">#&gt; 3  2013     7     1             29             2245           104</span></span>
<span id="cb72-8"><a href="transform.html#cb72-8"></a><span class="co">#&gt; 4  2013     7     1             43             2130           193</span></span>
<span id="cb72-9"><a href="transform.html#cb72-9"></a><span class="co">#&gt; 5  2013     7     1             44             2150           174</span></span>
<span id="cb72-10"><a href="transform.html#cb72-10"></a><span class="co">#&gt; 6  2013     7     1             46             2051           235</span></span>
<span id="cb72-11"><a href="transform.html#cb72-11"></a><span class="co">#&gt; # … with 86,320 more rows, and 13 more variables: horario_llegada &lt;int&gt;,</span></span>
<span id="cb72-12"><a href="transform.html#cb72-12"></a><span class="co">#&gt; #   llegada_programada &lt;int&gt;, atraso_llegada &lt;dbl&gt;, aerolinea &lt;chr&gt;,</span></span>
<span id="cb72-13"><a href="transform.html#cb72-13"></a><span class="co">#&gt; #   vuelo &lt;int&gt;, codigo_cola &lt;chr&gt;, origen &lt;chr&gt;, destino &lt;chr&gt;,</span></span>
<span id="cb72-14"><a href="transform.html#cb72-14"></a><span class="co">#&gt; #   tiempo_vuelo &lt;dbl&gt;, distancia &lt;dbl&gt;, hora &lt;dbl&gt;, minuto &lt;dbl&gt;,</span></span>
<span id="cb72-15"><a href="transform.html#cb72-15"></a><span class="co">#&gt; #   fecha_hora &lt;dttm&gt;</span></span></code></pre></div>
</div>
<ol start="5" style="list-style-type: decimal">
<li>Llegaron más de dos horas tarde, pero no salieron tarde</li>
</ol>
<div class="solucion">
<h3>
Solución
</h3>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb73-1"><a href="transform.html#cb73-1"></a><span class="kw">filter</span>(vuelos, atraso_salida <span class="op">&lt;=</span><span class="st"> </span><span class="dv">0</span> <span class="op">&amp;</span><span class="st"> </span>atraso_llegada <span class="op">&gt;</span><span class="st"> </span><span class="dv">120</span>)</span>
<span id="cb73-2"><a href="transform.html#cb73-2"></a><span class="co">#&gt; # A tibble: 29 x 19</span></span>
<span id="cb73-3"><a href="transform.html#cb73-3"></a><span class="co">#&gt;    anio   mes   dia horario_salida salida_programa… atraso_salida</span></span>
<span id="cb73-4"><a href="transform.html#cb73-4"></a><span class="co">#&gt;   &lt;int&gt; &lt;int&gt; &lt;int&gt;          &lt;int&gt;            &lt;int&gt;         &lt;dbl&gt;</span></span>
<span id="cb73-5"><a href="transform.html#cb73-5"></a><span class="co">#&gt; 1  2013     1    27           1419             1420            -1</span></span>
<span id="cb73-6"><a href="transform.html#cb73-6"></a><span class="co">#&gt; 2  2013    10     7           1350             1350             0</span></span>
<span id="cb73-7"><a href="transform.html#cb73-7"></a><span class="co">#&gt; 3  2013    10     7           1357             1359            -2</span></span>
<span id="cb73-8"><a href="transform.html#cb73-8"></a><span class="co">#&gt; 4  2013    10    16            657              700            -3</span></span>
<span id="cb73-9"><a href="transform.html#cb73-9"></a><span class="co">#&gt; 5  2013    11     1            658              700            -2</span></span>
<span id="cb73-10"><a href="transform.html#cb73-10"></a><span class="co">#&gt; 6  2013     3    18           1844             1847            -3</span></span>
<span id="cb73-11"><a href="transform.html#cb73-11"></a><span class="co">#&gt; # … with 23 more rows, and 13 more variables: horario_llegada &lt;int&gt;,</span></span>
<span id="cb73-12"><a href="transform.html#cb73-12"></a><span class="co">#&gt; #   llegada_programada &lt;int&gt;, atraso_llegada &lt;dbl&gt;, aerolinea &lt;chr&gt;,</span></span>
<span id="cb73-13"><a href="transform.html#cb73-13"></a><span class="co">#&gt; #   vuelo &lt;int&gt;, codigo_cola &lt;chr&gt;, origen &lt;chr&gt;, destino &lt;chr&gt;,</span></span>
<span id="cb73-14"><a href="transform.html#cb73-14"></a><span class="co">#&gt; #   tiempo_vuelo &lt;dbl&gt;, distancia &lt;dbl&gt;, hora &lt;dbl&gt;, minuto &lt;dbl&gt;,</span></span>
<span id="cb73-15"><a href="transform.html#cb73-15"></a><span class="co">#&gt; #   fecha_hora &lt;dttm&gt;</span></span></code></pre></div>
</div>
<ol start="6" style="list-style-type: decimal">
<li>Se retrasaron por lo menos una hora, pero repusieron más de 30 minutos en vuelo</li>
</ol>
<div class="solucion">
<h3>
Solución
</h3>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb74-1"><a href="transform.html#cb74-1"></a><span class="kw">filter</span>(vuelos, atraso_salida <span class="op">&gt;=</span><span class="st"> </span><span class="dv">60</span> <span class="op">&amp;</span><span class="st"> </span>atraso_salida <span class="op">-</span><span class="st"> </span>atraso_llegada <span class="op">&gt;</span><span class="st"> </span><span class="dv">30</span>)</span>
<span id="cb74-2"><a href="transform.html#cb74-2"></a><span class="co">#&gt; # A tibble: 1,844 x 19</span></span>
<span id="cb74-3"><a href="transform.html#cb74-3"></a><span class="co">#&gt;    anio   mes   dia horario_salida salida_programa… atraso_salida</span></span>
<span id="cb74-4"><a href="transform.html#cb74-4"></a><span class="co">#&gt;   &lt;int&gt; &lt;int&gt; &lt;int&gt;          &lt;int&gt;            &lt;int&gt;         &lt;dbl&gt;</span></span>
<span id="cb74-5"><a href="transform.html#cb74-5"></a><span class="co">#&gt; 1  2013     1     1           2205             1720           285</span></span>
<span id="cb74-6"><a href="transform.html#cb74-6"></a><span class="co">#&gt; 2  2013     1     1           2326             2130           116</span></span>
<span id="cb74-7"><a href="transform.html#cb74-7"></a><span class="co">#&gt; 3  2013     1     3           1503             1221           162</span></span>
<span id="cb74-8"><a href="transform.html#cb74-8"></a><span class="co">#&gt; 4  2013     1     3           1839             1700            99</span></span>
<span id="cb74-9"><a href="transform.html#cb74-9"></a><span class="co">#&gt; 5  2013     1     3           1850             1745            65</span></span>
<span id="cb74-10"><a href="transform.html#cb74-10"></a><span class="co">#&gt; 6  2013     1     3           1941             1759           102</span></span>
<span id="cb74-11"><a href="transform.html#cb74-11"></a><span class="co">#&gt; # … with 1,838 more rows, and 13 more variables: horario_llegada &lt;int&gt;,</span></span>
<span id="cb74-12"><a href="transform.html#cb74-12"></a><span class="co">#&gt; #   llegada_programada &lt;int&gt;, atraso_llegada &lt;dbl&gt;, aerolinea &lt;chr&gt;,</span></span>
<span id="cb74-13"><a href="transform.html#cb74-13"></a><span class="co">#&gt; #   vuelo &lt;int&gt;, codigo_cola &lt;chr&gt;, origen &lt;chr&gt;, destino &lt;chr&gt;,</span></span>
<span id="cb74-14"><a href="transform.html#cb74-14"></a><span class="co">#&gt; #   tiempo_vuelo &lt;dbl&gt;, distancia &lt;dbl&gt;, hora &lt;dbl&gt;, minuto &lt;dbl&gt;,</span></span>
<span id="cb74-15"><a href="transform.html#cb74-15"></a><span class="co">#&gt; #   fecha_hora &lt;dttm&gt;</span></span></code></pre></div>
</div>
<ol start="7" style="list-style-type: decimal">
<li>Partieron entre la medianoche y las 6 a.m. (incluyente)</li>
</ol>
<div class="solucion">
<h3>
Solución
</h3>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb75-1"><a href="transform.html#cb75-1"></a><span class="kw">filter</span>(vuelos,horario_salida <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">600</span>) <span class="op">|</span><span class="st"> </span>horario_salida <span class="op">==</span><span class="st"> </span><span class="dv">2400</span> )</span>
<span id="cb75-2"><a href="transform.html#cb75-2"></a><span class="co">#&gt; # A tibble: 9,373 x 19</span></span>
<span id="cb75-3"><a href="transform.html#cb75-3"></a><span class="co">#&gt;    anio   mes   dia horario_salida salida_programa… atraso_salida</span></span>
<span id="cb75-4"><a href="transform.html#cb75-4"></a><span class="co">#&gt;   &lt;int&gt; &lt;int&gt; &lt;int&gt;          &lt;int&gt;            &lt;int&gt;         &lt;dbl&gt;</span></span>
<span id="cb75-5"><a href="transform.html#cb75-5"></a><span class="co">#&gt; 1  2013     1     1            517              515             2</span></span>
<span id="cb75-6"><a href="transform.html#cb75-6"></a><span class="co">#&gt; 2  2013     1     1            533              529             4</span></span>
<span id="cb75-7"><a href="transform.html#cb75-7"></a><span class="co">#&gt; 3  2013     1     1            542              540             2</span></span>
<span id="cb75-8"><a href="transform.html#cb75-8"></a><span class="co">#&gt; 4  2013     1     1            544              545            -1</span></span>
<span id="cb75-9"><a href="transform.html#cb75-9"></a><span class="co">#&gt; 5  2013     1     1            554              600            -6</span></span>
<span id="cb75-10"><a href="transform.html#cb75-10"></a><span class="co">#&gt; 6  2013     1     1            554              558            -4</span></span>
<span id="cb75-11"><a href="transform.html#cb75-11"></a><span class="co">#&gt; # … with 9,367 more rows, and 13 more variables: horario_llegada &lt;int&gt;,</span></span>
<span id="cb75-12"><a href="transform.html#cb75-12"></a><span class="co">#&gt; #   llegada_programada &lt;int&gt;, atraso_llegada &lt;dbl&gt;, aerolinea &lt;chr&gt;,</span></span>
<span id="cb75-13"><a href="transform.html#cb75-13"></a><span class="co">#&gt; #   vuelo &lt;int&gt;, codigo_cola &lt;chr&gt;, origen &lt;chr&gt;, destino &lt;chr&gt;,</span></span>
<span id="cb75-14"><a href="transform.html#cb75-14"></a><span class="co">#&gt; #   tiempo_vuelo &lt;dbl&gt;, distancia &lt;dbl&gt;, hora &lt;dbl&gt;, minuto &lt;dbl&gt;,</span></span>
<span id="cb75-15"><a href="transform.html#cb75-15"></a><span class="co">#&gt; #   fecha_hora &lt;dttm&gt;</span></span></code></pre></div>
</div>
<ol start="2" style="list-style-type: decimal">
<li>Otra función de <strong>dplyr</strong> útil para usar filtros es <code>between()</code>. ¿Qué hace? ¿Puedes usarlo para simplificar el código necesario para responder a los desafíos anteriores?</li>
</ol>
<div class="solucion">
<h3>
Solución
</h3>
<p>Esta función del paquete <strong>dplyr</strong> permite abreviar la escritura de código que tiene esta estructura <code>x &gt;= derecha &amp; x &lt;= izquierda</code> por <code>between(x, derecha, izquierda)</code>.</p>
<p>Podemos reescribir el código para encontrar los vuelos que partieron en el invierno del hemisferio sur así:</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="transform.html#cb76-1"></a><span class="kw">filter</span>(vuelos, <span class="kw">between</span>(mes, <span class="dv">7</span>, <span class="dv">9</span>))</span>
<span id="cb76-2"><a href="transform.html#cb76-2"></a><span class="co">#&gt; # A tibble: 86,326 x 19</span></span>
<span id="cb76-3"><a href="transform.html#cb76-3"></a><span class="co">#&gt;    anio   mes   dia horario_salida salida_programa… atraso_salida</span></span>
<span id="cb76-4"><a href="transform.html#cb76-4"></a><span class="co">#&gt;   &lt;int&gt; &lt;int&gt; &lt;int&gt;          &lt;int&gt;            &lt;int&gt;         &lt;dbl&gt;</span></span>
<span id="cb76-5"><a href="transform.html#cb76-5"></a><span class="co">#&gt; 1  2013     7     1              1             2029           212</span></span>
<span id="cb76-6"><a href="transform.html#cb76-6"></a><span class="co">#&gt; 2  2013     7     1              2             2359             3</span></span>
<span id="cb76-7"><a href="transform.html#cb76-7"></a><span class="co">#&gt; 3  2013     7     1             29             2245           104</span></span>
<span id="cb76-8"><a href="transform.html#cb76-8"></a><span class="co">#&gt; 4  2013     7     1             43             2130           193</span></span>
<span id="cb76-9"><a href="transform.html#cb76-9"></a><span class="co">#&gt; 5  2013     7     1             44             2150           174</span></span>
<span id="cb76-10"><a href="transform.html#cb76-10"></a><span class="co">#&gt; 6  2013     7     1             46             2051           235</span></span>
<span id="cb76-11"><a href="transform.html#cb76-11"></a><span class="co">#&gt; # … with 86,320 more rows, and 13 more variables: horario_llegada &lt;int&gt;,</span></span>
<span id="cb76-12"><a href="transform.html#cb76-12"></a><span class="co">#&gt; #   llegada_programada &lt;int&gt;, atraso_llegada &lt;dbl&gt;, aerolinea &lt;chr&gt;,</span></span>
<span id="cb76-13"><a href="transform.html#cb76-13"></a><span class="co">#&gt; #   vuelo &lt;int&gt;, codigo_cola &lt;chr&gt;, origen &lt;chr&gt;, destino &lt;chr&gt;,</span></span>
<span id="cb76-14"><a href="transform.html#cb76-14"></a><span class="co">#&gt; #   tiempo_vuelo &lt;dbl&gt;, distancia &lt;dbl&gt;, hora &lt;dbl&gt;, minuto &lt;dbl&gt;,</span></span>
<span id="cb76-15"><a href="transform.html#cb76-15"></a><span class="co">#&gt; #   fecha_hora &lt;dttm&gt;</span></span></code></pre></div>
</div>
<ol start="3" style="list-style-type: decimal">
<li>¿Cuántos vuelos tienen datos faltantes de <code>horario_salida</code>? ¿Qué otras variables tienen valores faltantes? ¿Qué representan estas filas?</li>
</ol>
<div class="solucion">
<h3>
Solución
</h3>
<p>Podemos buscar datos faltantes con la función <code>is.na</code>.</p>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb77-1"><a href="transform.html#cb77-1"></a><span class="kw">filter</span>(vuelos, <span class="kw">is.na</span>(horario_salida))</span>
<span id="cb77-2"><a href="transform.html#cb77-2"></a><span class="co">#&gt; # A tibble: 8,255 x 19</span></span>
<span id="cb77-3"><a href="transform.html#cb77-3"></a><span class="co">#&gt;    anio   mes   dia horario_salida salida_programa… atraso_salida</span></span>
<span id="cb77-4"><a href="transform.html#cb77-4"></a><span class="co">#&gt;   &lt;int&gt; &lt;int&gt; &lt;int&gt;          &lt;int&gt;            &lt;int&gt;         &lt;dbl&gt;</span></span>
<span id="cb77-5"><a href="transform.html#cb77-5"></a><span class="co">#&gt; 1  2013     1     1             NA             1630            NA</span></span>
<span id="cb77-6"><a href="transform.html#cb77-6"></a><span class="co">#&gt; 2  2013     1     1             NA             1935            NA</span></span>
<span id="cb77-7"><a href="transform.html#cb77-7"></a><span class="co">#&gt; 3  2013     1     1             NA             1500            NA</span></span>
<span id="cb77-8"><a href="transform.html#cb77-8"></a><span class="co">#&gt; 4  2013     1     1             NA              600            NA</span></span>
<span id="cb77-9"><a href="transform.html#cb77-9"></a><span class="co">#&gt; 5  2013     1     2             NA             1540            NA</span></span>
<span id="cb77-10"><a href="transform.html#cb77-10"></a><span class="co">#&gt; 6  2013     1     2             NA             1620            NA</span></span>
<span id="cb77-11"><a href="transform.html#cb77-11"></a><span class="co">#&gt; # … with 8,249 more rows, and 13 more variables: horario_llegada &lt;int&gt;,</span></span>
<span id="cb77-12"><a href="transform.html#cb77-12"></a><span class="co">#&gt; #   llegada_programada &lt;int&gt;, atraso_llegada &lt;dbl&gt;, aerolinea &lt;chr&gt;,</span></span>
<span id="cb77-13"><a href="transform.html#cb77-13"></a><span class="co">#&gt; #   vuelo &lt;int&gt;, codigo_cola &lt;chr&gt;, origen &lt;chr&gt;, destino &lt;chr&gt;,</span></span>
<span id="cb77-14"><a href="transform.html#cb77-14"></a><span class="co">#&gt; #   tiempo_vuelo &lt;dbl&gt;, distancia &lt;dbl&gt;, hora &lt;dbl&gt;, minuto &lt;dbl&gt;,</span></span>
<span id="cb77-15"><a href="transform.html#cb77-15"></a><span class="co">#&gt; #   fecha_hora &lt;dttm&gt;</span></span></code></pre></div>
<p>Los vuelos que tienen <code>NA</code> en su horario de salida, también lo tienen en el horario de llegada, por lo que se puede inferir que son vuelos que fueron cancelados.</p>
</div>
<ol start="4" style="list-style-type: decimal">
<li>¿Por qué <code>NA ^ 0</code> no es faltante? ¿Por qué <code>NA | TRUE</code> no es faltante? ¿Por qué <code>FALSE &amp; NA</code> no es faltante? ¿Puedes descubrir la regla general? (¡<code>NA * 0</code> es un contraejemplo complicado!)</li>
</ol>
<div class="solucion">
<h3>
Solución
</h3>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="transform.html#cb78-1"></a>x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="ot">NA</span>) </span>
<span id="cb78-2"><a href="transform.html#cb78-2"></a></span>
<span id="cb78-3"><a href="transform.html#cb78-3"></a><span class="kw">is.na</span>(x)</span>
<span id="cb78-4"><a href="transform.html#cb78-4"></a><span class="co">#&gt; [1] TRUE</span></span></code></pre></div>
<p>La función <code>is.na()</code> determina si falta un valor y devuelve un valor lógico <code>TRUE</code> en los casos en que es NA (Not Available).</p>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb79-1"><a href="transform.html#cb79-1"></a>x<span class="op">^</span><span class="dv">0</span></span>
<span id="cb79-2"><a href="transform.html#cb79-2"></a><span class="co">#&gt; [1] 1</span></span></code></pre></div>
<p>Dado que el NA podría tomar cualquier valor, es práctico pensar que cualquier número (aunque sea muy grande) a la potencia cero es igual a 1.</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="transform.html#cb80-1"></a>x <span class="op">|</span><span class="st"> </span><span class="ot">TRUE</span></span>
<span id="cb80-2"><a href="transform.html#cb80-2"></a><span class="co">#&gt; [1] TRUE</span></span></code></pre></div>
<p>Es igual a TRUE pues el NA se entiende como un valor lógico (<code>TRUE</code> or <code>FALSE</code>) y por lógica proposicional <code>TRUE</code> | <code>TRUE</code> y <code>FALSE</code> | <code>TRUE</code> es siempre igual a <code>TRUE</code>.</p>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb81-1"><a href="transform.html#cb81-1"></a>x <span class="op">&amp;</span><span class="st"> </span><span class="ot">FALSE</span></span>
<span id="cb81-2"><a href="transform.html#cb81-2"></a><span class="co">#&gt; [1] FALSE</span></span></code></pre></div>
<p>Es igual a <code>TRUE</code> pues el NA se entiende como un valor lógico (<code>TRUE</code> or <code>FALSE</code>) y por lógica proposicional <code>TRUE</code>&amp;<code>FALSE</code> y <code>FALSE</code>&amp;<code>FALSE</code> es siempre <code>FALSE</code>.</p>
<p>El contraejemplo a la regla general:</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="transform.html#cb82-1"></a>x <span class="op">*</span><span class="st"> </span><span class="dv">0</span></span>
<span id="cb82-2"><a href="transform.html#cb82-2"></a><span class="co">#&gt; [1] NA</span></span></code></pre></div>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb83-1"><a href="transform.html#cb83-1"></a><span class="ot">Inf</span><span class="op">*</span><span class="dv">0</span></span>
<span id="cb83-2"><a href="transform.html#cb83-2"></a><span class="co">#&gt; [1] NaN</span></span></code></pre></div>
<p>En este contraejemplo puede ser útil pensar que el <code>NA</code> puede tomar cualquier valor, incluso podría ser un número muy grande; el cual al multiplicarse por cero nos da una indeterminación que <code>R</code> define como <code>NaN</code> (Not a Number). Por otro lado, si el <code>NA</code> fuese un valor pequeño, entonces <code>NA*0</code> sería igual a cero. Luego, es mejor pensar en <code>x*0</code> como un <code>NA</code> porque no sabemos en cual de los dos casos anteriores estamos.</p>
</div>
</div>
</div>
<div id="arrange" class="section level2 unnumbered">
<h2>5.3 Reordenar las filas con <code>arrange()</code></h2>
<div id="ejercicios-531" class="section level3 unnumbered">
<h3>5.3.1 Ejercicios</h3>
<ol style="list-style-type: decimal">
<li>¿Cómo podrías usar <code>arrange()</code> para ordenar todos los valores faltantes al comienzo? (Sugerencia: usa <code>is.na()</code>).</li>
</ol>
<div class="solucion">
<h3>
Solución
</h3>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="transform.html#cb84-1"></a><span class="kw">arrange</span>(vuelos,<span class="kw">desc</span>(<span class="kw">is.na</span>(tiempo_vuelo)))</span>
<span id="cb84-2"><a href="transform.html#cb84-2"></a><span class="co">#&gt; # A tibble: 336,776 x 19</span></span>
<span id="cb84-3"><a href="transform.html#cb84-3"></a><span class="co">#&gt;    anio   mes   dia horario_salida salida_programa… atraso_salida</span></span>
<span id="cb84-4"><a href="transform.html#cb84-4"></a><span class="co">#&gt;   &lt;int&gt; &lt;int&gt; &lt;int&gt;          &lt;int&gt;            &lt;int&gt;         &lt;dbl&gt;</span></span>
<span id="cb84-5"><a href="transform.html#cb84-5"></a><span class="co">#&gt; 1  2013     1     1           1525             1530            -5</span></span>
<span id="cb84-6"><a href="transform.html#cb84-6"></a><span class="co">#&gt; 2  2013     1     1           1528             1459            29</span></span>
<span id="cb84-7"><a href="transform.html#cb84-7"></a><span class="co">#&gt; 3  2013     1     1           1740             1745            -5</span></span>
<span id="cb84-8"><a href="transform.html#cb84-8"></a><span class="co">#&gt; 4  2013     1     1           1807             1738            29</span></span>
<span id="cb84-9"><a href="transform.html#cb84-9"></a><span class="co">#&gt; 5  2013     1     1           1939             1840            59</span></span>
<span id="cb84-10"><a href="transform.html#cb84-10"></a><span class="co">#&gt; 6  2013     1     1           1952             1930            22</span></span>
<span id="cb84-11"><a href="transform.html#cb84-11"></a><span class="co">#&gt; # … with 336,770 more rows, and 13 more variables: horario_llegada &lt;int&gt;,</span></span>
<span id="cb84-12"><a href="transform.html#cb84-12"></a><span class="co">#&gt; #   llegada_programada &lt;int&gt;, atraso_llegada &lt;dbl&gt;, aerolinea &lt;chr&gt;,</span></span>
<span id="cb84-13"><a href="transform.html#cb84-13"></a><span class="co">#&gt; #   vuelo &lt;int&gt;, codigo_cola &lt;chr&gt;, origen &lt;chr&gt;, destino &lt;chr&gt;,</span></span>
<span id="cb84-14"><a href="transform.html#cb84-14"></a><span class="co">#&gt; #   tiempo_vuelo &lt;dbl&gt;, distancia &lt;dbl&gt;, hora &lt;dbl&gt;, minuto &lt;dbl&gt;,</span></span>
<span id="cb84-15"><a href="transform.html#cb84-15"></a><span class="co">#&gt; #   fecha_hora &lt;dttm&gt;</span></span></code></pre></div>
<p>Se usa la variable <code>tiempo_vuelo</code> porque es la que contiene mayor número de NA´s.</p>
</div>
<ol start="2" style="list-style-type: decimal">
<li>Ordena <code>vuelos</code> para encontrar los vuelos más retrasados. Encuentra los vuelos que salieron más temprano.</li>
</ol>
<div class="solucion">
<h3>
Solución
</h3>
<p>Vuelos que salieron con más retraso</p>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb85-1"><a href="transform.html#cb85-1"></a><span class="kw">arrange</span>(vuelos, <span class="kw">desc</span>(atraso_salida))</span>
<span id="cb85-2"><a href="transform.html#cb85-2"></a><span class="co">#&gt; # A tibble: 336,776 x 19</span></span>
<span id="cb85-3"><a href="transform.html#cb85-3"></a><span class="co">#&gt;    anio   mes   dia horario_salida salida_programa… atraso_salida</span></span>
<span id="cb85-4"><a href="transform.html#cb85-4"></a><span class="co">#&gt;   &lt;int&gt; &lt;int&gt; &lt;int&gt;          &lt;int&gt;            &lt;int&gt;         &lt;dbl&gt;</span></span>
<span id="cb85-5"><a href="transform.html#cb85-5"></a><span class="co">#&gt; 1  2013     1     9            641              900          1301</span></span>
<span id="cb85-6"><a href="transform.html#cb85-6"></a><span class="co">#&gt; 2  2013     6    15           1432             1935          1137</span></span>
<span id="cb85-7"><a href="transform.html#cb85-7"></a><span class="co">#&gt; 3  2013     1    10           1121             1635          1126</span></span>
<span id="cb85-8"><a href="transform.html#cb85-8"></a><span class="co">#&gt; 4  2013     9    20           1139             1845          1014</span></span>
<span id="cb85-9"><a href="transform.html#cb85-9"></a><span class="co">#&gt; 5  2013     7    22            845             1600          1005</span></span>
<span id="cb85-10"><a href="transform.html#cb85-10"></a><span class="co">#&gt; 6  2013     4    10           1100             1900           960</span></span>
<span id="cb85-11"><a href="transform.html#cb85-11"></a><span class="co">#&gt; # … with 336,770 more rows, and 13 more variables: horario_llegada &lt;int&gt;,</span></span>
<span id="cb85-12"><a href="transform.html#cb85-12"></a><span class="co">#&gt; #   llegada_programada &lt;int&gt;, atraso_llegada &lt;dbl&gt;, aerolinea &lt;chr&gt;,</span></span>
<span id="cb85-13"><a href="transform.html#cb85-13"></a><span class="co">#&gt; #   vuelo &lt;int&gt;, codigo_cola &lt;chr&gt;, origen &lt;chr&gt;, destino &lt;chr&gt;,</span></span>
<span id="cb85-14"><a href="transform.html#cb85-14"></a><span class="co">#&gt; #   tiempo_vuelo &lt;dbl&gt;, distancia &lt;dbl&gt;, hora &lt;dbl&gt;, minuto &lt;dbl&gt;,</span></span>
<span id="cb85-15"><a href="transform.html#cb85-15"></a><span class="co">#&gt; #   fecha_hora &lt;dttm&gt;</span></span></code></pre></div>
<p>Vuelos que salieron más temprano</p>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="transform.html#cb86-1"></a><span class="kw">arrange</span>(vuelos, atraso_salida)</span>
<span id="cb86-2"><a href="transform.html#cb86-2"></a><span class="co">#&gt; # A tibble: 336,776 x 19</span></span>
<span id="cb86-3"><a href="transform.html#cb86-3"></a><span class="co">#&gt;    anio   mes   dia horario_salida salida_programa… atraso_salida</span></span>
<span id="cb86-4"><a href="transform.html#cb86-4"></a><span class="co">#&gt;   &lt;int&gt; &lt;int&gt; &lt;int&gt;          &lt;int&gt;            &lt;int&gt;         &lt;dbl&gt;</span></span>
<span id="cb86-5"><a href="transform.html#cb86-5"></a><span class="co">#&gt; 1  2013    12     7           2040             2123           -43</span></span>
<span id="cb86-6"><a href="transform.html#cb86-6"></a><span class="co">#&gt; 2  2013     2     3           2022             2055           -33</span></span>
<span id="cb86-7"><a href="transform.html#cb86-7"></a><span class="co">#&gt; 3  2013    11    10           1408             1440           -32</span></span>
<span id="cb86-8"><a href="transform.html#cb86-8"></a><span class="co">#&gt; 4  2013     1    11           1900             1930           -30</span></span>
<span id="cb86-9"><a href="transform.html#cb86-9"></a><span class="co">#&gt; 5  2013     1    29           1703             1730           -27</span></span>
<span id="cb86-10"><a href="transform.html#cb86-10"></a><span class="co">#&gt; 6  2013     8     9            729              755           -26</span></span>
<span id="cb86-11"><a href="transform.html#cb86-11"></a><span class="co">#&gt; # … with 336,770 more rows, and 13 more variables: horario_llegada &lt;int&gt;,</span></span>
<span id="cb86-12"><a href="transform.html#cb86-12"></a><span class="co">#&gt; #   llegada_programada &lt;int&gt;, atraso_llegada &lt;dbl&gt;, aerolinea &lt;chr&gt;,</span></span>
<span id="cb86-13"><a href="transform.html#cb86-13"></a><span class="co">#&gt; #   vuelo &lt;int&gt;, codigo_cola &lt;chr&gt;, origen &lt;chr&gt;, destino &lt;chr&gt;,</span></span>
<span id="cb86-14"><a href="transform.html#cb86-14"></a><span class="co">#&gt; #   tiempo_vuelo &lt;dbl&gt;, distancia &lt;dbl&gt;, hora &lt;dbl&gt;, minuto &lt;dbl&gt;,</span></span>
<span id="cb86-15"><a href="transform.html#cb86-15"></a><span class="co">#&gt; #   fecha_hora &lt;dttm&gt;</span></span></code></pre></div>
</div>
<ol start="3" style="list-style-type: decimal">
<li>Ordena <code>vuelos</code> para encontrar los vuelos más rápidos.</li>
</ol>
<div class="solucion">
<h3>
Solución
</h3>
<p>Si se considera que la velocidad es igual a <code>distancia</code>/<code>tiempo_vuelo</code> (distancia recorrida por minuto).</p>
<p>Los datos ordenados de forma descendente nos dará como resultado los vuelos más rápidos primero.</p>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb87-1"><a href="transform.html#cb87-1"></a><span class="kw">arrange</span>(vuelos,<span class="kw">desc</span>(distancia<span class="op">/</span>tiempo_vuelo))</span>
<span id="cb87-2"><a href="transform.html#cb87-2"></a><span class="co">#&gt; # A tibble: 336,776 x 19</span></span>
<span id="cb87-3"><a href="transform.html#cb87-3"></a><span class="co">#&gt;    anio   mes   dia horario_salida salida_programa… atraso_salida</span></span>
<span id="cb87-4"><a href="transform.html#cb87-4"></a><span class="co">#&gt;   &lt;int&gt; &lt;int&gt; &lt;int&gt;          &lt;int&gt;            &lt;int&gt;         &lt;dbl&gt;</span></span>
<span id="cb87-5"><a href="transform.html#cb87-5"></a><span class="co">#&gt; 1  2013     5    25           1709             1700             9</span></span>
<span id="cb87-6"><a href="transform.html#cb87-6"></a><span class="co">#&gt; 2  2013     7     2           1558             1513            45</span></span>
<span id="cb87-7"><a href="transform.html#cb87-7"></a><span class="co">#&gt; 3  2013     5    13           2040             2025            15</span></span>
<span id="cb87-8"><a href="transform.html#cb87-8"></a><span class="co">#&gt; 4  2013     3    23           1914             1910             4</span></span>
<span id="cb87-9"><a href="transform.html#cb87-9"></a><span class="co">#&gt; 5  2013     1    12           1559             1600            -1</span></span>
<span id="cb87-10"><a href="transform.html#cb87-10"></a><span class="co">#&gt; 6  2013    11    17            650              655            -5</span></span>
<span id="cb87-11"><a href="transform.html#cb87-11"></a><span class="co">#&gt; # … with 336,770 more rows, and 13 more variables: horario_llegada &lt;int&gt;,</span></span>
<span id="cb87-12"><a href="transform.html#cb87-12"></a><span class="co">#&gt; #   llegada_programada &lt;int&gt;, atraso_llegada &lt;dbl&gt;, aerolinea &lt;chr&gt;,</span></span>
<span id="cb87-13"><a href="transform.html#cb87-13"></a><span class="co">#&gt; #   vuelo &lt;int&gt;, codigo_cola &lt;chr&gt;, origen &lt;chr&gt;, destino &lt;chr&gt;,</span></span>
<span id="cb87-14"><a href="transform.html#cb87-14"></a><span class="co">#&gt; #   tiempo_vuelo &lt;dbl&gt;, distancia &lt;dbl&gt;, hora &lt;dbl&gt;, minuto &lt;dbl&gt;,</span></span>
<span id="cb87-15"><a href="transform.html#cb87-15"></a><span class="co">#&gt; #   fecha_hora &lt;dttm&gt;</span></span></code></pre></div>
</div>
<ol start="4" style="list-style-type: decimal">
<li>¿Cuáles vuelos viajaron más lejos? ¿Cuál viajó menos cerca?</li>
</ol>
<div class="solucion">
<h3>
Solución
</h3>
<p>Vuelos que viajaron más lejos (considerando la distancia en millas entre aeropuertos):</p>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb88-1"><a href="transform.html#cb88-1"></a><span class="kw">arrange</span>(vuelos,<span class="kw">desc</span>(distancia))</span>
<span id="cb88-2"><a href="transform.html#cb88-2"></a><span class="co">#&gt; # A tibble: 336,776 x 19</span></span>
<span id="cb88-3"><a href="transform.html#cb88-3"></a><span class="co">#&gt;    anio   mes   dia horario_salida salida_programa… atraso_salida</span></span>
<span id="cb88-4"><a href="transform.html#cb88-4"></a><span class="co">#&gt;   &lt;int&gt; &lt;int&gt; &lt;int&gt;          &lt;int&gt;            &lt;int&gt;         &lt;dbl&gt;</span></span>
<span id="cb88-5"><a href="transform.html#cb88-5"></a><span class="co">#&gt; 1  2013     1     1            857              900            -3</span></span>
<span id="cb88-6"><a href="transform.html#cb88-6"></a><span class="co">#&gt; 2  2013     1     2            909              900             9</span></span>
<span id="cb88-7"><a href="transform.html#cb88-7"></a><span class="co">#&gt; 3  2013     1     3            914              900            14</span></span>
<span id="cb88-8"><a href="transform.html#cb88-8"></a><span class="co">#&gt; 4  2013     1     4            900              900             0</span></span>
<span id="cb88-9"><a href="transform.html#cb88-9"></a><span class="co">#&gt; 5  2013     1     5            858              900            -2</span></span>
<span id="cb88-10"><a href="transform.html#cb88-10"></a><span class="co">#&gt; 6  2013     1     6           1019              900            79</span></span>
<span id="cb88-11"><a href="transform.html#cb88-11"></a><span class="co">#&gt; # … with 336,770 more rows, and 13 more variables: horario_llegada &lt;int&gt;,</span></span>
<span id="cb88-12"><a href="transform.html#cb88-12"></a><span class="co">#&gt; #   llegada_programada &lt;int&gt;, atraso_llegada &lt;dbl&gt;, aerolinea &lt;chr&gt;,</span></span>
<span id="cb88-13"><a href="transform.html#cb88-13"></a><span class="co">#&gt; #   vuelo &lt;int&gt;, codigo_cola &lt;chr&gt;, origen &lt;chr&gt;, destino &lt;chr&gt;,</span></span>
<span id="cb88-14"><a href="transform.html#cb88-14"></a><span class="co">#&gt; #   tiempo_vuelo &lt;dbl&gt;, distancia &lt;dbl&gt;, hora &lt;dbl&gt;, minuto &lt;dbl&gt;,</span></span>
<span id="cb88-15"><a href="transform.html#cb88-15"></a><span class="co">#&gt; #   fecha_hora &lt;dttm&gt;</span></span></code></pre></div>
<p>Vuelos que viajaron más cerca (considerando la distancia en millas entre aeropuertos):</p>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb89-1"><a href="transform.html#cb89-1"></a><span class="kw">arrange</span>(vuelos,distancia)</span>
<span id="cb89-2"><a href="transform.html#cb89-2"></a><span class="co">#&gt; # A tibble: 336,776 x 19</span></span>
<span id="cb89-3"><a href="transform.html#cb89-3"></a><span class="co">#&gt;    anio   mes   dia horario_salida salida_programa… atraso_salida</span></span>
<span id="cb89-4"><a href="transform.html#cb89-4"></a><span class="co">#&gt;   &lt;int&gt; &lt;int&gt; &lt;int&gt;          &lt;int&gt;            &lt;int&gt;         &lt;dbl&gt;</span></span>
<span id="cb89-5"><a href="transform.html#cb89-5"></a><span class="co">#&gt; 1  2013     7    27             NA              106            NA</span></span>
<span id="cb89-6"><a href="transform.html#cb89-6"></a><span class="co">#&gt; 2  2013     1     3           2127             2129            -2</span></span>
<span id="cb89-7"><a href="transform.html#cb89-7"></a><span class="co">#&gt; 3  2013     1     4           1240             1200            40</span></span>
<span id="cb89-8"><a href="transform.html#cb89-8"></a><span class="co">#&gt; 4  2013     1     4           1829             1615           134</span></span>
<span id="cb89-9"><a href="transform.html#cb89-9"></a><span class="co">#&gt; 5  2013     1     4           2128             2129            -1</span></span>
<span id="cb89-10"><a href="transform.html#cb89-10"></a><span class="co">#&gt; 6  2013     1     5           1155             1200            -5</span></span>
<span id="cb89-11"><a href="transform.html#cb89-11"></a><span class="co">#&gt; # … with 336,770 more rows, and 13 more variables: horario_llegada &lt;int&gt;,</span></span>
<span id="cb89-12"><a href="transform.html#cb89-12"></a><span class="co">#&gt; #   llegada_programada &lt;int&gt;, atraso_llegada &lt;dbl&gt;, aerolinea &lt;chr&gt;,</span></span>
<span id="cb89-13"><a href="transform.html#cb89-13"></a><span class="co">#&gt; #   vuelo &lt;int&gt;, codigo_cola &lt;chr&gt;, origen &lt;chr&gt;, destino &lt;chr&gt;,</span></span>
<span id="cb89-14"><a href="transform.html#cb89-14"></a><span class="co">#&gt; #   tiempo_vuelo &lt;dbl&gt;, distancia &lt;dbl&gt;, hora &lt;dbl&gt;, minuto &lt;dbl&gt;,</span></span>
<span id="cb89-15"><a href="transform.html#cb89-15"></a><span class="co">#&gt; #   fecha_hora &lt;dttm&gt;</span></span></code></pre></div>
</div>
</div>
</div>
<div id="select" class="section level2 unnumbered">
<h2>5.4 Seleccionar columnas con <code>select()</code></h2>
<div id="ejercicios-541" class="section level3 unnumbered">
<h3>5.4.1 Ejercicios</h3>
<ol style="list-style-type: decimal">
<li>Haz una lluvia de ideas de tantas maneras como sea posible para seleccionar <code>horario_salida</code>,<code>atraso_salida</code>,<code>horario_llegada</code>, y<code>atraso_llegada</code> de <code>vuelos</code>.</li>
</ol>
<div class="solucion">
<h3>
Solución
</h3>
<p>Una primera opción sería seleccionaras por su nombre:</p>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb90-1"><a href="transform.html#cb90-1"></a><span class="kw">select</span>(vuelos, horario_salida, atraso_salida, horario_llegada, atraso_llegada)</span>
<span id="cb90-2"><a href="transform.html#cb90-2"></a><span class="co">#&gt; # A tibble: 336,776 x 4</span></span>
<span id="cb90-3"><a href="transform.html#cb90-3"></a><span class="co">#&gt;   horario_salida atraso_salida horario_llegada atraso_llegada</span></span>
<span id="cb90-4"><a href="transform.html#cb90-4"></a><span class="co">#&gt;            &lt;int&gt;         &lt;dbl&gt;           &lt;int&gt;          &lt;dbl&gt;</span></span>
<span id="cb90-5"><a href="transform.html#cb90-5"></a><span class="co">#&gt; 1            517             2             830             11</span></span>
<span id="cb90-6"><a href="transform.html#cb90-6"></a><span class="co">#&gt; 2            533             4             850             20</span></span>
<span id="cb90-7"><a href="transform.html#cb90-7"></a><span class="co">#&gt; 3            542             2             923             33</span></span>
<span id="cb90-8"><a href="transform.html#cb90-8"></a><span class="co">#&gt; 4            544            -1            1004            -18</span></span>
<span id="cb90-9"><a href="transform.html#cb90-9"></a><span class="co">#&gt; 5            554            -6             812            -25</span></span>
<span id="cb90-10"><a href="transform.html#cb90-10"></a><span class="co">#&gt; 6            554            -4             740             12</span></span>
<span id="cb90-11"><a href="transform.html#cb90-11"></a><span class="co">#&gt; # … with 336,770 more rows</span></span></code></pre></div>
<p>Otra forma es seleccionando las variables que empiezan con “horario” y “atraso” con la función <code>starts_with()</code> (“empieza con”) del paquete <strong>dplyr</strong>:</p>
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb91-1"><a href="transform.html#cb91-1"></a><span class="kw">select</span>(vuelos, <span class="kw">starts_with</span>(<span class="st">&quot;horario&quot;</span>), <span class="kw">starts_with</span>(<span class="st">&quot;atraso&quot;</span>))</span>
<span id="cb91-2"><a href="transform.html#cb91-2"></a><span class="co">#&gt; # A tibble: 336,776 x 4</span></span>
<span id="cb91-3"><a href="transform.html#cb91-3"></a><span class="co">#&gt;   horario_salida horario_llegada atraso_salida atraso_llegada</span></span>
<span id="cb91-4"><a href="transform.html#cb91-4"></a><span class="co">#&gt;            &lt;int&gt;           &lt;int&gt;         &lt;dbl&gt;          &lt;dbl&gt;</span></span>
<span id="cb91-5"><a href="transform.html#cb91-5"></a><span class="co">#&gt; 1            517             830             2             11</span></span>
<span id="cb91-6"><a href="transform.html#cb91-6"></a><span class="co">#&gt; 2            533             850             4             20</span></span>
<span id="cb91-7"><a href="transform.html#cb91-7"></a><span class="co">#&gt; 3            542             923             2             33</span></span>
<span id="cb91-8"><a href="transform.html#cb91-8"></a><span class="co">#&gt; 4            544            1004            -1            -18</span></span>
<span id="cb91-9"><a href="transform.html#cb91-9"></a><span class="co">#&gt; 5            554             812            -6            -25</span></span>
<span id="cb91-10"><a href="transform.html#cb91-10"></a><span class="co">#&gt; 6            554             740            -4             12</span></span>
<span id="cb91-11"><a href="transform.html#cb91-11"></a><span class="co">#&gt; # … with 336,770 more rows</span></span></code></pre></div>
<p>También es útil en este caso utilizar la función <code>ends_with()</code>:</p>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb92-1"><a href="transform.html#cb92-1"></a><span class="kw">select</span>(vuelos,<span class="kw">ends_with</span>(<span class="st">&quot;llegada&quot;</span>),<span class="kw">ends_with</span>(<span class="st">&quot;salida&quot;</span>))</span>
<span id="cb92-2"><a href="transform.html#cb92-2"></a><span class="co">#&gt; # A tibble: 336,776 x 4</span></span>
<span id="cb92-3"><a href="transform.html#cb92-3"></a><span class="co">#&gt;   horario_llegada atraso_llegada horario_salida atraso_salida</span></span>
<span id="cb92-4"><a href="transform.html#cb92-4"></a><span class="co">#&gt;             &lt;int&gt;          &lt;dbl&gt;          &lt;int&gt;         &lt;dbl&gt;</span></span>
<span id="cb92-5"><a href="transform.html#cb92-5"></a><span class="co">#&gt; 1             830             11            517             2</span></span>
<span id="cb92-6"><a href="transform.html#cb92-6"></a><span class="co">#&gt; 2             850             20            533             4</span></span>
<span id="cb92-7"><a href="transform.html#cb92-7"></a><span class="co">#&gt; 3             923             33            542             2</span></span>
<span id="cb92-8"><a href="transform.html#cb92-8"></a><span class="co">#&gt; 4            1004            -18            544            -1</span></span>
<span id="cb92-9"><a href="transform.html#cb92-9"></a><span class="co">#&gt; 5             812            -25            554            -6</span></span>
<span id="cb92-10"><a href="transform.html#cb92-10"></a><span class="co">#&gt; 6             740             12            554            -4</span></span>
<span id="cb92-11"><a href="transform.html#cb92-11"></a><span class="co">#&gt; # … with 336,770 more rows</span></span></code></pre></div>
<p>Y una manera adicional es usando la función <code>contains()</code>:</p>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb93-1"><a href="transform.html#cb93-1"></a><span class="kw">select</span>(vuelos,<span class="kw">contains</span>(<span class="st">&quot;horario&quot;</span>),<span class="kw">contains</span>(<span class="st">&quot;atraso&quot;</span>))</span>
<span id="cb93-2"><a href="transform.html#cb93-2"></a><span class="co">#&gt; # A tibble: 336,776 x 4</span></span>
<span id="cb93-3"><a href="transform.html#cb93-3"></a><span class="co">#&gt;   horario_salida horario_llegada atraso_salida atraso_llegada</span></span>
<span id="cb93-4"><a href="transform.html#cb93-4"></a><span class="co">#&gt;            &lt;int&gt;           &lt;int&gt;         &lt;dbl&gt;          &lt;dbl&gt;</span></span>
<span id="cb93-5"><a href="transform.html#cb93-5"></a><span class="co">#&gt; 1            517             830             2             11</span></span>
<span id="cb93-6"><a href="transform.html#cb93-6"></a><span class="co">#&gt; 2            533             850             4             20</span></span>
<span id="cb93-7"><a href="transform.html#cb93-7"></a><span class="co">#&gt; 3            542             923             2             33</span></span>
<span id="cb93-8"><a href="transform.html#cb93-8"></a><span class="co">#&gt; 4            544            1004            -1            -18</span></span>
<span id="cb93-9"><a href="transform.html#cb93-9"></a><span class="co">#&gt; 5            554             812            -6            -25</span></span>
<span id="cb93-10"><a href="transform.html#cb93-10"></a><span class="co">#&gt; 6            554             740            -4             12</span></span>
<span id="cb93-11"><a href="transform.html#cb93-11"></a><span class="co">#&gt; # … with 336,770 more rows</span></span></code></pre></div>
</div>
<ol start="2" style="list-style-type: decimal">
<li>¿Qué sucede si incluyes el nombre de una variable varias veces en una llamada <code>select()</code>?</li>
</ol>
<div class="solucion">
<h3>
Solución
</h3>
<p>A diferencia de lo que podría pensarse inicialmente, aunque se incluya más de una vez una variable al utilizar <code>select()</code> esta solo se considerará una vez:</p>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb94-1"><a href="transform.html#cb94-1"></a><span class="kw">select</span>(vuelos, horario_salida, horario_salida, horario_salida)</span>
<span id="cb94-2"><a href="transform.html#cb94-2"></a><span class="co">#&gt; # A tibble: 336,776 x 1</span></span>
<span id="cb94-3"><a href="transform.html#cb94-3"></a><span class="co">#&gt;   horario_salida</span></span>
<span id="cb94-4"><a href="transform.html#cb94-4"></a><span class="co">#&gt;            &lt;int&gt;</span></span>
<span id="cb94-5"><a href="transform.html#cb94-5"></a><span class="co">#&gt; 1            517</span></span>
<span id="cb94-6"><a href="transform.html#cb94-6"></a><span class="co">#&gt; 2            533</span></span>
<span id="cb94-7"><a href="transform.html#cb94-7"></a><span class="co">#&gt; 3            542</span></span>
<span id="cb94-8"><a href="transform.html#cb94-8"></a><span class="co">#&gt; 4            544</span></span>
<span id="cb94-9"><a href="transform.html#cb94-9"></a><span class="co">#&gt; 5            554</span></span>
<span id="cb94-10"><a href="transform.html#cb94-10"></a><span class="co">#&gt; 6            554</span></span>
<span id="cb94-11"><a href="transform.html#cb94-11"></a><span class="co">#&gt; # … with 336,770 more rows</span></span></code></pre></div>
</div>
<ol start="3" style="list-style-type: decimal">
<li>¿Qué hace la función <code>one_of()</code>? ¿Por qué podría ser útil en conjunto con este vector?</li>
</ol>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb95-1"><a href="transform.html#cb95-1"></a>vars &lt;-<span class="st"> </span><span class="kw">c</span> (<span class="st">&quot;anio&quot;</span>, <span class="st">&quot;mes&quot;</span>, <span class="st">&quot;dia&quot;</span>, <span class="st">&quot;atraso_salida&quot;</span>, <span class="st">&quot;atraso_llegada&quot;</span>)</span></code></pre></div>
<div class="solucion">
<h3>
Solución
</h3>
<p>Con la función <code>one_of()</code> podemos indicar las variables que queremos seleccionar con el nombre del vector que las contiene.</p>
<p>La función <code>one_of()</code> selecciona todas las variables que están en el vector <code>vars</code>:</p>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb96-1"><a href="transform.html#cb96-1"></a><span class="kw">select</span>(vuelos, <span class="kw">one_of</span>(vars))</span>
<span id="cb96-2"><a href="transform.html#cb96-2"></a><span class="co">#&gt; # A tibble: 336,776 x 5</span></span>
<span id="cb96-3"><a href="transform.html#cb96-3"></a><span class="co">#&gt;    anio   mes   dia atraso_salida atraso_llegada</span></span>
<span id="cb96-4"><a href="transform.html#cb96-4"></a><span class="co">#&gt;   &lt;int&gt; &lt;int&gt; &lt;int&gt;         &lt;dbl&gt;          &lt;dbl&gt;</span></span>
<span id="cb96-5"><a href="transform.html#cb96-5"></a><span class="co">#&gt; 1  2013     1     1             2             11</span></span>
<span id="cb96-6"><a href="transform.html#cb96-6"></a><span class="co">#&gt; 2  2013     1     1             4             20</span></span>
<span id="cb96-7"><a href="transform.html#cb96-7"></a><span class="co">#&gt; 3  2013     1     1             2             33</span></span>
<span id="cb96-8"><a href="transform.html#cb96-8"></a><span class="co">#&gt; 4  2013     1     1            -1            -18</span></span>
<span id="cb96-9"><a href="transform.html#cb96-9"></a><span class="co">#&gt; 5  2013     1     1            -6            -25</span></span>
<span id="cb96-10"><a href="transform.html#cb96-10"></a><span class="co">#&gt; 6  2013     1     1            -4             12</span></span>
<span id="cb96-11"><a href="transform.html#cb96-11"></a><span class="co">#&gt; # … with 336,770 more rows</span></span></code></pre></div>
<p>Sin embargo, es posible también hacerlo de la siguiente forma (Siempre y cuando no exista una variable que se llame <code>vars</code> en el set de datos):</p>
<div class="sourceCode" id="cb97"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb97-1"><a href="transform.html#cb97-1"></a><span class="kw">select</span>(vuelos,vars)</span>
<span id="cb97-2"><a href="transform.html#cb97-2"></a><span class="co">#&gt; Note: Using an external vector in selections is ambiguous.</span></span>
<span id="cb97-3"><a href="transform.html#cb97-3"></a><span class="co">#&gt; ℹ Use `all_of(vars)` instead of `vars` to silence this message.</span></span>
<span id="cb97-4"><a href="transform.html#cb97-4"></a><span class="co">#&gt; ℹ See &lt;https://tidyselect.r-lib.org/reference/faq-external-vector.html&gt;.</span></span>
<span id="cb97-5"><a href="transform.html#cb97-5"></a><span class="co">#&gt; This message is displayed once per session.</span></span>
<span id="cb97-6"><a href="transform.html#cb97-6"></a><span class="co">#&gt; # A tibble: 336,776 x 5</span></span>
<span id="cb97-7"><a href="transform.html#cb97-7"></a><span class="co">#&gt;    anio   mes   dia atraso_salida atraso_llegada</span></span>
<span id="cb97-8"><a href="transform.html#cb97-8"></a><span class="co">#&gt;   &lt;int&gt; &lt;int&gt; &lt;int&gt;         &lt;dbl&gt;          &lt;dbl&gt;</span></span>
<span id="cb97-9"><a href="transform.html#cb97-9"></a><span class="co">#&gt; 1  2013     1     1             2             11</span></span>
<span id="cb97-10"><a href="transform.html#cb97-10"></a><span class="co">#&gt; 2  2013     1     1             4             20</span></span>
<span id="cb97-11"><a href="transform.html#cb97-11"></a><span class="co">#&gt; 3  2013     1     1             2             33</span></span>
<span id="cb97-12"><a href="transform.html#cb97-12"></a><span class="co">#&gt; 4  2013     1     1            -1            -18</span></span>
<span id="cb97-13"><a href="transform.html#cb97-13"></a><span class="co">#&gt; 5  2013     1     1            -6            -25</span></span>
<span id="cb97-14"><a href="transform.html#cb97-14"></a><span class="co">#&gt; 6  2013     1     1            -4             12</span></span>
<span id="cb97-15"><a href="transform.html#cb97-15"></a><span class="co">#&gt; # … with 336,770 more rows</span></span></code></pre></div>
</div>
<ol start="4" style="list-style-type: decimal">
<li>¿Te sorprende el resultado de ejecutar el siguiente código? ¿Cómo tratan por defecto las funciones auxiliares de <code>select()</code> a las palabras en mayúsculas o en minúsculas? ¿Cómo puedes cambiar ese comportamiento predeterminado?</li>
</ol>
<div class="sourceCode" id="cb98"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb98-1"><a href="transform.html#cb98-1"></a><span class="kw">select</span>(vuelos, <span class="kw">contains</span>(<span class="st">&quot;SALIDA&quot;</span>))</span></code></pre></div>
<div class="solucion">
<h3>
Solución
</h3>
<p>La función <code>contains()</code> (“contiene”) no distingue entre mayúsculas y minúsculas, por eso puede identificar sin problema todas las variables que contienen “salida”. Si queremos cambiar este comportamiento y que sí las diferencie, entonces debemos agregar el argumento <code>ignore.case = FALSE</code> (por defecto, es TRUE):</p>
<div class="sourceCode" id="cb99"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb99-1"><a href="transform.html#cb99-1"></a><span class="kw">select</span>(vuelos, <span class="kw">contains</span>(<span class="st">&quot;SALIDA&quot;</span>, <span class="dt">ignore.case =</span> <span class="ot">FALSE</span>))</span>
<span id="cb99-2"><a href="transform.html#cb99-2"></a><span class="co">#&gt; # A tibble: 336,776 x 0</span></span></code></pre></div>
</div>
</div>
</div>
<div id="mutate" class="section level2 unnumbered">
<h2>5.5 Añadir nuevas variables con <code>mutate()</code></h2>
<div id="ejercicios-552" class="section level3 unnumbered">
<h3>5.5.2 Ejercicios</h3>
<ol style="list-style-type: decimal">
<li>Las variables <code>horario_salida</code> y <code>salida_programada</code> tienen un formato conveniente para leer, pero es difícil realizar cualquier cálculo con ellas porque no son realmente números continuos. Transfórmalas a un formato más conveniente, como número de minutos desde la medianoche.</li>
</ol>
<div class="solucion">
<h3>
Solución
</h3>
<p>Los datos de estas variables son de tal forma que las 6:59 AM toman el valor 659. Luego, el número de horas desde la media noche es:</p>
<div class="sourceCode" id="cb100"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb100-1"><a href="transform.html#cb100-1"></a><span class="dv">659</span><span class="op">%/%</span><span class="dv">100</span> <span class="co">#division entera</span></span>
<span id="cb100-2"><a href="transform.html#cb100-2"></a><span class="co">#&gt; [1] 6</span></span></code></pre></div>
<p>La cantidad de minutos en esas 6 horas:</p>
<div class="sourceCode" id="cb101"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb101-1"><a href="transform.html#cb101-1"></a><span class="dv">659</span><span class="op">%/%</span><span class="dv">100</span> <span class="op">*</span><span class="dv">60</span></span>
<span id="cb101-2"><a href="transform.html#cb101-2"></a><span class="co">#&gt; [1] 360</span></span></code></pre></div>
<p>Solo queda sumar los 59 minutos:</p>
<div class="sourceCode" id="cb102"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb102-1"><a href="transform.html#cb102-1"></a><span class="dv">659</span> <span class="op">%%</span><span class="st"> </span><span class="dv">100</span> <span class="co">#resto</span></span>
<span id="cb102-2"><a href="transform.html#cb102-2"></a><span class="co">#&gt; [1] 59</span></span></code></pre></div>
<p>Entonces, el número de minutos transcurridos desde las 00:00 hasta las 6:59 AM son:</p>
<div class="sourceCode" id="cb103"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb103-1"><a href="transform.html#cb103-1"></a><span class="dv">659</span> <span class="op">%/%</span><span class="st"> </span><span class="dv">100</span> <span class="op">*</span><span class="st"> </span><span class="dv">60</span> <span class="op">+</span><span class="st"> </span><span class="dv">659</span> <span class="op">%%</span><span class="st"> </span><span class="dv">100</span> </span>
<span id="cb103-2"><a href="transform.html#cb103-2"></a><span class="co">#&gt; [1] 419</span></span></code></pre></div>
<p>Sin embargo, la medianoche toma el valor 24:00 con lo cual el número de minutos desde la medianoche es 1440 en lugar de 0. Para resolver esto usamos nuevamente <code>%%</code>.</p>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb104-1"><a href="transform.html#cb104-1"></a>(<span class="dv">659</span> <span class="op">%/%</span><span class="st"> </span><span class="dv">100</span> <span class="op">*</span><span class="st"> </span><span class="dv">60</span> <span class="op">+</span><span class="st"> </span><span class="dv">659</span> <span class="op">%%</span><span class="st"> </span><span class="dv">100</span>) <span class="op">%%</span><span class="st"> </span><span class="dv">1440</span> <span class="co">#mismo resultado anterior</span></span>
<span id="cb104-2"><a href="transform.html#cb104-2"></a><span class="co">#&gt; [1] 419</span></span>
<span id="cb104-3"><a href="transform.html#cb104-3"></a></span>
<span id="cb104-4"><a href="transform.html#cb104-4"></a>(<span class="dv">2400</span> <span class="op">%/%</span><span class="st"> </span><span class="dv">100</span> <span class="op">*</span><span class="st"> </span><span class="dv">60</span> <span class="op">+</span><span class="st"> </span><span class="dv">2400</span> <span class="op">%%</span><span class="st"> </span><span class="dv">100</span>) <span class="op">%%</span><span class="st"> </span><span class="dv">1440</span> <span class="co">#cero minutos desde la medianoche</span></span>
<span id="cb104-5"><a href="transform.html#cb104-5"></a><span class="co">#&gt; [1] 0</span></span></code></pre></div>
<div class="sourceCode" id="cb105"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb105-1"><a href="transform.html#cb105-1"></a><span class="kw">mutate</span>(vuelos, <span class="dt">salida_programada_min =</span> (salida_programada <span class="op">%/%</span><span class="st"> </span><span class="dv">100</span> <span class="op">*</span><span class="st"> </span><span class="dv">60</span> <span class="op">+</span><span class="st"> </span>salida_programada <span class="op">%%</span><span class="st"> </span><span class="dv">100</span>) <span class="op">%%</span><span class="st"> </span><span class="dv">1440</span>)</span>
<span id="cb105-2"><a href="transform.html#cb105-2"></a><span class="co">#&gt; # A tibble: 336,776 x 20</span></span>
<span id="cb105-3"><a href="transform.html#cb105-3"></a><span class="co">#&gt;    anio   mes   dia horario_salida salida_programa… atraso_salida</span></span>
<span id="cb105-4"><a href="transform.html#cb105-4"></a><span class="co">#&gt;   &lt;int&gt; &lt;int&gt; &lt;int&gt;          &lt;int&gt;            &lt;int&gt;         &lt;dbl&gt;</span></span>
<span id="cb105-5"><a href="transform.html#cb105-5"></a><span class="co">#&gt; 1  2013     1     1            517              515             2</span></span>
<span id="cb105-6"><a href="transform.html#cb105-6"></a><span class="co">#&gt; 2  2013     1     1            533              529             4</span></span>
<span id="cb105-7"><a href="transform.html#cb105-7"></a><span class="co">#&gt; 3  2013     1     1            542              540             2</span></span>
<span id="cb105-8"><a href="transform.html#cb105-8"></a><span class="co">#&gt; 4  2013     1     1            544              545            -1</span></span>
<span id="cb105-9"><a href="transform.html#cb105-9"></a><span class="co">#&gt; 5  2013     1     1            554              600            -6</span></span>
<span id="cb105-10"><a href="transform.html#cb105-10"></a><span class="co">#&gt; 6  2013     1     1            554              558            -4</span></span>
<span id="cb105-11"><a href="transform.html#cb105-11"></a><span class="co">#&gt; # … with 336,770 more rows, and 14 more variables: horario_llegada &lt;int&gt;,</span></span>
<span id="cb105-12"><a href="transform.html#cb105-12"></a><span class="co">#&gt; #   llegada_programada &lt;int&gt;, atraso_llegada &lt;dbl&gt;, aerolinea &lt;chr&gt;,</span></span>
<span id="cb105-13"><a href="transform.html#cb105-13"></a><span class="co">#&gt; #   vuelo &lt;int&gt;, codigo_cola &lt;chr&gt;, origen &lt;chr&gt;, destino &lt;chr&gt;,</span></span>
<span id="cb105-14"><a href="transform.html#cb105-14"></a><span class="co">#&gt; #   tiempo_vuelo &lt;dbl&gt;, distancia &lt;dbl&gt;, hora &lt;dbl&gt;, minuto &lt;dbl&gt;,</span></span>
<span id="cb105-15"><a href="transform.html#cb105-15"></a><span class="co">#&gt; #   fecha_hora &lt;dttm&gt;, salida_programada_min &lt;dbl&gt;</span></span>
<span id="cb105-16"><a href="transform.html#cb105-16"></a></span>
<span id="cb105-17"><a href="transform.html#cb105-17"></a><span class="kw">mutate</span>(vuelos, <span class="dt">horario_salida_min =</span> (horario_salida <span class="op">%/%</span><span class="st"> </span><span class="dv">100</span> <span class="op">*</span><span class="st"> </span><span class="dv">60</span> <span class="op">+</span><span class="st"> </span>horario_salida <span class="op">%%</span><span class="st"> </span><span class="dv">100</span>) <span class="op">%%</span><span class="st"> </span><span class="dv">1440</span>)</span>
<span id="cb105-18"><a href="transform.html#cb105-18"></a><span class="co">#&gt; # A tibble: 336,776 x 20</span></span>
<span id="cb105-19"><a href="transform.html#cb105-19"></a><span class="co">#&gt;    anio   mes   dia horario_salida salida_programa… atraso_salida</span></span>
<span id="cb105-20"><a href="transform.html#cb105-20"></a><span class="co">#&gt;   &lt;int&gt; &lt;int&gt; &lt;int&gt;          &lt;int&gt;            &lt;int&gt;         &lt;dbl&gt;</span></span>
<span id="cb105-21"><a href="transform.html#cb105-21"></a><span class="co">#&gt; 1  2013     1     1            517              515             2</span></span>
<span id="cb105-22"><a href="transform.html#cb105-22"></a><span class="co">#&gt; 2  2013     1     1            533              529             4</span></span>
<span id="cb105-23"><a href="transform.html#cb105-23"></a><span class="co">#&gt; 3  2013     1     1            542              540             2</span></span>
<span id="cb105-24"><a href="transform.html#cb105-24"></a><span class="co">#&gt; 4  2013     1     1            544              545            -1</span></span>
<span id="cb105-25"><a href="transform.html#cb105-25"></a><span class="co">#&gt; 5  2013     1     1            554              600            -6</span></span>
<span id="cb105-26"><a href="transform.html#cb105-26"></a><span class="co">#&gt; 6  2013     1     1            554              558            -4</span></span>
<span id="cb105-27"><a href="transform.html#cb105-27"></a><span class="co">#&gt; # … with 336,770 more rows, and 14 more variables: horario_llegada &lt;int&gt;,</span></span>
<span id="cb105-28"><a href="transform.html#cb105-28"></a><span class="co">#&gt; #   llegada_programada &lt;int&gt;, atraso_llegada &lt;dbl&gt;, aerolinea &lt;chr&gt;,</span></span>
<span id="cb105-29"><a href="transform.html#cb105-29"></a><span class="co">#&gt; #   vuelo &lt;int&gt;, codigo_cola &lt;chr&gt;, origen &lt;chr&gt;, destino &lt;chr&gt;,</span></span>
<span id="cb105-30"><a href="transform.html#cb105-30"></a><span class="co">#&gt; #   tiempo_vuelo &lt;dbl&gt;, distancia &lt;dbl&gt;, hora &lt;dbl&gt;, minuto &lt;dbl&gt;,</span></span>
<span id="cb105-31"><a href="transform.html#cb105-31"></a><span class="co">#&gt; #   fecha_hora &lt;dttm&gt;, horario_salida_min &lt;dbl&gt;</span></span></code></pre></div>
</div>
<ol start="2" style="list-style-type: decimal">
<li>Compara <code>tiempo_vuelo</code> con <code>horario_llegada - horario_salida</code>. ¿Qué esperas ver? ¿Qué ves? ¿Qué necesitas hacer para arreglarlo?</li>
</ol>
<div class="solucion">
<h3>
Solución
</h3>
<p>Lo que se espera es que <code>tiempo_vuelo</code> = <code>horario_llegada</code> - <code>horario_salida</code>.</p>
</div>
<ol start="3" style="list-style-type: decimal">
<li>Compara <code>horario_salida</code>, <code>salida_programada</code>, y <code>atraso_salida</code>. ¿Cómo esperarías que esos tres números estén relacionados?</li>
</ol>
<div class="solucion">
<h3>
Solución
</h3>
</div>
<ol start="4" style="list-style-type: decimal">
<li>Encuentra los 10 vuelos más retrasados utilizando una función de ordenamiento. ¿Cómo quieres manejar los empates? Lee atentamente la documentación de <code>min_rank()</code>.</li>
</ol>
<div class="solucion">
<h3>
Solución
</h3>
</div>
<ol start="5" style="list-style-type: decimal">
<li>¿Qué devuelve <code>1:3 + 1:10</code>? ¿Por qué?</li>
</ol>
<div class="solucion">
<h3>
Solución
</h3>
</div>
<ol start="6" style="list-style-type: decimal">
<li>¿Qué funciones trigonométricas proporciona R?</li>
</ol>
<div class="solucion">
<h3>
Solución
</h3>
</div>
</div>
</div>
<div id="sumamarise" class="section level2 unnumbered">
<h2>5.6 Resúmenes agrupados con <code>summarise()</code></h2>
<div id="ejercicios-567" class="section level3 unnumbered">
<h3>5.6.7 Ejercicios</h3>
<ol style="list-style-type: decimal">
<li>Haz una lluvia de ideas de al menos 5 formas diferentes de evaluar las características de un retraso típico de un grupo de vuelos. Considera los siguientes escenarios:</li>
</ol>
<pre><code>*Un vuelo llega 15 minutos antes 50% del tiempo, y 15 minutos tarde 50% del tiempo.

*Un vuelo llega siempre 10 minutos tarde.

*Un vuelo llega 30 minutos antes 50% del tiempo, y 30 minutos tarde 50% del tiempo.

*Un vuelo llega a tiempo en el 99% de los casos. 1% de las veces llega 2 horas tarde.

¿Qué es más importante: retraso de la llegada o demora de salida?</code></pre>
<div class="solucion">
<h3>
Solución
</h3>
</div>
<ol start="2" style="list-style-type: decimal">
<li>Sugiere un nuevo enfoque que te dé el mismo <em>output</em> que <code>no_cancelados %&gt;% count(destino)</code> y
<code>no_cancelado %&gt;% count(codigo_cola, wt = distancia)</code> (sin usar <code>count()</code>).</li>
</ol>
<div class="solucion">
<h3>
Solución
</h3>
</div>
<ol start="3" style="list-style-type: decimal">
<li>Nuestra definición de vuelos cancelados (<code>is.na(atraso_salida) | is.na (atraso_llegada)</code>) es un poco subóptima. ¿Por qué? ¿Cuál es la columna más importante?</li>
</ol>
<div class="solucion">
<h3>
Solución
</h3>
</div>
<ol start="4" style="list-style-type: decimal">
<li>Mira la cantidad de vuelos cancelados por día. ¿Hay un patrón? ¿La proporción de vuelos cancelados está relacionada con el retraso promedio?</li>
</ol>
<div class="solucion">
<h3>
Solución
</h3>
</div>
<ol start="5" style="list-style-type: decimal">
<li>¿Qué compañía tiene los peores retrasos? Desafío: ¿puedes desenredar el efecto de malos aeropuertos vs. el efecto de malas aerolíneas? ¿Por qué o por qué no? (Sugerencia: piensa en <code>vuelos %&gt;% group_by(aerolinea, destino) %&gt;% summarise(n())</code>)</li>
</ol>
<div class="solucion">
<h3>
Solución
</h3>
</div>
<ol start="6" style="list-style-type: decimal">
<li>¿Qué hace el argumento <code>sort</code> a <code>count()</code>. ¿Cuándo podrías usarlo?</li>
</ol>
<div class="solucion">
<h3>
Solución
</h3>
</div>
</div>
</div>
<div id="mutate-filter" class="section level2 unnumbered">
<h2>5.7 Transformaciones agrupadas (y filtros)</h2>
<div id="ejercicios-571" class="section level3 unnumbered">
<h3>5.7.1 Ejercicios</h3>
<ol style="list-style-type: decimal">
<li>Remítete a las listas de funciones útiles de mutación y filtrado. Describe cómo cambia cada operación cuando las combinas con la agrupación.</li>
</ol>
<div class="solucion">
<h3>
Solución
</h3>
</div>
<ol start="2" style="list-style-type: decimal">
<li>¿Qué avión (<code>codigo_cola</code>) tiene el peor registro de tiempo?</li>
</ol>
<div class="solucion">
<h3>
Solución
</h3>
</div>
<ol start="3" style="list-style-type: decimal">
<li>¿A qué hora del día deberías volar si quieres evitar los retrasos lo más posible?</li>
</ol>
<div class="solucion">
<h3>
Solución
</h3>
</div>
<ol start="4" style="list-style-type: decimal">
<li>Para cada destino, calcula los minutos totales de demora. Para cada vuelo, calcula la proporción de la demora total para su destino.</li>
</ol>
<div class="solucion">
<h3>
Solución
</h3>
</div>
<ol start="5" style="list-style-type: decimal">
<li>Los retrasos suelen estar temporalmente correlacionados: incluso una vez que el problema que causó el retraso inicial se ha resuelto, los vuelos posteriores se retrasan para permitir que salgan los vuelos anteriores. Usando <code>lag()</code>, explora cómo el retraso de un vuelo está relacionado con el retraso del vuelo inmediatamente anterior.</li>
</ol>
<div class="solucion">
<h3>
Solución
</h3>
</div>
<ol start="6" style="list-style-type: decimal">
<li>Mira cada destino. ¿Puedes encontrar vuelos sospechosamente rápidos? (es decir, vuelos que representan un posible error de entrada de datos). Calcula el tiempo en el aire de un vuelo relativo al vuelo más corto a ese destino. ¿Cuáles vuelos se retrasaron más en el aire?</li>
</ol>
<div class="solucion">
<h3>
Solución
</h3>
</div>
<ol start="7" style="list-style-type: decimal">
<li>Encuentra todos los destinos que son volados por al menos dos operadores. Usa esta información para clasificar a las aerolíneas.</li>
</ol>
<div class="solucion">
<h3>
Solución
</h3>
</div>
<ol start="8" style="list-style-type: decimal">
<li>Para cada avión, cuenta el número de vuelos antes del primer retraso de más de 1 hora.</li>
</ol>
<div class="solucion">
<h3>
Solución
</h3>
</div>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="flujo-de-trabajo-conocimientos-básicos.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="flujo-de-trabajo-scripts.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/cienciadedatos/r4ds-soluciones/edit/master/05-transform.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
