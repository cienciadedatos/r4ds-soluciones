<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>3 Visualización de datos | R para Ciencia de Datos: Soluciones de los ejercicios</title>
  <meta name="description" content="Propuestas de soluciones para los ejercicios del libro R para Ciencia de Datos" />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="3 Visualización de datos | R para Ciencia de Datos: Soluciones de los ejercicios" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="http://cienciadedatos.github.io/r4ds-soluciones" />
  <meta property="og:image" content="http://cienciadedatos.github.io/r4ds-soluciones/cover.png" />
  <meta property="og:description" content="Propuestas de soluciones para los ejercicios del libro R para Ciencia de Datos" />
  <meta name="github-repo" content="cienciadedatos/r4ds-soluciones" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="3 Visualización de datos | R para Ciencia de Datos: Soluciones de los ejercicios" />
  
  <meta name="twitter:description" content="Propuestas de soluciones para los ejercicios del libro R para Ciencia de Datos" />
  <meta name="twitter:image" content="http://cienciadedatos.github.io/r4ds-soluciones/cover.png" />

<meta name="author" content="Riva Quiroga" />
<meta name="author" content="Mauricio ‘Pachá’ Vargas" />
<meta name="author" content="Gabriela Sandoval" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="introducción-1.html"/>
<link rel="next" href="flujo-de-trabajo-conocimientos-básicos.html"/>
<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<link href="libs/str_view-0.1.0/str_view.css" rel="stylesheet" />
<script src="libs/str_view-binding-1.4.0/str_view.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><strong><a href="./">Soluciones R para Ciencia de Datos</a></strong></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Bienvenida</a></li>
<li class="chapter" data-level="1" data-path="introducción.html"><a href="introducción.html"><i class="fa fa-check"></i><b>1</b> Introducción</a></li>
<li class="part"><span><b>I Explorar</b></span></li>
<li class="chapter" data-level="2" data-path="introducción-1.html"><a href="introducción-1.html"><i class="fa fa-check"></i><b>2</b> Introducción</a></li>
<li class="chapter" data-level="3" data-path="visualización-de-datos.html"><a href="visualización-de-datos.html"><i class="fa fa-check"></i><b>3</b> Visualización de datos</a>
<ul>
<li class="chapter" data-level="3.1" data-path="visualización-de-datos.html"><a href="visualización-de-datos.html#introducción-2"><i class="fa fa-check"></i><b>3.1</b> Introducción</a></li>
<li class="chapter" data-level="" data-path="visualización-de-datos.html"><a href="visualización-de-datos.html#primeros-pasos"><i class="fa fa-check"></i>3.2 Primeros pasos</a>
<ul>
<li class="chapter" data-level="" data-path="visualización-de-datos.html"><a href="visualización-de-datos.html#ejercicios-324"><i class="fa fa-check"></i>3.2.4 Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="visualización-de-datos.html"><a href="visualización-de-datos.html#mapeos-esteticos"><i class="fa fa-check"></i>3.3 Mapeos estéticos</a>
<ul>
<li class="chapter" data-level="" data-path="visualización-de-datos.html"><a href="visualización-de-datos.html#ejercicios-331"><i class="fa fa-check"></i>3.3.1 Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="visualización-de-datos.html"><a href="visualización-de-datos.html#separar-facetas"><i class="fa fa-check"></i>3.5 Separar en facetas</a>
<ul>
<li class="chapter" data-level="" data-path="visualización-de-datos.html"><a href="visualización-de-datos.html#ejercicios-351"><i class="fa fa-check"></i>3.5.1 Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="visualización-de-datos.html"><a href="visualización-de-datos.html#objetos-geometricos"><i class="fa fa-check"></i>3.6 Objetos geométricos</a>
<ul>
<li class="chapter" data-level="" data-path="visualización-de-datos.html"><a href="visualización-de-datos.html#ejercicios-361"><i class="fa fa-check"></i>3.6.1 Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="visualización-de-datos.html"><a href="visualización-de-datos.html#transformaciones-estadisticas"><i class="fa fa-check"></i>3.7 Transformaciones estadísticas</a>
<ul>
<li class="chapter" data-level="" data-path="visualización-de-datos.html"><a href="visualización-de-datos.html#ejercicios-371"><i class="fa fa-check"></i>3.7.1 Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="visualización-de-datos.html"><a href="visualización-de-datos.html#ajustes-posicion"><i class="fa fa-check"></i>3.8 Ajustes de posición</a>
<ul>
<li class="chapter" data-level="" data-path="visualización-de-datos.html"><a href="visualización-de-datos.html#ejercicios-381"><i class="fa fa-check"></i>3.8.1 Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="visualización-de-datos.html"><a href="visualización-de-datos.html#sistemas-coordenadas"><i class="fa fa-check"></i>3.9 Sistemas de coordenadas</a>
<ul>
<li class="chapter" data-level="" data-path="visualización-de-datos.html"><a href="visualización-de-datos.html#ejercicios-391"><i class="fa fa-check"></i>3.9.1 Ejercicios</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="flujo-de-trabajo-conocimientos-básicos.html"><a href="flujo-de-trabajo-conocimientos-básicos.html"><i class="fa fa-check"></i><b>4</b> Flujo de trabajo: conocimientos básicos</a>
<ul>
<li class="chapter" data-level="" data-path="flujo-de-trabajo-conocimientos-básicos.html"><a href="flujo-de-trabajo-conocimientos-básicos.html#ejercicios-41"><i class="fa fa-check"></i>4.4 Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="transform.html"><a href="transform.html"><i class="fa fa-check"></i><b>5</b> Transformación de datos</a>
<ul>
<li class="chapter" data-level="5.1" data-path="transform.html"><a href="transform.html#introducción-3"><i class="fa fa-check"></i><b>5.1</b> Introducción</a></li>
<li><a href="transform.html#filter">5.2 Filtrar filas con <code>filter()</code></a>
<ul>
<li class="chapter" data-level="" data-path="transform.html"><a href="transform.html#ejercicios-524"><i class="fa fa-check"></i>5.2.4 Ejercicios</a></li>
</ul></li>
<li><a href="transform.html#arrange">5.3 Reordenar las filas con <code>arrange()</code></a>
<ul>
<li class="chapter" data-level="" data-path="transform.html"><a href="transform.html#ejercicios-531"><i class="fa fa-check"></i>5.3.1 Ejercicios</a></li>
</ul></li>
<li><a href="transform.html#select">5.4 Seleccionar columnas con <code>select()</code></a>
<ul>
<li class="chapter" data-level="" data-path="transform.html"><a href="transform.html#ejercicios-541"><i class="fa fa-check"></i>5.4.1 Ejercicios</a></li>
</ul></li>
<li><a href="transform.html#mutate">5.5 Añadir nuevas variables con <code>mutate()</code></a>
<ul>
<li class="chapter" data-level="" data-path="transform.html"><a href="transform.html#ejercicios-552"><i class="fa fa-check"></i>5.5.2 Ejercicios</a></li>
</ul></li>
<li><a href="transform.html#sumamarise">5.6 Resúmenes agrupados con <code>summarise()</code></a>
<ul>
<li class="chapter" data-level="" data-path="transform.html"><a href="transform.html#ejercicios-567"><i class="fa fa-check"></i>5.6.7 Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="transform.html"><a href="transform.html#mutate-filter"><i class="fa fa-check"></i>5.7 Transformaciones agrupadas (y filtros)</a>
<ul>
<li class="chapter" data-level="" data-path="transform.html"><a href="transform.html#ejercicios-571"><i class="fa fa-check"></i>5.7.1 Ejercicios</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="flujo-de-trabajo-scripts.html"><a href="flujo-de-trabajo-scripts.html"><i class="fa fa-check"></i><b>6</b> Flujo de trabajo: <em>Scripts</em></a>
<ul>
<li class="chapter" data-level="" data-path="flujo-de-trabajo-scripts.html"><a href="flujo-de-trabajo-scripts.html#ejercicios-63"><i class="fa fa-check"></i>6.3 Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="análisis-exploratorio-de-datos-eda.html"><a href="análisis-exploratorio-de-datos-eda.html"><i class="fa fa-check"></i><b>7</b> Análisis exploratorio de datos (<em>EDA</em>)</a>
<ul>
<li class="chapter" data-level="7.1" data-path="análisis-exploratorio-de-datos-eda.html"><a href="análisis-exploratorio-de-datos-eda.html#introducción-4"><i class="fa fa-check"></i><b>7.1</b> Introducción</a></li>
<li class="chapter" data-level="" data-path="análisis-exploratorio-de-datos-eda.html"><a href="análisis-exploratorio-de-datos-eda.html#preguntas"><i class="fa fa-check"></i>7.3 Variación</a>
<ul>
<li class="chapter" data-level="" data-path="análisis-exploratorio-de-datos-eda.html"><a href="análisis-exploratorio-de-datos-eda.html#ejercicios-734"><i class="fa fa-check"></i>7.3.4 Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="análisis-exploratorio-de-datos-eda.html"><a href="análisis-exploratorio-de-datos-eda.html#valores-faltantes"><i class="fa fa-check"></i>7.4 Valores faltantes</a>
<ul>
<li class="chapter" data-level="" data-path="análisis-exploratorio-de-datos-eda.html"><a href="análisis-exploratorio-de-datos-eda.html#ejercicios-741"><i class="fa fa-check"></i>7.4.1 Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="análisis-exploratorio-de-datos-eda.html"><a href="análisis-exploratorio-de-datos-eda.html#covariacion"><i class="fa fa-check"></i>7.5 Covariación</a>
<ul>
<li class="chapter" data-level="" data-path="análisis-exploratorio-de-datos-eda.html"><a href="análisis-exploratorio-de-datos-eda.html#categorica-continua"><i class="fa fa-check"></i>7.5.1 Una variable categórica y otra continua</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="análisis-exploratorio-de-datos-eda.html"><a href="análisis-exploratorio-de-datos-eda.html#categorica"><i class="fa fa-check"></i>7.5.2 Dos variables categóricas</a>
<ul>
<li class="chapter" data-level="" data-path="análisis-exploratorio-de-datos-eda.html"><a href="análisis-exploratorio-de-datos-eda.html#ejercicios-7521"><i class="fa fa-check"></i>7.5.2.1 Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="análisis-exploratorio-de-datos-eda.html"><a href="análisis-exploratorio-de-datos-eda.html#continuas"><i class="fa fa-check"></i>7.5.3 Dos variables continuas</a>
<ul>
<li class="chapter" data-level="" data-path="análisis-exploratorio-de-datos-eda.html"><a href="análisis-exploratorio-de-datos-eda.html#ejercicios-7532"><i class="fa fa-check"></i>7.5.3.1 Ejercicios</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="workflow-projects.html"><a href="workflow-projects.html"><i class="fa fa-check"></i><b>8</b> Workflow: projects</a></li>
<li class="part"><span><b>II Manejar o domar datos</b></span></li>
<li class="chapter" data-level="9" data-path="introducción-5.html"><a href="introducción-5.html"><i class="fa fa-check"></i><b>9</b> Introducción</a></li>
<li class="chapter" data-level="10" data-path="tibbles.html"><a href="tibbles.html"><i class="fa fa-check"></i><b>10</b> Tibbles</a>
<ul>
<li class="chapter" data-level="" data-path="tibbles.html"><a href="tibbles.html#ejercicios-105"><i class="fa fa-check"></i>10.5 Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="importación-de-datos.html"><a href="importación-de-datos.html"><i class="fa fa-check"></i><b>11</b> Importación de datos</a>
<ul>
<li class="chapter" data-level="" data-path="importación-de-datos.html"><a href="importación-de-datos.html#comenzando"><i class="fa fa-check"></i>11.2 Comenzando</a>
<ul>
<li class="chapter" data-level="" data-path="importación-de-datos.html"><a href="importación-de-datos.html#ejercicios-1122"><i class="fa fa-check"></i>11.2.2 Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="importación-de-datos.html"><a href="importación-de-datos.html#segmentar-vector"><i class="fa fa-check"></i>11.3 Segmentar un vector</a>
<ul>
<li class="chapter" data-level="" data-path="importación-de-datos.html"><a href="importación-de-datos.html#ejercicios-1135"><i class="fa fa-check"></i>11.3.5 Ejercicios</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="datos-ordenados.html"><a href="datos-ordenados.html"><i class="fa fa-check"></i><b>12</b> Datos ordenados</a>
<ul>
<li class="chapter" data-level="" data-path="datos-ordenados.html"><a href="datos-ordenados.html#datos-ordenados122"><i class="fa fa-check"></i>12.2 Datos ordenados</a>
<ul>
<li class="chapter" data-level="" data-path="datos-ordenados.html"><a href="datos-ordenados.html#ejercicios-1221"><i class="fa fa-check"></i>12.2.1 Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="datos-ordenados.html"><a href="datos-ordenados.html#pivotar"><i class="fa fa-check"></i>12.3 Pivotar</a>
<ul>
<li class="chapter" data-level="" data-path="datos-ordenados.html"><a href="datos-ordenados.html#ejercicios-1233"><i class="fa fa-check"></i>12.3.3 Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="datos-ordenados.html"><a href="datos-ordenados.html#separar-unir"><i class="fa fa-check"></i>12.4 Separar y unir</a>
<ul>
<li class="chapter" data-level="" data-path="datos-ordenados.html"><a href="datos-ordenados.html#ejercicios-1243"><i class="fa fa-check"></i>12.4.3 Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="datos-ordenados.html"><a href="datos-ordenados.html#valores-faltantes125"><i class="fa fa-check"></i>12.5 Valores faltantes</a>
<ul>
<li class="chapter" data-level="" data-path="datos-ordenados.html"><a href="datos-ordenados.html#ejercicios-1251"><i class="fa fa-check"></i>12.5.1 Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="datos-ordenados.html"><a href="datos-ordenados.html#estudio-caso"><i class="fa fa-check"></i>12.6 Estudio de caso</a>
<ul>
<li class="chapter" data-level="" data-path="datos-ordenados.html"><a href="datos-ordenados.html#ejercicios-1261"><i class="fa fa-check"></i>12.6.1 Ejercicios</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="datos-relacionales.html"><a href="datos-relacionales.html"><i class="fa fa-check"></i><b>13</b> Datos relacionales</a>
<ul>
<li class="chapter" data-level="" data-path="datos-relacionales.html"><a href="datos-relacionales.html#vuelos-relacionales"><i class="fa fa-check"></i>13.2 Datos sobre vuelos</a>
<ul>
<li class="chapter" data-level="" data-path="datos-relacionales.html"><a href="datos-relacionales.html#ejercicios-1321"><i class="fa fa-check"></i>13.2.1 Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="datos-relacionales.html"><a href="datos-relacionales.html#claves"><i class="fa fa-check"></i>13.3 Claves</a>
<ul>
<li class="chapter" data-level="" data-path="datos-relacionales.html"><a href="datos-relacionales.html#ejercicios-1331"><i class="fa fa-check"></i>13.3.1 Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="13.1" data-path="datos-relacionales.html"><a href="datos-relacionales.html#mutating-joins"><i class="fa fa-check"></i><b>13.1</b> 13.4 Uniones de transformación</a>
<ul>
<li class="chapter" data-level="" data-path="datos-relacionales.html"><a href="datos-relacionales.html#ejercicios-1346"><i class="fa fa-check"></i>13.4.6 Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="13.2" data-path="datos-relacionales.html"><a href="datos-relacionales.html#filtering-joins"><i class="fa fa-check"></i><b>13.2</b> 13.5 Uniones de filtro</a>
<ul>
<li class="chapter" data-level="" data-path="datos-relacionales.html"><a href="datos-relacionales.html#ejercicios-1351"><i class="fa fa-check"></i>13.5.1 Ejercicios</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="14" data-path="cadenas-de-caracteres.html"><a href="cadenas-de-caracteres.html"><i class="fa fa-check"></i><b>14</b> Cadenas de caracteres</a>
<ul>
<li class="chapter" data-level="" data-path="cadenas-de-caracteres.html"><a href="cadenas-de-caracteres.html#cadena-basics"><i class="fa fa-check"></i>14.2 Cadenas: elementos básicos</a>
<ul>
<li class="chapter" data-level="" data-path="cadenas-de-caracteres.html"><a href="cadenas-de-caracteres.html#ejercicios-1425"><i class="fa fa-check"></i>14.2.5 Ejercicios</a></li>
<li class="chapter" data-level="" data-path="cadenas-de-caracteres.html"><a href="cadenas-de-caracteres.html#coincidencia"><i class="fa fa-check"></i>14.2.6 Buscar coincidencia de patrones con expresiones regulares</a></li>
<li class="chapter" data-level="" data-path="cadenas-de-caracteres.html"><a href="cadenas-de-caracteres.html#anclas"><i class="fa fa-check"></i>14.2.8 Anclas</a></li>
<li class="chapter" data-level="" data-path="cadenas-de-caracteres.html"><a href="cadenas-de-caracteres.html#clases-caracteres"><i class="fa fa-check"></i>14.2.9 Clases de caracteres y alternativas</a></li>
<li class="chapter" data-level="" data-path="cadenas-de-caracteres.html"><a href="cadenas-de-caracteres.html#repeticion"><i class="fa fa-check"></i>14.2.10 Repetición</a></li>
<li class="chapter" data-level="" data-path="cadenas-de-caracteres.html"><a href="cadenas-de-caracteres.html#agrupamiento"><i class="fa fa-check"></i>14.2.11 Agrupamiento y referencias previas</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="cadenas-de-caracteres.html"><a href="cadenas-de-caracteres.html#herramientas"><i class="fa fa-check"></i>14.3 Herramientas</a>
<ul>
<li class="chapter" data-level="" data-path="cadenas-de-caracteres.html"><a href="cadenas-de-caracteres.html#ejercicios-1432"><i class="fa fa-check"></i>14.3.2 Ejercicios</a></li>
<li class="chapter" data-level="" data-path="cadenas-de-caracteres.html"><a href="cadenas-de-caracteres.html#extraer-coincidencias"><i class="fa fa-check"></i>14.3.3 Extraer coincidencias</a></li>
<li class="chapter" data-level="" data-path="cadenas-de-caracteres.html"><a href="cadenas-de-caracteres.html#coincidencias-agrupadas"><i class="fa fa-check"></i>14.3.4 Coincidencias agrupadas</a></li>
<li class="chapter" data-level="" data-path="cadenas-de-caracteres.html"><a href="cadenas-de-caracteres.html#remplazar-coincidencias"><i class="fa fa-check"></i>14.3.5 Remplazar coincidencias</a></li>
<li class="chapter" data-level="" data-path="cadenas-de-caracteres.html"><a href="cadenas-de-caracteres.html#divisiones"><i class="fa fa-check"></i>14.3.6 Divisiones</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="cadenas-de-caracteres.html"><a href="cadenas-de-caracteres.html#otros-patrones144"><i class="fa fa-check"></i>14.4 Otro tipo de patrones</a>
<ul>
<li class="chapter" data-level="" data-path="cadenas-de-caracteres.html"><a href="cadenas-de-caracteres.html#ejercicios-1441"><i class="fa fa-check"></i>14.4.1 Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="cadenas-de-caracteres.html"><a href="cadenas-de-caracteres.html#stringi"><i class="fa fa-check"></i>14.6 stringi</a>
<ul>
<li class="chapter" data-level="" data-path="cadenas-de-caracteres.html"><a href="cadenas-de-caracteres.html#ejercicios-1461"><i class="fa fa-check"></i>14.6.1 Ejercicios</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="15" data-path="factores.html"><a href="factores.html"><i class="fa fa-check"></i><b>15</b> Factores</a>
<ul>
<li class="chapter" data-level="" data-path="factores.html"><a href="factores.html#encuesta"><i class="fa fa-check"></i>15.3 Encuesta social general</a>
<ul>
<li class="chapter" data-level="" data-path="factores.html"><a href="factores.html#ejercicios-1531"><i class="fa fa-check"></i>15.3.1 Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="factores.html"><a href="factores.html#modificar-factores"><i class="fa fa-check"></i>15.4 Modificar el orden de los factores</a>
<ul>
<li class="chapter" data-level="" data-path="factores.html"><a href="factores.html#ejercicios-1541"><i class="fa fa-check"></i>15.4.1 Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="factores.html"><a href="factores.html#modificar-niveles"><i class="fa fa-check"></i>15.5 Modificar los niveles de los factores</a>
<ul>
<li class="chapter" data-level="" data-path="factores.html"><a href="factores.html#ejercicios-1551"><i class="fa fa-check"></i>15.5.1 Ejercicios</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="16" data-path="horas-y-fechas.html"><a href="horas-y-fechas.html"><i class="fa fa-check"></i><b>16</b> Horas y fechas</a>
<ul>
<li class="chapter" data-level="" data-path="horas-y-fechas.html"><a href="horas-y-fechas.html#crear-horas"><i class="fa fa-check"></i>16.2 Creando horas/fechas</a>
<ul>
<li class="chapter" data-level="" data-path="horas-y-fechas.html"><a href="horas-y-fechas.html#ejercicios-1624"><i class="fa fa-check"></i>16.2.4 Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="horas-y-fechas.html"><a href="horas-y-fechas.html#componentes-fecha"><i class="fa fa-check"></i>16.3 Componentes fecha-hora</a>
<ul>
<li class="chapter" data-level="" data-path="horas-y-fechas.html"><a href="horas-y-fechas.html#ejercicios-1634"><i class="fa fa-check"></i>16.3.4 Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="horas-y-fechas.html"><a href="horas-y-fechas.html#lapsos-tiempo"><i class="fa fa-check"></i>16.4 Lapsos de tiempo</a>
<ul>
<li class="chapter" data-level="" data-path="horas-y-fechas.html"><a href="horas-y-fechas.html#ejercicios-1645"><i class="fa fa-check"></i>16.4.5 Ejercicios</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>III Programar</b></span></li>
<li class="chapter" data-level="17" data-path="introducción-6.html"><a href="introducción-6.html"><i class="fa fa-check"></i><b>17</b> Introducción</a></li>
<li class="chapter" data-level="18" data-path="pipes.html"><a href="pipes.html"><i class="fa fa-check"></i><b>18</b> Pipes</a></li>
<li class="chapter" data-level="19" data-path="funciones.html"><a href="funciones.html"><i class="fa fa-check"></i><b>19</b> Funciones</a>
<ul>
<li class="chapter" data-level="" data-path="funciones.html"><a href="funciones.html#escribir-funcion"><i class="fa fa-check"></i>19.2 ¿Cuándo deberías escribir una función?</a>
<ul>
<li class="chapter" data-level="" data-path="funciones.html"><a href="funciones.html#ejercicios-1921"><i class="fa fa-check"></i>19.2.1 Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="funciones.html"><a href="funciones.html#funciones-humanos"><i class="fa fa-check"></i>19.3 Las funciones son para los humanos y las computadoras</a>
<ul>
<li class="chapter" data-level="" data-path="funciones.html"><a href="funciones.html#ejercicios-1931"><i class="fa fa-check"></i>19.3.1 Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="funciones.html"><a href="funciones.html#ejecucion-condicional"><i class="fa fa-check"></i>19.4 Ejecución condicional</a>
<ul>
<li class="chapter" data-level="" data-path="funciones.html"><a href="funciones.html#ejercicios-1944"><i class="fa fa-check"></i>19.4.4 Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="funciones.html"><a href="funciones.html#argumentos-funciones"><i class="fa fa-check"></i>19.5 Argumentos de funciones</a>
<ul>
<li class="chapter" data-level="" data-path="funciones.html"><a href="funciones.html#ejercicios-1955"><i class="fa fa-check"></i>19.5.5 Ejercicios</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="20" data-path="vectores.html"><a href="vectores.html"><i class="fa fa-check"></i><b>20</b> Vectores</a>
<ul>
<li class="chapter" data-level="" data-path="vectores.html"><a href="vectores.html#vectores-atomicos"><i class="fa fa-check"></i>20.3 Tipos importantes de vectores atómicos</a>
<ul>
<li class="chapter" data-level="" data-path="vectores.html"><a href="vectores.html#ejercicios-2035"><i class="fa fa-check"></i>20.3.5 Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="vectores.html"><a href="vectores.html#uso-vectores"><i class="fa fa-check"></i>20.4 Usando vectores atómicos</a>
<ul>
<li class="chapter" data-level="" data-path="vectores.html"><a href="vectores.html#ejercicios-2046"><i class="fa fa-check"></i>20.4.6 Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="vectores.html"><a href="vectores.html#listas"><i class="fa fa-check"></i>20.5 Vectores Recursivos (listas)</a>
<ul>
<li class="chapter" data-level="" data-path="vectores.html"><a href="vectores.html#ejercicios-2054"><i class="fa fa-check"></i>20.5.4 Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="vectores.html"><a href="vectores.html#vectores-aumentados"><i class="fa fa-check"></i>20.7 Vectores Aumentados</a>
<ul>
<li class="chapter" data-level="" data-path="vectores.html"><a href="vectores.html#ejercicios-2074"><i class="fa fa-check"></i>20.7.4 Ejecicios</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="21" data-path="iteración.html"><a href="iteración.html"><i class="fa fa-check"></i><b>21</b> Iteración</a>
<ul>
<li><a href="iteración.html#bucles-for">21.2 Bucles <em>for</em></a>
<ul>
<li class="chapter" data-level="" data-path="iteración.html"><a href="iteración.html#ejercicios2121"><i class="fa fa-check"></i>21.2.1 Ejercicios</a></li>
</ul></li>
<li><a href="iteración.html#variaciones-bucles">21.3 Variaciones de bucles <em>for</em></a>
<ul>
<li class="chapter" data-level="" data-path="iteración.html"><a href="iteración.html#ejercicios-2135"><i class="fa fa-check"></i>21.3.5 Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="21.1" data-path="iteración.html"><a href="iteración.html#bucles-for-vs.-funcionales-for-funcionales"><i class="fa fa-check"></i><b>21.1</b> 21.4 Bucles <em>for</em> vs. funcionales{-for-funcionales</a>
<ul>
<li class="chapter" data-level="" data-path="iteración.html"><a href="iteración.html#ejercicios-2141"><i class="fa fa-check"></i>21.4.1 Ejercicios</a></li>
</ul></li>
<li><a href="iteración.html#funciones-map">21.5 Las funciones <em>map</em></a>
<ul>
<li class="chapter" data-level="" data-path="iteración.html"><a href="iteración.html#ejercicios-2153"><i class="fa fa-check"></i>21.5.3 Ejercicios</a></li>
</ul></li>
<li><a href="iteración.html#otros-patrones">21.9.1 Otros patrones para los bucles <em>for</em></a>
<ul>
<li class="chapter" data-level="" data-path="iteración.html"><a href="iteración.html#ejercicios-2193"><i class="fa fa-check"></i>21.9.3 Ejercicios</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>IV Modelar</b></span></li>
<li class="chapter" data-level="22" data-path="introducción-7.html"><a href="introducción-7.html"><i class="fa fa-check"></i><b>22</b> Introducción</a></li>
<li class="chapter" data-level="23" data-path="modelos-conceptos-básicos.html"><a href="modelos-conceptos-básicos.html"><i class="fa fa-check"></i><b>23</b> Modelos: conceptos básicos</a>
<ul>
<li class="chapter" data-level="" data-path="modelos-conceptos-básicos.html"><a href="modelos-conceptos-básicos.html#modelo-simple"><i class="fa fa-check"></i>23.2 Un modelo simple</a>
<ul>
<li class="chapter" data-level="" data-path="modelos-conceptos-básicos.html"><a href="modelos-conceptos-básicos.html#ejercicios-2321"><i class="fa fa-check"></i>23.2.1 Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="modelos-conceptos-básicos.html"><a href="modelos-conceptos-básicos.html#visualizando-modelos"><i class="fa fa-check"></i>23.3 Visualizando modelos</a>
<ul>
<li class="chapter" data-level="" data-path="modelos-conceptos-básicos.html"><a href="modelos-conceptos-básicos.html#ejercicios-2333"><i class="fa fa-check"></i>23.3.3 Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="modelos-conceptos-básicos.html"><a href="modelos-conceptos-básicos.html#familias-modelos"><i class="fa fa-check"></i>23.4 Fórmulas y familias de modelos</a>
<ul>
<li class="chapter" data-level="" data-path="modelos-conceptos-básicos.html"><a href="modelos-conceptos-básicos.html#ejercicios-2345"><i class="fa fa-check"></i>23.4.5 Ejercicios</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="24" data-path="construcción-de-modelos.html"><a href="construcción-de-modelos.html"><i class="fa fa-check"></i><b>24</b> Construcción de modelos</a>
<ul>
<li class="chapter" data-level="" data-path="construcción-de-modelos.html"><a href="construcción-de-modelos.html#diamantes-caros"><i class="fa fa-check"></i>24.2 ¿Por qué los diamantes de baja calidad son más caros?</a>
<ul>
<li class="chapter" data-level="" data-path="construcción-de-modelos.html"><a href="construcción-de-modelos.html#ejercicios-2423"><i class="fa fa-check"></i>24.2.3 Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="construcción-de-modelos.html"><a href="construcción-de-modelos.html#vuelos-diarios"><i class="fa fa-check"></i>24.3 ¿Qué afecta el número de vuelos diarios?</a>
<ul>
<li class="chapter" data-level="" data-path="construcción-de-modelos.html"><a href="construcción-de-modelos.html#ejercicios-2435"><i class="fa fa-check"></i>24.3.5 Ejercicios</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="25" data-path="muchos-modelos.html"><a href="muchos-modelos.html"><i class="fa fa-check"></i><b>25</b> Muchos modelos</a>
<ul>
<li class="chapter" data-level="" data-path="muchos-modelos.html"><a href="muchos-modelos.html#gapminder"><i class="fa fa-check"></i>25.2 gapminder</a>
<ul>
<li class="chapter" data-level="" data-path="muchos-modelos.html"><a href="muchos-modelos.html#ejercicios-2525"><i class="fa fa-check"></i>25.2.5 Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="muchos-modelos.html"><a href="muchos-modelos.html#columnas-lista"><i class="fa fa-check"></i>25.4 Creando columnas-lista</a>
<ul>
<li class="chapter" data-level="" data-path="muchos-modelos.html"><a href="muchos-modelos.html#ejercicios-2545"><i class="fa fa-check"></i>25.4.5 Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="muchos-modelos.html"><a href="muchos-modelos.html#simplificando"><i class="fa fa-check"></i>25.5 Simplificando columnas-lista</a>
<ul>
<li class="chapter" data-level="" data-path="muchos-modelos.html"><a href="muchos-modelos.html#ejercicios-2553"><i class="fa fa-check"></i>25.5.3 Ejercicios</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>V Comunicar</b></span></li>
<li class="chapter" data-level="26" data-path="introducción-8.html"><a href="introducción-8.html"><i class="fa fa-check"></i><b>26</b> Introducción</a></li>
<li class="chapter" data-level="27" data-path="r-markdown.html"><a href="r-markdown.html"><i class="fa fa-check"></i><b>27</b> R Markdown</a>
<ul>
<li class="chapter" data-level="" data-path="r-markdown.html"><a href="r-markdown.html#rmarkdown-basico"><i class="fa fa-check"></i>27.2 R Markdown básico</a>
<ul>
<li class="chapter" data-level="" data-path="r-markdown.html"><a href="r-markdown.html#ejercicios-2721"><i class="fa fa-check"></i>27.2.1 Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="r-markdown.html"><a href="r-markdown.html#formateo-texto"><i class="fa fa-check"></i>27.3 Formateo de texto con Markdown</a>
<ul>
<li class="chapter" data-level="" data-path="r-markdown.html"><a href="r-markdown.html#ejercicios-2731"><i class="fa fa-check"></i>27.3.1 Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="r-markdown.html"><a href="r-markdown.html#bloques-codigo"><i class="fa fa-check"></i>27.4 Bloques de código</a>
<ul>
<li class="chapter" data-level="" data-path="r-markdown.html"><a href="r-markdown.html#ejercicios-2747"><i class="fa fa-check"></i>27.4.7 Ejercicios</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="28" data-path="comunicar-con-gráficos.html"><a href="comunicar-con-gráficos.html"><i class="fa fa-check"></i><b>28</b> Comunicar con gráficos</a>
<ul>
<li class="chapter" data-level="" data-path="comunicar-con-gráficos.html"><a href="comunicar-con-gráficos.html#etiquetas"><i class="fa fa-check"></i>2.8 Etiquetas</a>
<ul>
<li class="chapter" data-level="" data-path="comunicar-con-gráficos.html"><a href="comunicar-con-gráficos.html#ejercicios-2821"><i class="fa fa-check"></i>28.2.1 Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="comunicar-con-gráficos.html"><a href="comunicar-con-gráficos.html#anotaciones"><i class="fa fa-check"></i>28.3 Anotaciones</a>
<ul>
<li class="chapter" data-level="" data-path="comunicar-con-gráficos.html"><a href="comunicar-con-gráficos.html#ejercicios-2831"><i class="fa fa-check"></i>28.3.1 Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="comunicar-con-gráficos.html"><a href="comunicar-con-gráficos.html#escalas"><i class="fa fa-check"></i>28.4 Escalas</a>
<ul>
<li class="chapter" data-level="" data-path="comunicar-con-gráficos.html"><a href="comunicar-con-gráficos.html#ejercicios-2844"><i class="fa fa-check"></i>28.4.4 Ejercicios</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="29" data-path="r-markdown-formats.html"><a href="r-markdown-formats.html"><i class="fa fa-check"></i><b>29</b> R Markdown formats</a></li>
<li class="chapter" data-level="30" data-path="flujo-de-trabajo-en-r-markdown.html"><a href="flujo-de-trabajo-en-r-markdown.html"><i class="fa fa-check"></i><b>30</b> Flujo de trabajo en R Markdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R para Ciencia de Datos: Soluciones de los ejercicios</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="visualización-de-datos" class="section level1" number="3">
<h1><span class="header-section-number">3</span> Visualización de datos</h1>
<div id="introducción-2" class="section level2" number="3.1">
<h2><span class="header-section-number">3.1</span> Introducción</h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="visualización-de-datos.html#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-2"><a href="visualización-de-datos.html#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(datos)</span></code></pre></div>
</div>
<div id="primeros-pasos" class="section level2 unnumbered">
<h2>3.2 Primeros pasos</h2>
<div id="ejercicios-324" class="section level3 unnumbered">
<h3>3.2.4 Ejercicios</h3>
<ol style="list-style-type: decimal">
<li>Corre <code>ggplot(data = millas)</code>. ¿Qué observas?</li>
</ol>
<div class="solucion">
<h3>
Solución
</h3>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="visualización-de-datos.html#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> millas)</span></code></pre></div>
<p><img src="03-visualize_files/figure-html/unnamed-chunk-2-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Este código crea un gráfico “vacío”. Solo se ve el fondo, pero no se dibuja nada sobre él porque no se han especificado las otras dos capas mínimas: <code>aes()</code> para mapear las variables y <code>geom_*()</code> para indicar la representación gráfica a utilizar.</p>
</div>
<ol start="2" style="list-style-type: decimal">
<li>¿Cuántas filas hay en <code>millas</code>? ¿Cuántas columnas?</li>
</ol>
<div class="solucion">
<h3>
Solución
</h3>
<p>Para contar el número de filas y columas podemos utilizar las funciones <code>nrow()</code> y <code>ncol()</code> del paquet dplyr:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="visualización-de-datos.html#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(millas)</span>
<span id="cb3-2"><a href="visualización-de-datos.html#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 234</span></span>
<span id="cb3-3"><a href="visualización-de-datos.html#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ncol</span>(millas)</span>
<span id="cb3-4"><a href="visualización-de-datos.html#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 11</span></span></code></pre></div>
<p>Hay 234 filas y 11 columnas en el dataset <code>millas</code>.</p>
<p>Otra manera de ver el número de filas y de columnas es imprimiendo el objeto en la consola. Al inicio nos indicará el tipo de objeto que es y sus dimensiones en términos de <code>filas x columnas</code>. Algo parecido ocurrirá su utilizamos <code>str()</code>. Si usamos <code>glimpse()</code> nos indicará esta información como número de obervaciones y número de variables</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="visualización-de-datos.html#cb4-1" aria-hidden="true" tabindex="-1"></a>millas</span>
<span id="cb4-2"><a href="visualización-de-datos.html#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 234 × 11</span></span>
<span id="cb4-3"><a href="visualización-de-datos.html#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   fabricante modelo cilindrada  anio cilindros transmision traccion ciudad</span></span>
<span id="cb4-4"><a href="visualización-de-datos.html#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   &lt;chr&gt;      &lt;chr&gt;       &lt;dbl&gt; &lt;int&gt;     &lt;int&gt; &lt;chr&gt;       &lt;chr&gt;     &lt;int&gt;</span></span>
<span id="cb4-5"><a href="visualización-de-datos.html#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 audi       a4            1.8  1999         4 auto(l5)    d            18</span></span>
<span id="cb4-6"><a href="visualización-de-datos.html#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 audi       a4            1.8  1999         4 manual(m5)  d            21</span></span>
<span id="cb4-7"><a href="visualización-de-datos.html#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3 audi       a4            2    2008         4 manual(m6)  d            20</span></span>
<span id="cb4-8"><a href="visualización-de-datos.html#cb4-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4 audi       a4            2    2008         4 auto(av)    d            21</span></span>
<span id="cb4-9"><a href="visualización-de-datos.html#cb4-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5 audi       a4            2.8  1999         6 auto(l5)    d            16</span></span>
<span id="cb4-10"><a href="visualización-de-datos.html#cb4-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6 audi       a4            2.8  1999         6 manual(m5)  d            18</span></span>
<span id="cb4-11"><a href="visualización-de-datos.html#cb4-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # … with 228 more rows, and 3 more variables: autopista &lt;int&gt;,</span></span>
<span id="cb4-12"><a href="visualización-de-datos.html#cb4-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; #   combustible &lt;chr&gt;, clase &lt;chr&gt;</span></span>
<span id="cb4-13"><a href="visualización-de-datos.html#cb4-13" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(millas)</span>
<span id="cb4-14"><a href="visualización-de-datos.html#cb4-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; tibble [234 × 11] (S3: tbl_df/tbl/data.frame)</span></span>
<span id="cb4-15"><a href="visualización-de-datos.html#cb4-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ fabricante : chr [1:234] &quot;audi&quot; &quot;audi&quot; &quot;audi&quot; &quot;audi&quot; ...</span></span>
<span id="cb4-16"><a href="visualización-de-datos.html#cb4-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ modelo     : chr [1:234] &quot;a4&quot; &quot;a4&quot; &quot;a4&quot; &quot;a4&quot; ...</span></span>
<span id="cb4-17"><a href="visualización-de-datos.html#cb4-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ cilindrada : num [1:234] 1.8 1.8 2 2 2.8 2.8 3.1 1.8 1.8 2 ...</span></span>
<span id="cb4-18"><a href="visualización-de-datos.html#cb4-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ anio       : int [1:234] 1999 1999 2008 2008 1999 1999 2008 1999 1999 2008 ...</span></span>
<span id="cb4-19"><a href="visualización-de-datos.html#cb4-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ cilindros  : int [1:234] 4 4 4 4 6 6 6 4 4 4 ...</span></span>
<span id="cb4-20"><a href="visualización-de-datos.html#cb4-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ transmision: chr [1:234] &quot;auto(l5)&quot; &quot;manual(m5)&quot; &quot;manual(m6)&quot; &quot;auto(av)&quot; ...</span></span>
<span id="cb4-21"><a href="visualización-de-datos.html#cb4-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ traccion   : chr [1:234] &quot;d&quot; &quot;d&quot; &quot;d&quot; &quot;d&quot; ...</span></span>
<span id="cb4-22"><a href="visualización-de-datos.html#cb4-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ ciudad     : int [1:234] 18 21 20 21 16 18 18 18 16 20 ...</span></span>
<span id="cb4-23"><a href="visualización-de-datos.html#cb4-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ autopista  : int [1:234] 29 29 31 30 26 26 27 26 25 28 ...</span></span>
<span id="cb4-24"><a href="visualización-de-datos.html#cb4-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ combustible: chr [1:234] &quot;p&quot; &quot;p&quot; &quot;p&quot; &quot;p&quot; ...</span></span>
<span id="cb4-25"><a href="visualización-de-datos.html#cb4-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ clase      : chr [1:234] &quot;compacto&quot; &quot;compacto&quot; &quot;compacto&quot; &quot;compacto&quot; ...</span></span>
<span id="cb4-26"><a href="visualización-de-datos.html#cb4-26" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(millas)</span>
<span id="cb4-27"><a href="visualización-de-datos.html#cb4-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Rows: 234</span></span>
<span id="cb4-28"><a href="visualización-de-datos.html#cb4-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Columns: 11</span></span>
<span id="cb4-29"><a href="visualización-de-datos.html#cb4-29" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $ fabricante  &lt;chr&gt; &quot;audi&quot;, &quot;audi&quot;, &quot;audi&quot;, &quot;audi&quot;, &quot;audi&quot;, &quot;audi&quot;, &quot;audi&quot;, &quot;a…</span></span>
<span id="cb4-30"><a href="visualización-de-datos.html#cb4-30" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $ modelo      &lt;chr&gt; &quot;a4&quot;, &quot;a4&quot;, &quot;a4&quot;, &quot;a4&quot;, &quot;a4&quot;, &quot;a4&quot;, &quot;a4&quot;, &quot;a4 quattro&quot;, &quot;a…</span></span>
<span id="cb4-31"><a href="visualización-de-datos.html#cb4-31" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $ cilindrada  &lt;dbl&gt; 1.8, 1.8, 2.0, 2.0, 2.8, 2.8, 3.1, 1.8, 1.8, 2.0, 2.0, 2.8…</span></span>
<span id="cb4-32"><a href="visualización-de-datos.html#cb4-32" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $ anio        &lt;int&gt; 1999, 1999, 2008, 2008, 1999, 1999, 2008, 1999, 1999, 2008…</span></span>
<span id="cb4-33"><a href="visualización-de-datos.html#cb4-33" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $ cilindros   &lt;int&gt; 4, 4, 4, 4, 6, 6, 6, 4, 4, 4, 4, 6, 6, 6, 6, 6, 6, 8, 8, 8…</span></span>
<span id="cb4-34"><a href="visualización-de-datos.html#cb4-34" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $ transmision &lt;chr&gt; &quot;auto(l5)&quot;, &quot;manual(m5)&quot;, &quot;manual(m6)&quot;, &quot;auto(av)&quot;, &quot;auto(…</span></span>
<span id="cb4-35"><a href="visualización-de-datos.html#cb4-35" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $ traccion    &lt;chr&gt; &quot;d&quot;, &quot;d&quot;, &quot;d&quot;, &quot;d&quot;, &quot;d&quot;, &quot;d&quot;, &quot;d&quot;, &quot;4&quot;, &quot;4&quot;, &quot;4&quot;, &quot;4&quot;, &quot;4&quot;…</span></span>
<span id="cb4-36"><a href="visualización-de-datos.html#cb4-36" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $ ciudad      &lt;int&gt; 18, 21, 20, 21, 16, 18, 18, 18, 16, 20, 19, 15, 17, 17, 15…</span></span>
<span id="cb4-37"><a href="visualización-de-datos.html#cb4-37" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $ autopista   &lt;int&gt; 29, 29, 31, 30, 26, 26, 27, 26, 25, 28, 27, 25, 25, 25, 25…</span></span>
<span id="cb4-38"><a href="visualización-de-datos.html#cb4-38" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $ combustible &lt;chr&gt; &quot;p&quot;, &quot;p&quot;, &quot;p&quot;, &quot;p&quot;, &quot;p&quot;, &quot;p&quot;, &quot;p&quot;, &quot;p&quot;, &quot;p&quot;, &quot;p&quot;, &quot;p&quot;, &quot;p&quot;…</span></span>
<span id="cb4-39"><a href="visualización-de-datos.html#cb4-39" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $ clase       &lt;chr&gt; &quot;compacto&quot;, &quot;compacto&quot;, &quot;compacto&quot;, &quot;compacto&quot;, &quot;compacto&quot;…</span></span></code></pre></div>
</div>
<ol start="3" style="list-style-type: decimal">
<li>¿Qué describe la variable <code>traccion</code>? Lee la ayuda de <code>?millas</code> para encontrar la respuesta.</li>
</ol>
<div class="solucion">
<h3>
Solución
</h3>
<p><code>traccion</code> esa una variable categórica que clasifica los vehículos en tracción delantera, trasera o de cuatro ruedas.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="visualización-de-datos.html#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(millas<span class="sc">$</span>traccion)</span>
<span id="cb5-2"><a href="visualización-de-datos.html#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;d&quot; &quot;4&quot; &quot;t&quot;</span></span></code></pre></div>
</div>
<ol start="4" style="list-style-type: decimal">
<li>Realiza un gráfico de dispersión de <code>autopista</code> versus <code>cilindros</code>.</li>
</ol>
<div class="solucion">
<h3>
Solución
</h3>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="visualización-de-datos.html#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(millas, <span class="fu">aes</span>(<span class="at">x =</span> autopista, <span class="at">y =</span> cilindros)) <span class="sc">+</span></span>
<span id="cb6-2"><a href="visualización-de-datos.html#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code></pre></div>
<p><img src="03-visualize_files/figure-html/unnamed-chunk-6-1.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
<ol start="5" style="list-style-type: decimal">
<li>¿Qué sucede cuando haces un gráfico de dispersión de <code>clase</code> versus <code>traccion</code>? ¿Por qué no es útil este gráfico?</li>
</ol>
<div class="solucion">
<h3>
Solución
</h3>
<p>El gráfico resultante tiene pocos puntos. Ambas variables son categóricas y por lo tanto existe una cantidad limitada de combinaciones posibles.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="visualización-de-datos.html#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(millas, <span class="fu">aes</span>(<span class="at">x =</span> clase, <span class="at">y =</span> traccion)) <span class="sc">+</span></span>
<span id="cb7-2"><a href="visualización-de-datos.html#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code></pre></div>
<p><img src="03-visualize_files/figure-html/unnamed-chunk-7-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Otro problema es la frecuencia de combinaciones posibles no es la misma en todos los casos.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="visualización-de-datos.html#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">count</span>(millas, traccion, clase)</span>
<span id="cb8-2"><a href="visualización-de-datos.html#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 12 × 3</span></span>
<span id="cb8-3"><a href="visualización-de-datos.html#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   traccion clase           n</span></span>
<span id="cb8-4"><a href="visualización-de-datos.html#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   &lt;chr&gt;    &lt;chr&gt;       &lt;int&gt;</span></span>
<span id="cb8-5"><a href="visualización-de-datos.html#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 4        compacto       12</span></span>
<span id="cb8-6"><a href="visualización-de-datos.html#cb8-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 4        mediano         3</span></span>
<span id="cb8-7"><a href="visualización-de-datos.html#cb8-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3 4        pickup         33</span></span>
<span id="cb8-8"><a href="visualización-de-datos.html#cb8-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4 4        subcompacto     4</span></span>
<span id="cb8-9"><a href="visualización-de-datos.html#cb8-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5 4        suv            51</span></span>
<span id="cb8-10"><a href="visualización-de-datos.html#cb8-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6 d        compacto       35</span></span>
<span id="cb8-11"><a href="visualización-de-datos.html#cb8-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # … with 6 more rows</span></span></code></pre></div>
<p>Los gráficos de dispersión debieran usarse con variables continuas y cuando los valores son únicos.</p>
</div>
</div>
</div>
<div id="mapeos-esteticos" class="section level2 unnumbered">
<h2>3.3 Mapeos estéticos</h2>
<div id="ejercicios-331" class="section level3 unnumbered">
<h3>3.3.1 Ejercicios</h3>
<ol style="list-style-type: decimal">
<li><p>¿Qué no va bien en este código? ¿Por qué hay puntos que no son azules?</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="visualización-de-datos.html#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> millas) <span class="sc">+</span></span>
<span id="cb9-2"><a href="visualización-de-datos.html#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> cilindrada, <span class="at">y =</span> autopista, <span class="at">color =</span> <span class="st">&quot;blue&quot;</span>))</span></code></pre></div>
<p><img src="03-visualize_files/figure-html/unnamed-chunk-9-1.png" width="70%" style="display: block; margin: auto;" /></p></li>
</ol>
<div class="solucion">
<h3>
Solución
</h3>
<p>Se incluyó el color dentro de <code>aes()</code>, por lo cual se trata como una variable, lo cual sería útil si tuvieramos una columna con información de los colores.</p>
<p>Para dejar todos los puntos en color azul, se debe cambiar el orden de los parámetros.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="visualización-de-datos.html#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> millas) <span class="sc">+</span></span>
<span id="cb10-2"><a href="visualización-de-datos.html#cb10-2" aria-hidden="true" tabindex="-1"></a>     <span class="fu">geom_point</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> cilindrada, <span class="at">y =</span> autopista), <span class="at">color =</span> <span class="st">&quot;blue&quot;</span>)</span></code></pre></div>
<p><img src="03-visualize_files/figure-html/unnamed-chunk-10-1.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
<ol start="2" style="list-style-type: decimal">
<li>¿Qué variables en <code>millas</code> son categóricas? ¿Qué variables son continuas? (Sugerencia: escribe <code>?millas</code> para leer la documentación de ayuda para este conjunto de datos). ¿Cómo puedes ver esta información cuando ejecutas <code>millas</code>?</li>
</ol>
<div class="solucion">
<h3>
Solución
</h3>
<p>Variables categóricas: modelo, transmisión, tracción, combustible y clase.</p>
<p>Variables continuas: cilindrada, año, cilindros, ciudad, autopista.</p>
</div>
<ol start="3" style="list-style-type: decimal">
<li>Asigna una variable continua a <code>color</code>, <code>size</code>, y <code>shape</code>. ¿Cómo se comportan estas estéticas de manera diferente para variables categóricas y variables continuas?</li>
</ol>
<div class="solucion">
<h3>
Solución
</h3>
<p>Una posibilidad es graficar rendimiento de combustible en autopista dado el tipo de motor. Como información adicional usamos el rendimiento en ciudad como color, de modo de contar con una paleta de colores informativa.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="visualización-de-datos.html#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(millas, <span class="fu">aes</span>(<span class="at">x =</span> cilindrada, <span class="at">y =</span> autopista, <span class="at">colour =</span> ciudad)) <span class="sc">+</span></span>
<span id="cb11-2"><a href="visualización-de-datos.html#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code></pre></div>
<p><img src="03-visualize_files/figure-html/unnamed-chunk-11-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Los otros casos quedan como ejercicio.</p>
</div>
<ol start="4" style="list-style-type: decimal">
<li>¿Qué ocurre si asignas o mapeas la misma variable a múltiples estéticas?</li>
</ol>
<div class="solucion">
<h3>
Solución
</h3>
<p>R va a generar un gráfico con información redundante, lo cual se debiera evitar.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="visualización-de-datos.html#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(millas, <span class="fu">aes</span>(<span class="at">x =</span> cilindrada, <span class="at">y =</span> autopista, <span class="at">colour =</span> autopista, <span class="at">size =</span> autopista)) <span class="sc">+</span></span>
<span id="cb12-2"><a href="visualización-de-datos.html#cb12-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code></pre></div>
<p><img src="03-visualize_files/figure-html/unnamed-chunk-12-1.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
<ol start="5" style="list-style-type: decimal">
<li>¿Qué hace la estética <code>stroke</code>? ¿Con qué formas trabaja? (Sugerencia: consultar <code>?geom_point</code>)</li>
</ol>
<div class="solucion">
<h3>
Solución
</h3>
<p>Cambia el tamaño de los bordes de las formas 21 a 25. Para estas formas es posible cambiar el color de relleno y borde y también el tamaño de los bordes.</p>
<p>Ejemplo:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="visualización-de-datos.html#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mtautos, <span class="fu">aes</span>(peso, millas)) <span class="sc">+</span></span>
<span id="cb13-2"><a href="visualización-de-datos.html#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">shape =</span> <span class="dv">21</span>, <span class="at">colour =</span> <span class="st">&quot;black&quot;</span>, <span class="at">fill =</span> <span class="st">&quot;white&quot;</span>, <span class="at">size =</span> <span class="dv">5</span>, <span class="at">stroke =</span> <span class="dv">5</span>)</span></code></pre></div>
<p><img src="03-visualize_files/figure-html/unnamed-chunk-13-1.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
<ol start="6" style="list-style-type: decimal">
<li>¿Qué ocurre si se asigna o mapea una estética a algo diferente del nombre de una variable, como ser <code>aes(color = cilindrada &lt; 5)</code>?</li>
</ol>
<div class="solucion">
<h3>
Solución
</h3>
<p>R crea una variable temporal que da cuenta de la evaluación de la variable. En el caso de <code>cilindrada &lt; 5</code> el resultado es verdadero o falso y según esto se incluyen los colores en el gráfico.</p>
<p>Ejemplo:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="visualización-de-datos.html#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(millas, <span class="fu">aes</span>(<span class="at">x =</span> cilindrada, <span class="at">y =</span> autopista, <span class="at">colour =</span> cilindrada <span class="sc">&lt;</span> <span class="dv">5</span>)) <span class="sc">+</span></span>
<span id="cb14-2"><a href="visualización-de-datos.html#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code></pre></div>
<p><img src="03-visualize_files/figure-html/ex.3.3.1.6-1.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
</div>
</div>
<div id="separar-facetas" class="section level2 unnumbered">
<h2>3.5 Separar en facetas</h2>
<div id="ejercicios-351" class="section level3 unnumbered">
<h3>3.5.1 Ejercicios</h3>
<ol style="list-style-type: decimal">
<li>Qué ocurre si intentas separar en facetas a una variable continua?</li>
</ol>
<div class="solucion">
<h3>
Solución
</h3>
<p>Veamos un ejemplo:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="visualización-de-datos.html#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(millas, <span class="fu">aes</span>(<span class="at">x =</span> cilindros, <span class="at">y =</span> autopista)) <span class="sc">+</span></span>
<span id="cb15-2"><a href="visualización-de-datos.html#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb15-3"><a href="visualización-de-datos.html#cb15-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(. <span class="sc">~</span> ciudad)</span></code></pre></div>
<p><img src="03-visualize_files/figure-html/ex.3.5.1-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>La variable continua es convertida a una variable categórica y el gráfico contiene una faceta para cada valor,</p>
</div>
<ol start="2" style="list-style-type: decimal">
<li><p>¿Qué significan las celdas vacías que aparecen en el gráfico generado usando <code>facet_grid(traccion ~ cilindros)</code>?
¿Cómo se relacionan con este gráfico?</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="visualización-de-datos.html#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> millas) <span class="sc">+</span></span>
<span id="cb16-2"><a href="visualización-de-datos.html#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> traccion, <span class="at">y =</span> cilindros))</span></code></pre></div></li>
</ol>
<div class="solucion">
<h3>
Solución
</h3>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="visualización-de-datos.html#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> millas) <span class="sc">+</span></span>
<span id="cb17-2"><a href="visualización-de-datos.html#cb17-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> autopista, <span class="at">y =</span> ciudad)) <span class="sc">+</span></span>
<span id="cb17-3"><a href="visualización-de-datos.html#cb17-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(traccion <span class="sc">~</span> cilindros)</span></code></pre></div>
<p><img src="03-visualize_files/figure-html/unnamed-chunk-15-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Las celdas vacías (facetas) en este gráfico corresponden a combinaciones de <code>traccion</code>
y <code>cilindros</code> que no tienen observaciones.</p>
<p>Son las mismas ubicaciones en el gráfico de dispersión de <code>autopista</code> y <code>ciudad</code> que no
tienen gráfica.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="visualización-de-datos.html#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> millas) <span class="sc">+</span></span>
<span id="cb18-2"><a href="visualización-de-datos.html#cb18-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> autopista, <span class="at">y =</span> ciudad))</span></code></pre></div>
<p><img src="03-visualize_files/figure-html/unnamed-chunk-16-1.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
<ol start="3" style="list-style-type: decimal">
<li><p>¿Qué gráfica el siguiente código? ¿Qué hace <code>.</code> ?</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="visualización-de-datos.html#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> millas) <span class="sc">+</span></span>
<span id="cb19-2"><a href="visualización-de-datos.html#cb19-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> cilindrada, <span class="at">y =</span> autopista)) <span class="sc">+</span></span>
<span id="cb19-3"><a href="visualización-de-datos.html#cb19-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(traccion <span class="sc">~</span> .)</span>
<span id="cb19-4"><a href="visualización-de-datos.html#cb19-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-5"><a href="visualización-de-datos.html#cb19-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> millas) <span class="sc">+</span></span>
<span id="cb19-6"><a href="visualización-de-datos.html#cb19-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> cilindrada, <span class="at">y =</span> autopista)) <span class="sc">+</span></span>
<span id="cb19-7"><a href="visualización-de-datos.html#cb19-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(. <span class="sc">~</span> cilindros)</span></code></pre></div></li>
</ol>
<div class="solucion">
<h3>
Solución
</h3>
<p>El símbolo <code>.</code> ignora la dimensión al momento de dibujar las facetas.
Por ejemplo, <code>autopista ~ .</code> divide por los valores de <code>autopista</code> en el eje y.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="visualización-de-datos.html#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> millas) <span class="sc">+</span></span>
<span id="cb20-2"><a href="visualización-de-datos.html#cb20-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> cilindrada, <span class="at">y =</span> autopista)) <span class="sc">+</span></span>
<span id="cb20-3"><a href="visualización-de-datos.html#cb20-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(traccion <span class="sc">~</span> .)</span></code></pre></div>
<p><img src="03-visualize_files/figure-html/ex.3.5.1.4.a-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>A la vez, <code>. ~ cilindrada</code> va a dividir por los valores de <code>cyl</code> en el eje x.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="visualización-de-datos.html#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> millas) <span class="sc">+</span></span>
<span id="cb21-2"><a href="visualización-de-datos.html#cb21-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> cilindrada, <span class="at">y =</span> autopista)) <span class="sc">+</span></span>
<span id="cb21-3"><a href="visualización-de-datos.html#cb21-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(. <span class="sc">~</span> cilindros)</span></code></pre></div>
<p><img src="03-visualize_files/figure-html/ex.3.5.1.4.b-1.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
<ol start="4" style="list-style-type: decimal">
<li><p>Mira de nuevo el primer gráfico en facetas presentado en esta sección:</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="visualización-de-datos.html#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> millas) <span class="sc">+</span></span>
<span id="cb22-2"><a href="visualización-de-datos.html#cb22-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> cilindrada, <span class="at">y =</span> autopista)) <span class="sc">+</span></span>
<span id="cb22-3"><a href="visualización-de-datos.html#cb22-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> clase, <span class="at">nrow =</span> <span class="dv">2</span>)</span></code></pre></div>
<p>¿Cuáles son las ventajas de separar en facetas en lugar de aplicar una estética de color?
¿Cuáles son las desventajas?
¿Cómo cambiaría este balance si tuvieras un conjunto de datos más grande?</p></li>
</ol>
<div class="solucion">
<h3>
Solución
</h3>
<p>En el siguiente gráfico muestra la variable <code>clase</code> como color.</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="visualización-de-datos.html#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> millas) <span class="sc">+</span></span>
<span id="cb23-2"><a href="visualización-de-datos.html#cb23-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> cilindrada, <span class="at">y =</span> autopista, <span class="at">color =</span> clase))</span></code></pre></div>
<p><img src="03-visualize_files/figure-html/unnamed-chunk-19-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>La ventaja de usar <code>clase</code> como parte de las facetas en lugar de un argumento de color
es la posibilidad de incluir distintas categorías.
Es difícil distinguir entre los colores de las categorías “mediano” y “minivan”.</p>
<p>De acuerdo a las reglas de percepción, no se debería usar más de nueve colores para mostrar
información cualitativa.</p>
<p>Mostrar observaciones de distintas categorías en diferentes escalaes hace que sea difícil
comparar directamente entre los valores de distintas categorías.
Sin embargo, haría más fácil comparar la forma de la relación entre x e y en distintas
categorías.</p>
<p>La desventaja de usar <code>clase</code> para las facetas en lugar del argumento de color es la dificultad
de comparar valores entre categorías dado que las observaciones para cada categoría se ubican en
distintos gráficos.</p>
<p>Usando las mismas escalas para los ejes x e y en todas las facetas facilita comparar observaciones
entre categorías, pero sigue siendo una comparación más compleja respecto del caso en que todas
las observaciones se ubican en el mismo gráfico.
Dado que usar <code>clase</code> para el argumento de color sitúa todos los puntos en un mismo gráfico, muestra
la relación incondicional entre las variables x e y, lo que no ocurre al separar en distintos gráficos.</p>
<p>Los beneficios de codificar una variable mediante el color son crecientes si aumenta la cantidad de observaciones o el número de categorías. Si aumenta el número de categorías puede haber superposición y resulta complejo manejar esto con argumentos de color a menos que el número de observaciones sea pequeño y se pueda usar un argumento de distorsión (<em>jitter</em>).</p>
<p>El argumento de transparencia (<em>alpha</em>) no funciona bien con colores ya que la combinación de colores producto de la superposición no representa adecuadamente las categorías.</p>
<p>Si aumenta mucho el número de categorías va a ser cada vez más difícil contar con colores distintivos y será difícil distinguirlos.</p>
</div>
<ol start="5" style="list-style-type: decimal">
<li>Lee <code>?facet_wrap</code>. ¿Qué hace <code>nrow</code>? ¿Qué hace <code>ncol</code>?
¿Qué otras opciones controlan el diseño de los paneles individuales?
¿Por qué <code>facet_grid()</code> no tiene argumentos <code>nrow</code> y <code>ncol</code>?</li>
</ol>
<div class="solucion">
<h3>
Solución
</h3>
<p>Los argumentos <code>nrow</code> y <code>ncol</code> determinan el número de filas y columnas al momento de generar
las facetas. <code>facet_wrap()</code> opera sobre una única variable.</p>
<p><code>nrow</code> y <code>ncol</code> no son necesarios con <code>facet_grid</code> ya que el número de valores únicos en la función determina el número de filas y columnas.</p>
</div>
<ol start="6" style="list-style-type: decimal">
<li>Cuando usas <code>facet_grid()</code>, generalmente deberías poner la variable con un mayor número de niveles únicos en las columnas. ¿Por qué?</li>
</ol>
<div class="solucion">
<h3>
Solución
</h3>
<p>Hacerlo genera más espacio para las columnas si el gráfico se ubica de forma horizontal.</p>
</div>
</div>
</div>
<div id="objetos-geometricos" class="section level2 unnumbered">
<h2>3.6 Objetos geométricos</h2>
<div id="ejercicios-361" class="section level3 unnumbered">
<h3>3.6.1 Ejercicios</h3>
<ol style="list-style-type: decimal">
<li>¿Qué geom usarías para generar un gráfico de líneas?
¿Un diagrama de caja? ¿Un histograma? ¿Un gráfico de área?</li>
</ol>
<div class="solucion">
<h3>
Solución
</h3>
<ul>
<li>gráfico de líneas: <code>geom_line()</code></li>
<li>diagrama de caja: <code>geom_boxplot()</code></li>
<li>histograma: <code>geom_histogram()</code></li>
<li>gráfico de área: <code>geom_area()</code></li>
</ul>
</div>
<ol start="2" style="list-style-type: decimal">
<li>Ejecuta este código en tu mente y predice cómo se verá el <em>output</em>.
Luego, ejecuta el código en R y verifica tus predicciones.</li>
</ol>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="visualización-de-datos.html#cb24-1" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">data =</span> millas, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> cilindrada, <span class="at">y =</span> autopista, <span class="at">color =</span> traccion)) <span class="sc">+</span></span>
<span id="cb24-2"><a href="visualización-de-datos.html#cb24-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb24-3"><a href="visualización-de-datos.html#cb24-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(<span class="at">se =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<div class="solucion">
<h3>
Solución
</h3>
<p>El resultado es un diagrama de dispersión con <code>cilindrada</code> en el eje x, <code>autopista</code> en el eje y
y los puntos pintados de acuerdo a <code>traccion</code>.
También se incluirá una línea de tendencia, sin el error estándar, para cada grupo de <code>traccion</code>.</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="visualización-de-datos.html#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> millas, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> cilindrada, <span class="at">y =</span> autopista, <span class="at">colour =</span> traccion)) <span class="sc">+</span></span>
<span id="cb25-2"><a href="visualización-de-datos.html#cb25-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb25-3"><a href="visualización-de-datos.html#cb25-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">se =</span> <span class="cn">FALSE</span>)</span>
<span id="cb25-4"><a href="visualización-de-datos.html#cb25-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; `geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;</span></span></code></pre></div>
<p><img src="03-visualize_files/figure-html/unnamed-chunk-21-1.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
<ol start="3" style="list-style-type: decimal">
<li>¿Qué muestra <code>show.legend = FALSE</code>? ¿Qué pasa si lo quitas?
¿Por qué crees que lo usé antes en el capítulo?</li>
</ol>
<div class="solucion">
<h3>
Solución
</h3>
<p><code>show.legend = FALSE</code> oculta la leyenda.</p>
<p>Considera el siguiente ejemplo ya visto:</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="visualización-de-datos.html#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> millas) <span class="sc">+</span></span>
<span id="cb26-2"><a href="visualización-de-datos.html#cb26-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(</span>
<span id="cb26-3"><a href="visualización-de-datos.html#cb26-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> cilindrada, <span class="at">y =</span> autopista, <span class="at">colour =</span> traccion),</span>
<span id="cb26-4"><a href="visualización-de-datos.html#cb26-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">show.legend =</span> <span class="cn">FALSE</span></span>
<span id="cb26-5"><a href="visualización-de-datos.html#cb26-5" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb26-6"><a href="visualización-de-datos.html#cb26-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; `geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;</span></span></code></pre></div>
<p><img src="03-visualize_files/figure-html/unnamed-chunk-22-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Quitar el argumento <code>show.legend</code> o definir <code>show.legend = TRUE</code> mostrará la relación entre <code>traccion</code> y la paleta de colores.</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="visualización-de-datos.html#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> millas) <span class="sc">+</span></span>
<span id="cb27-2"><a href="visualización-de-datos.html#cb27-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> cilindrada, <span class="at">y =</span> autopista, <span class="at">colour =</span> traccion))</span>
<span id="cb27-3"><a href="visualización-de-datos.html#cb27-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; `geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;</span></span></code></pre></div>
<p><img src="03-visualize_files/figure-html/unnamed-chunk-23-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>En el capítulo, la leyenda se suprime ya que con tres gráficos, agregar una leyenda al tercero hará que se vea de distinto tamaño.</p>
<p>Dejar los gráficos de distinto tamaño dificulta ver cómo los argumentos cambian la apariencia de los gráficos.</p>
<p>La finalidad de estos gráficos es mostrar la diferencia sin grupos, usando una estética de <code>grupo</code> y usando una estética de <code>color</code>, lo cual crea grupos implícitos.</p>
<p>En el ejemplo, la leyenda no es necesaria ya que buscar los valores asociados a cada valor no ayuda a evidenciar los datos.</p>
</div>
<ol start="4" style="list-style-type: decimal">
<li>¿Qué hace el argumento <code>se</code> en <code>geom_smooth()</code>?</li>
</ol>
<div class="solucion">
<h3>
Solución
</h3>
<p>Agrega las bandas de error estándar a las líneas.</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="visualización-de-datos.html#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> millas, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> cilindrada, <span class="at">y =</span> autopista, <span class="at">colour =</span> traccion)) <span class="sc">+</span></span>
<span id="cb28-2"><a href="visualización-de-datos.html#cb28-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb28-3"><a href="visualización-de-datos.html#cb28-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">se =</span> <span class="cn">TRUE</span>)</span>
<span id="cb28-4"><a href="visualización-de-datos.html#cb28-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; `geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;</span></span></code></pre></div>
<p><img src="03-visualize_files/figure-html/unnamed-chunk-24-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Por defecto la opción es <code>se = TRUE</code>:</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="visualización-de-datos.html#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> millas, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> cilindrada, <span class="at">y =</span> autopista, <span class="at">colour =</span> traccion)) <span class="sc">+</span></span>
<span id="cb29-2"><a href="visualización-de-datos.html#cb29-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb29-3"><a href="visualización-de-datos.html#cb29-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>()</span>
<span id="cb29-4"><a href="visualización-de-datos.html#cb29-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; `geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;</span></span></code></pre></div>
<p><img src="03-visualize_files/figure-html/unnamed-chunk-25-1.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
<ol start="5" style="list-style-type: decimal">
<li><p>¿Se verán distintos estos gráficos? ¿Por qué sí o por qué no?</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="visualización-de-datos.html#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> millas, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> cilindrada, <span class="at">y =</span> autopista)) <span class="sc">+</span></span>
<span id="cb30-2"><a href="visualización-de-datos.html#cb30-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb30-3"><a href="visualización-de-datos.html#cb30-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>()</span>
<span id="cb30-4"><a href="visualización-de-datos.html#cb30-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-5"><a href="visualización-de-datos.html#cb30-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb30-6"><a href="visualización-de-datos.html#cb30-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">data =</span> millas, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> cilindrada, <span class="at">y =</span> autopista)) <span class="sc">+</span></span>
<span id="cb30-7"><a href="visualización-de-datos.html#cb30-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">data =</span> millas, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> cilindrada, <span class="at">y =</span> autopista))</span></code></pre></div></li>
</ol>
<div class="solucion">
<h3>
Solución
</h3>
<p>No. <code>geom_point()</code> y <code>geom_smooth()</code> toman los datos y estéticas de <code>ggplot()</code>, por lo que no hace falta especificar lo mismo dos veces.</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="visualización-de-datos.html#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> millas, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> cilindrada, <span class="at">y =</span> autopista)) <span class="sc">+</span></span>
<span id="cb31-2"><a href="visualización-de-datos.html#cb31-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb31-3"><a href="visualización-de-datos.html#cb31-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>()</span>
<span id="cb31-4"><a href="visualización-de-datos.html#cb31-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; `geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;</span></span></code></pre></div>
<p><img src="03-visualize_files/figure-html/unnamed-chunk-27-1.png" width="70%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="visualización-de-datos.html#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb32-2"><a href="visualización-de-datos.html#cb32-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">data =</span> millas, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> cilindrada, <span class="at">y =</span> autopista)) <span class="sc">+</span></span>
<span id="cb32-3"><a href="visualización-de-datos.html#cb32-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">data =</span> millas, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> cilindrada, <span class="at">y =</span> autopista))</span>
<span id="cb32-4"><a href="visualización-de-datos.html#cb32-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; `geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;</span></span></code></pre></div>
<p><img src="03-visualize_files/figure-html/unnamed-chunk-28-1.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
<ol start="6" style="list-style-type: decimal">
<li><p>Recrea el código R necesario para generar los siguientes gráficos:</p>
<p><img src="03-visualize_files/figure-html/unnamed-chunk-29-1.png" width="50%" /><img src="03-visualize_files/figure-html/unnamed-chunk-29-2.png" width="50%" /><img src="03-visualize_files/figure-html/unnamed-chunk-29-3.png" width="50%" /><img src="03-visualize_files/figure-html/unnamed-chunk-29-4.png" width="50%" /><img src="03-visualize_files/figure-html/unnamed-chunk-29-5.png" width="50%" /><img src="03-visualize_files/figure-html/unnamed-chunk-29-6.png" width="50%" /></p></li>
</ol>
<div class="solucion">
<h3>
Solución
</h3>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="visualización-de-datos.html#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> millas, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> cilindrada, <span class="at">y =</span> autopista)) <span class="sc">+</span></span>
<span id="cb33-2"><a href="visualización-de-datos.html#cb33-2" aria-hidden="true" tabindex="-1"></a>   <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb33-3"><a href="visualización-de-datos.html#cb33-3" aria-hidden="true" tabindex="-1"></a>   <span class="fu">geom_smooth</span>(<span class="at">se =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<p><img src="03-visualize_files/figure-html/unnamed-chunk-30-1.png" width="70%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="visualización-de-datos.html#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> millas, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> cilindrada, <span class="at">y =</span> autopista)) <span class="sc">+</span></span>
<span id="cb34-2"><a href="visualización-de-datos.html#cb34-2" aria-hidden="true" tabindex="-1"></a>   <span class="fu">geom_smooth</span>(<span class="fu">aes</span>(<span class="at">group =</span> traccion), <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb34-3"><a href="visualización-de-datos.html#cb34-3" aria-hidden="true" tabindex="-1"></a>   <span class="fu">geom_point</span>()</span></code></pre></div>
<p><img src="03-visualize_files/figure-html/unnamed-chunk-31-1.png" width="70%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="visualización-de-datos.html#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> millas, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> cilindrada, <span class="at">y =</span> autopista, <span class="at">color =</span> traccion)) <span class="sc">+</span></span>
<span id="cb35-2"><a href="visualización-de-datos.html#cb35-2" aria-hidden="true" tabindex="-1"></a>   <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb35-3"><a href="visualización-de-datos.html#cb35-3" aria-hidden="true" tabindex="-1"></a>   <span class="fu">geom_smooth</span>(<span class="at">se =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<p><img src="03-visualize_files/figure-html/unnamed-chunk-32-1.png" width="70%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="visualización-de-datos.html#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> millas, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> cilindrada, <span class="at">y =</span> autopista)) <span class="sc">+</span></span>
<span id="cb36-2"><a href="visualización-de-datos.html#cb36-2" aria-hidden="true" tabindex="-1"></a>   <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> traccion)) <span class="sc">+</span></span>
<span id="cb36-3"><a href="visualización-de-datos.html#cb36-3" aria-hidden="true" tabindex="-1"></a>   <span class="fu">geom_smooth</span>(<span class="at">se =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<p><img src="03-visualize_files/figure-html/unnamed-chunk-33-1.png" width="70%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="visualización-de-datos.html#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> millas, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> cilindrada, <span class="at">y =</span> autopista)) <span class="sc">+</span></span>
<span id="cb37-2"><a href="visualización-de-datos.html#cb37-2" aria-hidden="true" tabindex="-1"></a>   <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> traccion)) <span class="sc">+</span></span>
<span id="cb37-3"><a href="visualización-de-datos.html#cb37-3" aria-hidden="true" tabindex="-1"></a>   <span class="fu">geom_smooth</span>(<span class="fu">aes</span>(<span class="at">linetype =</span> traccion), <span class="at">se =</span> <span class="cn">FALSE</span>)</span>
<span id="cb37-4"><a href="visualización-de-datos.html#cb37-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; `geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;</span></span></code></pre></div>
<p><img src="03-visualize_files/figure-html/unnamed-chunk-34-1.png" width="70%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="visualización-de-datos.html#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> millas, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> cilindrada, <span class="at">y =</span> autopista)) <span class="sc">+</span></span>
<span id="cb38-2"><a href="visualización-de-datos.html#cb38-2" aria-hidden="true" tabindex="-1"></a>   <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">4</span>, <span class="at">colour =</span> <span class="st">&quot;white&quot;</span>) <span class="sc">+</span></span>
<span id="cb38-3"><a href="visualización-de-datos.html#cb38-3" aria-hidden="true" tabindex="-1"></a>   <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">colour =</span> traccion))</span></code></pre></div>
<p><img src="03-visualize_files/figure-html/unnamed-chunk-35-1.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
</div>
</div>
<div id="transformaciones-estadisticas" class="section level2 unnumbered">
<h2>3.7 Transformaciones estadísticas</h2>
<div id="ejercicios-371" class="section level3 unnumbered">
<h3>3.7.1 Ejercicios</h3>
<ol style="list-style-type: decimal">
<li>¿Cuál es el geom predeterminado asociado con <code>stat_summary()</code>?
¿Cómo podrías reescribir el gráfico anterior para usar esa función geom en lugar de la función stat?</li>
</ol>
<div class="solucion">
<h3>
Solución
</h3>
<p>El gráfico anterior es el siguiente:</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="visualización-de-datos.html#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> diamantes) <span class="sc">+</span></span>
<span id="cb39-2"><a href="visualización-de-datos.html#cb39-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_summary</span>(</span>
<span id="cb39-3"><a href="visualización-de-datos.html#cb39-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> corte, <span class="at">y =</span> profundidad),</span>
<span id="cb39-4"><a href="visualización-de-datos.html#cb39-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">fun.ymin =</span> min,</span>
<span id="cb39-5"><a href="visualización-de-datos.html#cb39-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">fun.ymax =</span> max,</span>
<span id="cb39-6"><a href="visualización-de-datos.html#cb39-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">fun.y =</span> median</span>
<span id="cb39-7"><a href="visualización-de-datos.html#cb39-7" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb39-8"><a href="visualización-de-datos.html#cb39-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Warning: `fun.y` is deprecated. Use `fun` instead.</span></span>
<span id="cb39-9"><a href="visualización-de-datos.html#cb39-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Warning: `fun.ymin` is deprecated. Use `fun.min` instead.</span></span>
<span id="cb39-10"><a href="visualización-de-datos.html#cb39-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Warning: `fun.ymax` is deprecated. Use `fun.max` instead.</span></span></code></pre></div>
<p><img src="03-visualize_files/figure-html/unnamed-chunk-36-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>La geometría por defecto para <a href="https://ggplot2.tidyverse.org/reference/stat_summary.html"><code>stat_summary()</code></a> es <code>geom_pointrange()</code>.</p>
<p>El estadístico por defecto para <a href="https://ggplot2.tidyverse.org/reference/geom_linerange.html"><code>geom_pointrange()</code></a> es <code>identity()</code> pero se puede incluir el argumento <code>stat = "summary"</code> para usar <code>stat_summary()</code> en lugar de <code>stat_identity()</code>.</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="visualización-de-datos.html#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> diamantes) <span class="sc">+</span></span>
<span id="cb40-2"><a href="visualización-de-datos.html#cb40-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_pointrange</span>(</span>
<span id="cb40-3"><a href="visualización-de-datos.html#cb40-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> corte, <span class="at">y =</span> profundidad),</span>
<span id="cb40-4"><a href="visualización-de-datos.html#cb40-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">stat =</span> <span class="st">&quot;summary&quot;</span></span>
<span id="cb40-5"><a href="visualización-de-datos.html#cb40-5" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb40-6"><a href="visualización-de-datos.html#cb40-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; No summary function supplied, defaulting to `mean_se()`</span></span></code></pre></div>
<p><img src="03-visualize_files/figure-html/unnamed-chunk-37-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>El mensaje resultante en <code>stat_summary()</code> indica que se usó <code>mean</code> y <code>sd</code> para calcular el centro y los extremos de la línea. Sin embargo, en el gráfico original se usaron el máximo y mínimo para los extremos.</p>
<p>Para recrear el gráfico original hay que especificar los valores de <code>fun.ymin</code>, <code>fun.ymax</code>, y <code>fun.y</code>.</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="visualización-de-datos.html#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> diamantes) <span class="sc">+</span></span>
<span id="cb41-2"><a href="visualización-de-datos.html#cb41-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_pointrange</span>(</span>
<span id="cb41-3"><a href="visualización-de-datos.html#cb41-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> corte, <span class="at">y =</span> profundidad),</span>
<span id="cb41-4"><a href="visualización-de-datos.html#cb41-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">stat =</span> <span class="st">&quot;summary&quot;</span>,</span>
<span id="cb41-5"><a href="visualización-de-datos.html#cb41-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">fun.ymin =</span> min,</span>
<span id="cb41-6"><a href="visualización-de-datos.html#cb41-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">fun.ymax =</span> max,</span>
<span id="cb41-7"><a href="visualización-de-datos.html#cb41-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">fun.y =</span> median</span>
<span id="cb41-8"><a href="visualización-de-datos.html#cb41-8" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb41-9"><a href="visualización-de-datos.html#cb41-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Warning: Ignoring unknown parameters: fun.ymin, fun.ymax, fun.y</span></span>
<span id="cb41-10"><a href="visualización-de-datos.html#cb41-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; No summary function supplied, defaulting to `mean_se()`</span></span></code></pre></div>
<p><img src="03-visualize_files/figure-html/unnamed-chunk-38-1.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
<ol start="2" style="list-style-type: decimal">
<li>¿Qué hace <code>geom_col()</code>? ¿Cómo es diferente a <code>geom_bar()</code>?</li>
</ol>
<div class="solucion">
<h3>
Solución
</h3>
<p>El estadístico por defecto en <code>geom_col()</code> es distinto de <code>geom_bar()</code>.</p>
<p><code>geom_col()</code> usa <code>stat_identity()</code>, que deja los datos sin transformar.</p>
<p><code>geom_col()</code> espera que los datos contengan los valores de <code>x</code> y los valores de <code>y</code> que representan la altura de las columnas.</p>
<p><code>geom_bar()</code> usa <code>stat_bin()</code> y espera únicamente los valores de <code>x</code>.</p>
<p><code>stat_bin()</code>, procesa los datos de entrada y realiza un conteo del número de observaciones para cada valor de <code>x</code>, lo cual genera la variable <code>y</code> internamente.</p>
</div>
<ol start="3" style="list-style-type: decimal">
<li>La mayoría de los geoms y las estadísticas vienen en pares que casi siempre se usan en conjunto.
Lee la documentación y has una lista de todos los pares. ¿Qué tienen en común?</li>
</ol>
<div class="solucion">
<h3>
Solución
</h3>
<p>Las siguiente tabla contienen los pares entre geometrías y estadísticos que se usan en conjunto.</p>
<table>
<thead>
<tr class="header">
<th>geometría</th>
<th>estadístico</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>geom_bar()</code></td>
<td><code>stat_count()</code></td>
</tr>
<tr class="even">
<td><code>geom_bin2d()</code></td>
<td><code>stat_bin_2d()</code></td>
</tr>
<tr class="odd">
<td><code>geom_boxplot()</code></td>
<td><code>stat_boxplot()</code></td>
</tr>
<tr class="even">
<td><code>geom_contour()</code></td>
<td><code>stat_contour()</code></td>
</tr>
<tr class="odd">
<td><code>geom_count()</code></td>
<td><code>stat_sum()</code></td>
</tr>
<tr class="even">
<td><code>geom_density()</code></td>
<td><code>stat_density()</code></td>
</tr>
<tr class="odd">
<td><code>geom_density_2d()</code></td>
<td><code>stat_density_2d()</code></td>
</tr>
<tr class="even">
<td><code>geom_hex()</code></td>
<td><code>stat_hex()</code></td>
</tr>
<tr class="odd">
<td><code>geom_freqpoly()</code></td>
<td><code>stat_bin()</code></td>
</tr>
<tr class="even">
<td><code>geom_histogram()</code></td>
<td><code>stat_bin()</code></td>
</tr>
<tr class="odd">
<td><code>geom_qq_line()</code></td>
<td><code>stat_qq_line()</code></td>
</tr>
<tr class="even">
<td><code>geom_qq()</code></td>
<td><code>stat_qq()</code></td>
</tr>
<tr class="odd">
<td><code>geom_quantile()</code></td>
<td><code>stat_quantile()</code></td>
</tr>
<tr class="even">
<td><code>geom_smooth()</code></td>
<td><code>stat_smooth()</code></td>
</tr>
<tr class="odd">
<td><code>geom_violin()</code></td>
<td><code>stat_violin()</code></td>
</tr>
<tr class="even">
<td><code>geom_sf()</code></td>
<td><code>stat_sf()</code></td>
</tr>
</tbody>
</table>
<p>Tabla: Geometrías y estadísticos complementarios</p>
<p>Los nombres tienen a ser similares, por ejemplo <code>geom_smooth()</code> y <code>stat_smooth()</code>, aunque hay casos como <code>geom_bar()</code> y <code>stat_count()</code>.</p>
<p>La mayoría de las geometrías usa por defecto el estadístico que le corresponde en la tabla anterior. Recíprocamente, la mayoría de los estadísticos usan por defecto la geometría que le corresponde en la tabla anterior.</p>
<p>Las siguientes tablas contienen las geometrías y estadísticos en <a href="https://ggplot2.tidyverse.org/reference/">ggplot2</a>.</p>
<table>
<thead>
<tr class="header">
<th align="left">geometría</th>
<th align="left">estadístico por defecto</th>
<th>documentación conjunta</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><code>geom_abline()</code></td>
<td align="left"></td>
<td></td>
</tr>
<tr class="even">
<td align="left"><code>geom_hline()</code></td>
<td align="left"></td>
<td></td>
</tr>
<tr class="odd">
<td align="left"><code>geom_vline()</code></td>
<td align="left"></td>
<td></td>
</tr>
<tr class="even">
<td align="left"><code>geom_bar()</code></td>
<td align="left"><code>stat_count()</code></td>
<td>x</td>
</tr>
<tr class="odd">
<td align="left"><code>geom_col()</code></td>
<td align="left"></td>
<td></td>
</tr>
<tr class="even">
<td align="left"><code>geom_bin2d()</code></td>
<td align="left"><code>stat_bin_2d()</code></td>
<td>x</td>
</tr>
<tr class="odd">
<td align="left"><code>geom_blank()</code></td>
<td align="left"></td>
<td></td>
</tr>
<tr class="even">
<td align="left"><code>geom_boxplot()</code></td>
<td align="left"><code>stat_boxplot()</code></td>
<td>x</td>
</tr>
<tr class="odd">
<td align="left"><code>geom_countour()</code></td>
<td align="left"><code>stat_countour()</code></td>
<td>x</td>
</tr>
<tr class="even">
<td align="left"><code>geom_count()</code></td>
<td align="left"><code>stat_sum()</code></td>
<td>x</td>
</tr>
<tr class="odd">
<td align="left"><code>geom_density()</code></td>
<td align="left"><code>stat_density()</code></td>
<td>x</td>
</tr>
<tr class="even">
<td align="left"><code>geom_density_2d()</code></td>
<td align="left"><code>stat_density_2d()</code></td>
<td>x</td>
</tr>
<tr class="odd">
<td align="left"><code>geom_dotplot()</code></td>
<td align="left"></td>
<td></td>
</tr>
<tr class="even">
<td align="left"><code>geom_errorbarh()</code></td>
<td align="left"></td>
<td></td>
</tr>
<tr class="odd">
<td align="left"><code>geom_hex()</code></td>
<td align="left"><code>stat_hex()</code></td>
<td>x</td>
</tr>
<tr class="even">
<td align="left"><code>geom_freqpoly()</code></td>
<td align="left"><code>stat_bin()</code></td>
<td>x</td>
</tr>
<tr class="odd">
<td align="left"><code>geom_histogram()</code></td>
<td align="left"><code>stat_bin()</code></td>
<td>x</td>
</tr>
<tr class="even">
<td align="left"><code>geom_crossbar()</code></td>
<td align="left"></td>
<td></td>
</tr>
<tr class="odd">
<td align="left"><code>geom_errorbar()</code></td>
<td align="left"></td>
<td></td>
</tr>
<tr class="even">
<td align="left"><code>geom_linerange()</code></td>
<td align="left"></td>
<td></td>
</tr>
<tr class="odd">
<td align="left"><code>geom_pointrange()</code></td>
<td align="left"></td>
<td></td>
</tr>
<tr class="even">
<td align="left"><code>geom_map()</code></td>
<td align="left"></td>
<td></td>
</tr>
<tr class="odd">
<td align="left"><code>geom_point()</code></td>
<td align="left"></td>
<td></td>
</tr>
<tr class="even">
<td align="left"><code>geom_map()</code></td>
<td align="left"></td>
<td></td>
</tr>
<tr class="odd">
<td align="left"><code>geom_path()</code></td>
<td align="left"></td>
<td></td>
</tr>
<tr class="even">
<td align="left"><code>geom_line()</code></td>
<td align="left"></td>
<td></td>
</tr>
<tr class="odd">
<td align="left"><code>geom_step()</code></td>
<td align="left"></td>
<td></td>
</tr>
<tr class="even">
<td align="left"><code>geom_point()</code></td>
<td align="left"></td>
<td></td>
</tr>
<tr class="odd">
<td align="left"><code>geom_polygon()</code></td>
<td align="left"></td>
<td></td>
</tr>
<tr class="even">
<td align="left"><code>geom_qq_line()</code></td>
<td align="left"><code>stat_qq_line()</code></td>
<td>x</td>
</tr>
<tr class="odd">
<td align="left"><code>geom_qq()</code></td>
<td align="left"><code>stat_qq()</code></td>
<td>x</td>
</tr>
<tr class="even">
<td align="left"><code>geom_quantile()</code></td>
<td align="left"><code>stat_quantile()</code></td>
<td>x</td>
</tr>
<tr class="odd">
<td align="left"><code>geom_ribbon()</code></td>
<td align="left"></td>
<td></td>
</tr>
<tr class="even">
<td align="left"><code>geom_area()</code></td>
<td align="left"></td>
<td></td>
</tr>
<tr class="odd">
<td align="left"><code>geom_rug()</code></td>
<td align="left"></td>
<td></td>
</tr>
<tr class="even">
<td align="left"><code>geom_smooth()</code></td>
<td align="left"><code>stat_smooth()</code></td>
<td>x</td>
</tr>
<tr class="odd">
<td align="left"><code>geom_spoke()</code></td>
<td align="left"></td>
<td></td>
</tr>
<tr class="even">
<td align="left"><code>geom_label()</code></td>
<td align="left"></td>
<td></td>
</tr>
<tr class="odd">
<td align="left"><code>geom_text()</code></td>
<td align="left"></td>
<td></td>
</tr>
<tr class="even">
<td align="left"><code>geom_raster()</code></td>
<td align="left"></td>
<td></td>
</tr>
<tr class="odd">
<td align="left"><code>geom_rect()</code></td>
<td align="left"></td>
<td></td>
</tr>
<tr class="even">
<td align="left"><code>geom_tile()</code></td>
<td align="left"></td>
<td></td>
</tr>
<tr class="odd">
<td align="left"><code>geom_violin()</code></td>
<td align="left"><code>stat_ydensity()</code></td>
<td>x</td>
</tr>
<tr class="even">
<td align="left"><code>geom_sf()</code></td>
<td align="left"><code>stat_sf()</code></td>
<td>x</td>
</tr>
</tbody>
</table>
<p>Tabla: ggplot2 capas de geometrías y sus estadísticos por defecto.</p>
<table>
<thead>
<tr class="header">
<th align="left">estadístico</th>
<th align="left">geometría por defecto</th>
<th>documentación conjunta</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><code>stat_ecdf()</code></td>
<td align="left"><code>geom_step()</code></td>
<td></td>
</tr>
<tr class="even">
<td align="left"><code>stat_ellipse()</code></td>
<td align="left"><code>geom_path()</code></td>
<td></td>
</tr>
<tr class="odd">
<td align="left"><code>stat_function()</code></td>
<td align="left"><code>geom_path()</code></td>
<td></td>
</tr>
<tr class="even">
<td align="left"><code>stat_identity()</code></td>
<td align="left"><code>geom_point()</code></td>
<td></td>
</tr>
<tr class="odd">
<td align="left"><code>stat_summary_2d()</code></td>
<td align="left"><code>geom_tile()</code></td>
<td></td>
</tr>
<tr class="even">
<td align="left"><code>stat_summary_hex()</code></td>
<td align="left"><code>geom_hex()</code></td>
<td></td>
</tr>
<tr class="odd">
<td align="left"><code>stat_summary_bin()</code></td>
<td align="left"><code>geom_pointrange()</code></td>
<td></td>
</tr>
<tr class="even">
<td align="left"><code>stat_summary()</code></td>
<td align="left"><code>geom_pointrange()</code></td>
<td></td>
</tr>
<tr class="odd">
<td align="left"><code>stat_unique()</code></td>
<td align="left"><code>geom_point()</code></td>
<td></td>
</tr>
<tr class="even">
<td align="left"><code>stat_count()</code></td>
<td align="left"><code>geom_bar()</code></td>
<td>x</td>
</tr>
<tr class="odd">
<td align="left"><code>stat_bin_2d()</code></td>
<td align="left"><code>geom_tile()</code></td>
<td>x</td>
</tr>
<tr class="even">
<td align="left"><code>stat_boxplot()</code></td>
<td align="left"><code>geom_boxplot()</code></td>
<td>x</td>
</tr>
<tr class="odd">
<td align="left"><code>stat_countour()</code></td>
<td align="left"><code>geom_contour()</code></td>
<td>x</td>
</tr>
<tr class="even">
<td align="left"><code>stat_sum()</code></td>
<td align="left"><code>geom_point()</code></td>
<td>x</td>
</tr>
<tr class="odd">
<td align="left"><code>stat_density()</code></td>
<td align="left"><code>geom_area()</code></td>
<td>x</td>
</tr>
<tr class="even">
<td align="left"><code>stat_density_2d()</code></td>
<td align="left"><code>geom_density_2d()</code></td>
<td>x</td>
</tr>
<tr class="odd">
<td align="left"><code>stat_bin_hex()</code></td>
<td align="left"><code>geom_hex()</code></td>
<td>x</td>
</tr>
<tr class="even">
<td align="left"><code>stat_bin()</code></td>
<td align="left"><code>geom_bar()</code></td>
<td>x</td>
</tr>
<tr class="odd">
<td align="left"><code>stat_qq_line()</code></td>
<td align="left"><code>geom_path()</code></td>
<td>x</td>
</tr>
<tr class="even">
<td align="left"><code>stat_qq()</code></td>
<td align="left"><code>geom_point()</code></td>
<td>x</td>
</tr>
<tr class="odd">
<td align="left"><code>stat_quantile()</code></td>
<td align="left"><code>geom_quantile()</code></td>
<td>x</td>
</tr>
<tr class="even">
<td align="left"><code>stat_smooth()</code></td>
<td align="left"><code>geom_smooth()</code></td>
<td>x</td>
</tr>
<tr class="odd">
<td align="left"><code>stat_ydensity()</code></td>
<td align="left"><code>geom_violin()</code></td>
<td>x</td>
</tr>
<tr class="even">
<td align="left"><code>stat_sf()</code></td>
<td align="left"><code>geom_rect()</code></td>
<td>x</td>
</tr>
</tbody>
</table>
<p>Tabla: ggplot2 capas de estadísticos y sus geometrías por defecto.</p>
</div>
<ol start="4" style="list-style-type: decimal">
<li>¿Qué variables calcula <code>stat_smooth()</code>? ¿Qué parámetros controlan su comportamiento?</li>
</ol>
<div class="solucion">
<h3>
Solución
</h3>
<p>La función <code>stat_smooth()</code> calcula las siguientes variables:</p>
<ul>
<li><code>y</code>: valor predicho</li>
<li><code>ymin</code>: menor valor del intervalo de confianza</li>
<li><code>ymax</code>: mayor valor del intervalo de confianza</li>
<li><code>se</code>: error estándar</li>
</ul>
<p>La sección “Computed Variables” en la documentación de <code>stat_smooth()</code> contiene estas variables.</p>
<p>Los parámetros que controlan <code>stat_smooth()</code> incluyen</p>
<ul>
<li><code>method</code>: cuál método utilizar</li>
<li><code>formula</code>: las fórmulas, al igual que <code>method</code>, determinan cómo se hará el cálculo del intervalo de confianza y los argumentos adicionales que se requieran.</li>
<li><code>na.rm</code>: si acaso se eliminarán los casos perdidos</li>
</ul>
</div>
<ol start="5" style="list-style-type: decimal">
<li><p>En nuestro gráfico de barras de proporción , necesitamos establecer <code>group = 1</code>. ¿Por qué?
En otras palabras, ¿cuál es el problema con estos dos gráficos?</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="visualización-de-datos.html#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> diamantes) <span class="sc">+</span></span>
<span id="cb42-2"><a href="visualización-de-datos.html#cb42-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> corte, <span class="at">y =</span> ..prop..))</span>
<span id="cb42-3"><a href="visualización-de-datos.html#cb42-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-4"><a href="visualización-de-datos.html#cb42-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> diamantes) <span class="sc">+</span></span>
<span id="cb42-5"><a href="visualización-de-datos.html#cb42-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> corte, <span class="at">fill =</span> color, <span class="at">y =</span> ..prop..))</span></code></pre></div></li>
</ol>
<div class="solucion">
<h3>
Solución
</h3>
<p>Si no se incluye <code>group = 1</code>, todas las baras en el gráfico tendrán altura 1.</p>
<p>La función <code>geom_bar()</code> asume que los grupos son iguales a los valores de <code>x</code> dado que el estadístico realiza un conteo dentro de los grupos.</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="visualización-de-datos.html#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> diamantes) <span class="sc">+</span></span>
<span id="cb43-2"><a href="visualización-de-datos.html#cb43-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> corte, <span class="at">y =</span> ..prop..))</span></code></pre></div>
<p><img src="03-visualize_files/figure-html/unnamed-chunk-40-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>El problema con estos gráficos es que las proporciones se calculan dentro de los grupos.</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="visualización-de-datos.html#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> diamantes) <span class="sc">+</span></span>
<span id="cb44-2"><a href="visualización-de-datos.html#cb44-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> corte, <span class="at">y =</span> ..prop..))</span>
<span id="cb44-3"><a href="visualización-de-datos.html#cb44-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-4"><a href="visualización-de-datos.html#cb44-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> diamantes) <span class="sc">+</span></span>
<span id="cb44-5"><a href="visualización-de-datos.html#cb44-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> corte, <span class="at">fill =</span> color, <span class="at">y =</span> ..prop..))</span></code></pre></div>
<p><img src="03-visualize_files/figure-html/unnamed-chunk-41-1.png" width="70%" style="display: block; margin: auto;" /><img src="03-visualize_files/figure-html/unnamed-chunk-41-2.png" width="70%" style="display: block; margin: auto;" /></p>
<p>El siguiente código generará el gráfico buscado sin relleno.</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="visualización-de-datos.html#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> diamantes) <span class="sc">+</span></span>
<span id="cb45-2"><a href="visualización-de-datos.html#cb45-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> corte, <span class="at">y =</span> ..prop.., <span class="at">group =</span> <span class="dv">1</span>))</span></code></pre></div>
<p><img src="03-visualize_files/figure-html/unnamed-chunk-42-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Con el argumento <code>fill</code>, es necesario normalizar las barras.</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="visualización-de-datos.html#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> diamantes) <span class="sc">+</span> </span>
<span id="cb46-2"><a href="visualización-de-datos.html#cb46-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">x =</span> corte, <span class="at">y =</span> ..count.. <span class="sc">/</span> <span class="fu">sum</span>(..count..), <span class="at">fill =</span> color))</span></code></pre></div>
<p><img src="03-visualize_files/figure-html/unnamed-chunk-43-1.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
</div>
</div>
<div id="ajustes-posicion" class="section level2 unnumbered">
<h2>3.8 Ajustes de posición</h2>
<div id="ejercicios-381" class="section level3 unnumbered">
<h3>3.8.1 Ejercicios</h3>
<ol style="list-style-type: decimal">
<li><p>¿Cuál es el problema con este gráfico? ¿Cómo podrías mejorarlo?</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="visualización-de-datos.html#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> millas, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> ciudad, <span class="at">y =</span> autopista)) <span class="sc">+</span></span>
<span id="cb47-2"><a href="visualización-de-datos.html#cb47-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code></pre></div>
<p><img src="03-visualize_files/figure-html/unnamed-chunk-44-1.png" width="70%" style="display: block; margin: auto;" /></p></li>
</ol>
<div class="solucion">
<h3>
Solución
</h3>
<p>Existe superposición ya que hay múltiples observaciones para cada combinación de <code>ciudad</code> y <code>autopista</code>.</p>
<p>Se puede mejorar el gráfico usando el argumento de distorsión y así reducir la superposición.</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="visualización-de-datos.html#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> millas, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> ciudad, <span class="at">y =</span> autopista)) <span class="sc">+</span></span>
<span id="cb48-2"><a href="visualización-de-datos.html#cb48-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">position =</span> <span class="st">&quot;jitter&quot;</span>)</span></code></pre></div>
<p><img src="03-visualize_files/figure-html/unnamed-chunk-45-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>La relación entre <code>ciudad</code> y <code>autopista</code> es clara, incluso sin el argumento de distorsión, que en este caso deja en claro donde se concentran las observaciones.</p>
</div>
<ol start="2" style="list-style-type: decimal">
<li>¿Qué parámetros de <code>geom_jitter()</code> controlan la cantidad de ruido?</li>
</ol>
<div class="solucion">
<h3>
Solución
</h3>
<p>A partir de la documentación de <a href="https://ggplot2.tidyverse.org/reference/geom_jitter.html"><code>geom_jitter()</code></a>, existen dos argumentos:</p>
<ul>
<li><code>width</code> controla el desplazamiento vertical</li>
<li><code>height</code> controla el desplazamiento horizontal</li>
</ul>
<p>Los valores por defecto de <code>width</code> y <code>height</code> introducen ruido en ambas direcciones.</p>
<p>Así se ve el gráfico con las opciones por defecto.</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="visualización-de-datos.html#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> millas, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> ciudad, <span class="at">y =</span> autopista)) <span class="sc">+</span></span>
<span id="cb49-2"><a href="visualización-de-datos.html#cb49-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">position =</span> <span class="fu">position_jitter</span>())</span></code></pre></div>
<p><img src="03-visualize_files/figure-html/unnamed-chunk-46-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Con <code>width = 0</code> se elimina la distorsión horizontal.</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="visualización-de-datos.html#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> millas, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> ciudad, <span class="at">y =</span> autopista)) <span class="sc">+</span></span>
<span id="cb50-2"><a href="visualización-de-datos.html#cb50-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="at">width =</span> <span class="dv">0</span>)</span></code></pre></div>
<p><img src="03-visualize_files/figure-html/unnamed-chunk-47-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Con <code>width = 20</code> se agrega mucha distorsión.</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="visualización-de-datos.html#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> millas, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> ciudad, <span class="at">y =</span> autopista)) <span class="sc">+</span></span>
<span id="cb51-2"><a href="visualización-de-datos.html#cb51-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="at">width =</span> <span class="dv">20</span>)</span></code></pre></div>
<p><img src="03-visualize_files/figure-html/unnamed-chunk-48-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Es análogo para <code>height</code>.</p>
<p>Hay que notar que <code>width</code> y <code>height</code> se expresan en las mismas unidades que los datos, por lo que <code>height = 1</code> o <code>width = 1</code> corresponden a diferentes valores relativos de distorsión dependiendo de las escalas de <code>x</code> e <code>y</code>.</p>
<p>Los valores por defecto son 80% de la resolución (<code>resolution()</code>) de los datos. Cuando <code>x</code> e <code>y</code> son discretas, su resolución es igual a uno, y los valores por defecto son <code>height = 0.4</code> y <code>width = 0.4</code> ya que la distorsión mueve los puntos en dirección positiva y negativa.</p>
</div>
<ol start="3" style="list-style-type: decimal">
<li>Compara y contrasta <code>geom_jitter()</code> con <code>geom_count()</code></li>
</ol>
<div class="solucion">
<h3>
Solución
</h3>
<p><code>geom_jitter()</code> agrega una variación al azar a los puntos del gráfico, es decir que distorsiona la ubicación de los puntos en el gráfico. Este método reduce la superposición ya que es poco probable que al mover los puntos al azar estos queden en la misma ubicación. Sin embargo, el problema de reducir la superposición es que se distorsionan los valores mostrados de <code>x</code> e <code>y</code>.</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="visualización-de-datos.html#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> millas, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> ciudad, <span class="at">y =</span> autopista)) <span class="sc">+</span></span>
<span id="cb52-2"><a href="visualización-de-datos.html#cb52-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>()</span></code></pre></div>
<p><img src="03-visualize_files/figure-html/unnamed-chunk-49-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p><code>geom_count()</code> cambia el tamaño de los puntos relativo a la cantidad de observaciones. Las combinaciones de <code>x</code> e <code>y</code> con más observaciones tendrán un mayor tamaño. Esto no distorsiona los valores, pero tiene el problema de que el tamaño de los puntos puede generar superposición si los puntos son cercanos.</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="visualización-de-datos.html#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> millas, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> ciudad, <span class="at">y =</span> autopista)) <span class="sc">+</span></span>
<span id="cb53-2"><a href="visualización-de-datos.html#cb53-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_count</span>()</span></code></pre></div>
<p><img src="03-visualize_files/figure-html/unnamed-chunk-50-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Por ejemplo, <code>geom_count()</code> puede ser menos legible que <code>geom_jitter()</code> si se agrega un argumento de color.</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="visualización-de-datos.html#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> millas, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> ciudad, <span class="at">y =</span> autopista, <span class="at">color =</span> clase)) <span class="sc">+</span></span>
<span id="cb54-2"><a href="visualización-de-datos.html#cb54-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>()</span>
<span id="cb54-3"><a href="visualización-de-datos.html#cb54-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-4"><a href="visualización-de-datos.html#cb54-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> millas, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> ciudad, <span class="at">y =</span> autopista, <span class="at">color =</span> clase)) <span class="sc">+</span></span>
<span id="cb54-5"><a href="visualización-de-datos.html#cb54-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_count</span>()</span></code></pre></div>
<p><img src="03-visualize_files/figure-html/unnamed-chunk-51-1.png" width="70%" style="display: block; margin: auto;" /><img src="03-visualize_files/figure-html/unnamed-chunk-51-2.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Este ejemplo muestra que no existe una solución universal. El coste y beneficio de cada enfoque depende de la estructura de los datos y del objetivo.</p>
</div>
<ol start="4" style="list-style-type: decimal">
<li>¿Cuál es el ajuste de posición predeterminado de <code>geom_boxplot()</code>? Crea una visualización del conjunto de datos de <code>millas</code> que lo demuestre.</li>
</ol>
<div class="solucion">
<h3>
Solución
</h3>
<p>La posición por defecto para <code>geom_boxplot()</code> es <code>"dodge2"</code>, que es un atajo de <code>position_dodge2</code>.</p>
<p>Este ajuste no cambia la posición vertical pero mueve las geometrías horizontalmente para evitar la superposición.</p>
<p>Consulta la documentación de <a href="https://ggplot2.tidyverse.org/reference/position_dodge.html"><code>position_dodge2()</code></a> para los detalles específicos.</p>
<p>Si agregamos <code>colour = clase</code> a un diagrama de cajas, los niveles de <code>transmision</code> se ubican lado a lado.</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="visualización-de-datos.html#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> millas, <span class="fu">aes</span>(<span class="at">x =</span> transmision, <span class="at">y =</span> autopista, <span class="at">colour =</span> clase)) <span class="sc">+</span></span>
<span id="cb55-2"><a href="visualización-de-datos.html#cb55-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>()</span></code></pre></div>
<p><img src="03-visualize_files/figure-html/unnamed-chunk-52-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Si se usa <code>position_identity()</code> habrá superposición.</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="visualización-de-datos.html#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> millas, <span class="fu">aes</span>(<span class="at">x =</span> transmision, <span class="at">y =</span> autopista, <span class="at">colour =</span> clase)) <span class="sc">+</span></span>
<span id="cb56-2"><a href="visualización-de-datos.html#cb56-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">position =</span> <span class="st">&quot;identity&quot;</span>)</span></code></pre></div>
<p><img src="03-visualize_files/figure-html/unnamed-chunk-53-1.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
</div>
</div>
<div id="sistemas-coordenadas" class="section level2 unnumbered">
<h2>3.9 Sistemas de coordenadas</h2>
<div id="ejercicios-391" class="section level3 unnumbered">
<h3>3.9.1 Ejercicios</h3>
<ol style="list-style-type: decimal">
<li>Convierte un gráfico de barras apiladas en un gráfico circular usando <code>coord_polar()</code>.</li>
</ol>
<div class="solucion">
<h3>
Solución
</h3>
<p>Un gráfico de torta es un gráfico de barras aplicadas con la adición de coordenadas polares.</p>
<p>Partamos del siguiente ejemplo:</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="visualización-de-datos.html#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(millas, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">factor</span>(<span class="dv">1</span>), <span class="at">fill =</span> traccion)) <span class="sc">+</span></span>
<span id="cb57-2"><a href="visualización-de-datos.html#cb57-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>()</span></code></pre></div>
<p><img src="03-visualize_files/figure-html/unnamed-chunk-54-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Ahora agregamos <code>coord_polar(theta="y")</code> para crear el gráfico de torta:</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="visualización-de-datos.html#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(millas, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">factor</span>(<span class="dv">1</span>), <span class="at">fill =</span> traccion)) <span class="sc">+</span></span>
<span id="cb58-2"><a href="visualización-de-datos.html#cb58-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">width =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb58-3"><a href="visualización-de-datos.html#cb58-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_polar</span>(<span class="at">theta =</span> <span class="st">&quot;y&quot;</span>)</span></code></pre></div>
<p><img src="03-visualize_files/figure-html/unnamed-chunk-55-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>El argumento <code>theta = "y"</code> transforma <code>y</code> en el ángulo de cada sección.
Si <code>coord_polar()</code> se especifica sin <code>theta = "y"</code>, el resultado se llama “ojo de buey”.</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="visualización-de-datos.html#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(millas, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">factor</span>(<span class="dv">1</span>), <span class="at">fill =</span> traccion)) <span class="sc">+</span></span>
<span id="cb59-2"><a href="visualización-de-datos.html#cb59-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">width =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb59-3"><a href="visualización-de-datos.html#cb59-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_polar</span>()</span></code></pre></div>
<p><img src="03-visualize_files/figure-html/unnamed-chunk-56-1.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
<ol start="2" style="list-style-type: decimal">
<li>¿Qué hace <code>labs()</code>? Lee la documentación.</li>
</ol>
<div class="solucion">
<h3>
Solución
</h3>
<p><code>labs</code> agrega los títulos de los ejes, título del gráfico y la leyenda.</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="visualización-de-datos.html#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> millas, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> clase, <span class="at">y =</span> autopista)) <span class="sc">+</span></span>
<span id="cb60-2"><a href="visualización-de-datos.html#cb60-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb60-3"><a href="visualización-de-datos.html#cb60-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb60-4"><a href="visualización-de-datos.html#cb60-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">&quot;Millas por Galón en Autopista&quot;</span>,</span>
<span id="cb60-5"><a href="visualización-de-datos.html#cb60-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">&quot;Clase&quot;</span>,</span>
<span id="cb60-6"><a href="visualización-de-datos.html#cb60-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">&quot;Millas por Galón en Autopista por Tipo de Vehículo&quot;</span>,</span>
<span id="cb60-7"><a href="visualización-de-datos.html#cb60-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">&quot;1999-2008&quot;</span>,</span>
<span id="cb60-8"><a href="visualización-de-datos.html#cb60-8" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> <span class="st">&quot;Fuente: http://fueleconomy.gov&quot;</span>)</span></code></pre></div>
<p><img src="03-visualize_files/figure-html/unnamed-chunk-57-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p><code>labs()</code> no es la única función para agregar títulos. <code>xlab()</code>, <code>ylab()</code> y <code>ggtitle()</code> realizan la misma función.</p>
</div>
<ol start="3" style="list-style-type: decimal">
<li>¿Cuál es la diferencia entre <code>coord_quickmap()</code> y <code>coord_map()</code>?</li>
</ol>
<div class="solucion">
<h3>
Solución
</h3>
<p><code>coord_map()</code> usa una proyección cartográfica para proyectar la Tierra sobre una superficie bidimensional. Por defecto usa la <a href="https://es.wikipedia.org/wiki/Proyecci%C3%B3n_de_Mercator">Proyección de Mercator</a>, la cual se aplica a todas las geometrías del gráfico.</p>
<p><code>coord_quickmap()</code> usa una aproximación más rápida que ignora la curvatura de la tierra y ajusta de acuerdo a la razón de latitud y longitud. Esta es una alternativa computacionalmente más rápida que no genera la necesidad de transformar las geometrías individuales.</p>
<p>Consulta <a href="https://ggplot2.tidyverse.org/reference/coord_map.html">coord_map()</a> para la documentación y ejemplos.</p>
</div>
<ol start="4" style="list-style-type: decimal">
<li><p>¿Qué te dice la gráfica siguiente sobre la relación entre la ciudad y la <code>autopista</code>? ¿Por qué es <code>coord_fixed()</code> importante? ¿Qué hace <code>geom_abline()</code>?</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="visualización-de-datos.html#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> millas, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> ciudad, <span class="at">y =</span> autopista)) <span class="sc">+</span></span>
<span id="cb61-2"><a href="visualización-de-datos.html#cb61-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb61-3"><a href="visualización-de-datos.html#cb61-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_abline</span>() <span class="sc">+</span></span>
<span id="cb61-4"><a href="visualización-de-datos.html#cb61-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_fixed</span>()</span></code></pre></div>
<p><img src="03-visualize_files/figure-html/unnamed-chunk-58-1.png" width="50%" style="display: block; margin: auto;" /></p></li>
</ol>
<div class="solucion">
<h3>
Solución
</h3>
<p>La función <code>coord_fixed()</code> asegura que la línea que genera <code>geom_abline()</code> tenga un ángulo de 45 grados. De este modo es más fácil comparar a partir de los casos en que los rendimientos en autopista y ciudad son iguales.</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="visualización-de-datos.html#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> millas, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> ciudad, <span class="at">y =</span> autopista)) <span class="sc">+</span></span>
<span id="cb62-2"><a href="visualización-de-datos.html#cb62-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb62-3"><a href="visualización-de-datos.html#cb62-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_abline</span>() <span class="sc">+</span></span>
<span id="cb62-4"><a href="visualización-de-datos.html#cb62-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_fixed</span>()</span></code></pre></div>
<p><img src="03-visualize_files/figure-html/unnamed-chunk-59-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Lo que podemos ver es que en todos los modelos el rendimiento en autopista es superior al rendmiento en ciudad.</p>
</div>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="introducción-1.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="flujo-de-trabajo-conocimientos-básicos.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
